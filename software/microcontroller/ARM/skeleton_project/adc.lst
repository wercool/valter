   1              		.code	16
   2              		.file	"adc.c"
  10              	.Ltext0:
  11              		.section	.text.InitADC,"ax",%progbits
  12              		.align	2
  13              		.global	InitADC
  14              		.code 16
  15              		.thumb_func
  17              	InitADC:
  18              	.LFB2:
  19              		.file 1 "adc.c"
   1:adc.c         **** //adc.c
   2:adc.c         **** #include "adc.h"
   3:adc.c         **** 
   4:adc.c         **** AT91PS_ADC a_pADC = AT91C_BASE_ADC;
   5:adc.c         **** AT91PS_PMC a_pPMC = AT91C_BASE_PMC;
   6:adc.c         **** 
   7:adc.c         **** 
   8:adc.c         **** void InitADC(void) {
  20              		.loc 1 8 0
   9:adc.c         **** 
  10:adc.c         ****   //a_pPMC->PMC_PCER = 1 << AT91C_ID_ADC;
  11:adc.c         ****   a_pADC->ADC_CR = 0x2;   // set Start Bit
  21              		.loc 1 11 0
  22 0000 044B     		ldr	r3, .L3
  23 0002 1A68     		ldr	r2, [r3]
  24 0004 0223     		mov	r3, #2
  25 0006 1360     		str	r3, [r2]
  12:adc.c         ****   a_pADC->ADC_MR = 0x3f00;   // set mode register, 10bit chanel, MCK/128
  26              		.loc 1 12 0
  27 0008 FC23     		mov	r3, #252
  28 000a 9B01     		lsl	r3, r3, #6
  29 000c 5360     		str	r3, [r2, #4]
  13:adc.c         ****   a_pADC->ADC_CHER = (1 << 4) | (1 << 5) | (1 << 6); // enable chanel 4 and 5 and 6 and 7
  30              		.loc 1 13 0
  31 000e 7023     		mov	r3, #112
  32              		.loc 1 8 0
  33              		@ lr needed for prologue
  34              		.loc 1 13 0
  35 0010 1361     		str	r3, [r2, #16]
  14:adc.c         **** }
  36              		.loc 1 14 0
  37              		@ sp needed for prologue
  38 0012 7047     		bx	lr
  39              	.L4:
  40              		.align	2
  41              	.L3:
  42 0014 00000000 		.word	a_pADC
  43              	.LFE2:
  45              		.section	.text.GetValue_chanel4,"ax",%progbits
  46              		.align	2
  47              		.global	GetValue_chanel4
  48              		.code 16
  49              		.thumb_func
  51              	GetValue_chanel4:
  52              	.LFB3:
  15:adc.c         **** 
  16:adc.c         **** 
  17:adc.c         **** unsigned int GetValue_chanel4() {
  53              		.loc 1 17 0
  18:adc.c         ****   a_pADC->ADC_CR = 0x2; // set Start Bit
  54              		.loc 1 18 0
  55 0000 044B     		ldr	r3, .L11
  56 0002 1A68     		ldr	r2, [r3]
  57 0004 0223     		mov	r3, #2
  58 0006 1360     		str	r3, [r2]
  59              		.loc 1 17 0
  60              		@ lr needed for prologue
  61              	.L6:
  19:adc.c         ****   while(!(a_pADC->ADC_SR&0x10)); //wait until conversion complete
  62              		.loc 1 19 0
  63 0008 D369     		ldr	r3, [r2, #28]
  64 000a D906     		lsl	r1, r3, #27
  65 000c FCD5     		bpl	.L6
  20:adc.c         ****   return a_pADC->ADC_CDR4;
  66              		.loc 1 20 0
  67 000e 106C     		ldr	r0, [r2, #64]
  21:adc.c         **** }
  68              		.loc 1 21 0
  69              		@ sp needed for prologue
  70 0010 7047     		bx	lr
  71              	.L12:
  72 0012 0000     		.align	2
  73              	.L11:
  74 0014 00000000 		.word	a_pADC
  75              	.LFE3:
  77              		.section	.text.GetValue_chanel5,"ax",%progbits
  78              		.align	2
  79              		.global	GetValue_chanel5
  80              		.code 16
  81              		.thumb_func
  83              	GetValue_chanel5:
  84              	.LFB4:
  22:adc.c         **** 
  23:adc.c         **** unsigned int GetValue_chanel5() {
  85              		.loc 1 23 0
  24:adc.c         ****   a_pADC->ADC_CR = 0x2; // set Start Bit
  86              		.loc 1 24 0
  87 0000 044B     		ldr	r3, .L19
  88 0002 1A68     		ldr	r2, [r3]
  89 0004 0223     		mov	r3, #2
  90 0006 1360     		str	r3, [r2]
  91              		.loc 1 23 0
  92              		@ lr needed for prologue
  93              	.L14:
  25:adc.c         ****   while(!(a_pADC->ADC_SR&0x10)); //wait until conversion complete
  94              		.loc 1 25 0
  95 0008 D369     		ldr	r3, [r2, #28]
  96 000a D906     		lsl	r1, r3, #27
  97 000c FCD5     		bpl	.L14
  26:adc.c         ****   return a_pADC->ADC_CDR5;
  98              		.loc 1 26 0
  99 000e 506C     		ldr	r0, [r2, #68]
  27:adc.c         **** }
 100              		.loc 1 27 0
 101              		@ sp needed for prologue
 102 0010 7047     		bx	lr
 103              	.L20:
 104 0012 0000     		.align	2
 105              	.L19:
 106 0014 00000000 		.word	a_pADC
 107              	.LFE4:
 109              		.section	.text.GetValue_chanel6,"ax",%progbits
 110              		.align	2
 111              		.global	GetValue_chanel6
 112              		.code 16
 113              		.thumb_func
 115              	GetValue_chanel6:
 116              	.LFB5:
  28:adc.c         **** 
  29:adc.c         **** unsigned int GetValue_chanel6() {
 117              		.loc 1 29 0
  30:adc.c         ****   a_pADC->ADC_CR = 0x2; // set Start Bit
 118              		.loc 1 30 0
 119 0000 044B     		ldr	r3, .L27
 120 0002 1A68     		ldr	r2, [r3]
 121 0004 0223     		mov	r3, #2
 122 0006 1360     		str	r3, [r2]
 123              		.loc 1 29 0
 124              		@ lr needed for prologue
 125              	.L22:
  31:adc.c         ****   while(!(a_pADC->ADC_SR&0x10)); //wait until conversion complete
 126              		.loc 1 31 0
 127 0008 D369     		ldr	r3, [r2, #28]
 128 000a D906     		lsl	r1, r3, #27
 129 000c FCD5     		bpl	.L22
  32:adc.c         ****   return a_pADC->ADC_CDR6;
 130              		.loc 1 32 0
 131 000e 906C     		ldr	r0, [r2, #72]
  33:adc.c         **** }
 132              		.loc 1 33 0
 133              		@ sp needed for prologue
 134 0010 7047     		bx	lr
 135              	.L28:
 136 0012 0000     		.align	2
 137              	.L27:
 138 0014 00000000 		.word	a_pADC
 139              	.LFE5:
 141              		.global	a_pADC
 142              		.section	.data.a_pADC,"aw",%progbits
 143              		.align	2
 146              	a_pADC:
 147 0000 0080FDFF 		.word	-163840
 148              		.global	a_pPMC
 149              		.section	.data.a_pPMC,"aw",%progbits
 150              		.align	2
 153              	a_pPMC:
 154 0000 00FCFFFF 		.word	-1024
 204              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 adc.c
     /tmp/ccCEDTvd.s:1      .text:00000000 $t
     /tmp/ccCEDTvd.s:17     .text.InitADC:00000000 InitADC
     /tmp/ccCEDTvd.s:14     .text.InitADC:00000000 $t
     /tmp/ccCEDTvd.s:42     .text.InitADC:00000014 $d
     /tmp/ccCEDTvd.s:146    .data.a_pADC:00000000 a_pADC
     /tmp/ccCEDTvd.s:51     .text.GetValue_chanel4:00000000 GetValue_chanel4
     /tmp/ccCEDTvd.s:48     .text.GetValue_chanel4:00000000 $t
     /tmp/ccCEDTvd.s:74     .text.GetValue_chanel4:00000014 $d
     /tmp/ccCEDTvd.s:83     .text.GetValue_chanel5:00000000 GetValue_chanel5
     /tmp/ccCEDTvd.s:80     .text.GetValue_chanel5:00000000 $t
     /tmp/ccCEDTvd.s:106    .text.GetValue_chanel5:00000014 $d
     /tmp/ccCEDTvd.s:115    .text.GetValue_chanel6:00000000 GetValue_chanel6
     /tmp/ccCEDTvd.s:112    .text.GetValue_chanel6:00000000 $t
     /tmp/ccCEDTvd.s:138    .text.GetValue_chanel6:00000014 $d
     /tmp/ccCEDTvd.s:147    .data.a_pADC:00000000 $d
     /tmp/ccCEDTvd.s:153    .data.a_pPMC:00000000 a_pPMC
     /tmp/ccCEDTvd.s:154    .data.a_pPMC:00000000 $d

NO UNDEFINED SYMBOLS
