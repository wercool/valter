   1              		.file	"main.c"
   9              	.Ltext0:
  10              		.align	2
  12              	AT91F_AIC_ConfigureIt:
  13              	.LFB2:
  14              		.file 1 "lib_AT91SAM7S64.h"
   1:lib_AT91SAM7S64.h **** //* ----------------------------------------------------------------------------
   2:lib_AT91SAM7S64.h **** //*         ATMEL Microcontroller Software Support  -  ROUSSET  -
   3:lib_AT91SAM7S64.h **** //* ----------------------------------------------------------------------------
   4:lib_AT91SAM7S64.h **** //* DISCLAIMER:  THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR
   5:lib_AT91SAM7S64.h **** //* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
   6:lib_AT91SAM7S64.h **** //* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
   7:lib_AT91SAM7S64.h **** //* DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT, INDIRECT,
   8:lib_AT91SAM7S64.h **** //* INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
   9:lib_AT91SAM7S64.h **** //* LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  10:lib_AT91SAM7S64.h **** //* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  11:lib_AT91SAM7S64.h **** //* LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  12:lib_AT91SAM7S64.h **** //* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  13:lib_AT91SAM7S64.h **** //* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  14:lib_AT91SAM7S64.h **** //* ----------------------------------------------------------------------------
  15:lib_AT91SAM7S64.h **** //* File Name           : lib_AT91SAM7S64.h
  16:lib_AT91SAM7S64.h **** //* Object              : AT91SAM7S64 inlined functions
  17:lib_AT91SAM7S64.h **** //* Generated           : AT91 SW Application Group  08/30/2005 (15:52:59)
  18:lib_AT91SAM7S64.h **** //*
  19:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_dbgu.h/1.1/Thu Aug 25 12:56:22 2005//
  20:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_pmc_SAM7S.h/1.4/Tue Aug 30 13:00:43 2005//
  21:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_VREG_6085B.h/1.1/Tue Feb  1 16:20:47 2005//
  22:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_rstc_6098A.h/1.1/Wed Oct  6 10:39:20 2004//
  23:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_ssc.h/1.4/Fri Jan 31 12:19:20 2003//
  24:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_wdtc_6080A.h/1.1/Wed Oct  6 10:38:30 2004//
  25:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_usart.h/1.5/Thu Nov 21 16:01:54 2002//
  26:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_spi2.h/1.2/Tue Aug 23 15:37:28 2005//
  27:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_pitc_6079A.h/1.2/Tue Nov  9 14:43:56 2004//
  28:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_aic_6075b.h/1.2/Thu Jul  7 07:48:22 2005//
  29:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_twi.h/1.3/Mon Jul 19 14:27:58 2004//
  30:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_adc.h/1.6/Fri Oct 17 09:12:38 2003//
  31:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_rttc_6081A.h/1.1/Wed Oct  6 10:39:38 2004//
  32:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_udp.h/1.5/Tue Aug 30 12:13:47 2005//
  33:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_tc_1753b.h/1.1/Fri Jan 31 12:20:02 2003//
  34:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_MC_SAM7S.h/1.1/Thu Mar 25 15:19:14 2004//
  35:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_pio.h/1.3/Fri Jan 31 12:18:56 2003//
  36:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_PWM_SAM.h/1.3/Thu Jan 22 10:10:50 2004//
  37:lib_AT91SAM7S64.h **** //* CVS Reference       : /lib_pdc.h/1.2/Tue Jul  2 13:29:40 2002//
  38:lib_AT91SAM7S64.h **** //* ----------------------------------------------------------------------------
  39:lib_AT91SAM7S64.h **** 
  40:lib_AT91SAM7S64.h **** #ifndef lib_AT91SAM7S64_H
  41:lib_AT91SAM7S64.h **** #define lib_AT91SAM7S64_H
  42:lib_AT91SAM7S64.h **** 
  43:lib_AT91SAM7S64.h **** /* *****************************************************************************
  44:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR AIC
  45:lib_AT91SAM7S64.h ****    ***************************************************************************** */
  46:lib_AT91SAM7S64.h **** #define AT91C_AIC_BRANCH_OPCODE ((void (*) ()) 0xE51FFF20) // ldr, pc, [pc, #-&F20]
  47:lib_AT91SAM7S64.h **** 
  48:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  49:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_ConfigureIt
  50:lib_AT91SAM7S64.h **** //* \brief Interrupt Handler Initialization
  51:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  52:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_AIC_ConfigureIt (
  53:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,  // \arg pointer to the AIC registers
  54:lib_AT91SAM7S64.h **** 	unsigned int irq_id,     // \arg interrupt number to initialize
  55:lib_AT91SAM7S64.h **** 	unsigned int priority,   // \arg priority to give to the interrupt
  56:lib_AT91SAM7S64.h **** 	unsigned int src_type,   // \arg activation and sense of activation
  57:lib_AT91SAM7S64.h **** 	void (*newHandler) () ) // \arg address of the interrupt handler
  58:lib_AT91SAM7S64.h **** {
  15              		.loc 1 58 0
  16              		@ Function supports interworking.
  17              		@ args = 4, pretend = 0, frame = 0
  18              		@ frame_needed = 0, uses_anonymous_args = 0
  19              	.LVL0:
  59:lib_AT91SAM7S64.h **** 	unsigned int oldHandler;
  60:lib_AT91SAM7S64.h ****     unsigned int mask ;
  61:lib_AT91SAM7S64.h **** 
  62:lib_AT91SAM7S64.h ****     oldHandler = pAic->AIC_SVR[irq_id];
  63:lib_AT91SAM7S64.h **** 
  64:lib_AT91SAM7S64.h ****     mask = 0x1 << irq_id ;
  20              		.loc 1 64 0
  21 0000 01C0A0E3 		mov	ip, #1
  22 0004 1CC1A0E1 		mov	ip, ip, asl r1
  23              	.LVL1:
  24              		.loc 1 58 0
  25 0008 10402DE9 		stmfd	sp!, {r4, lr}
  26              	.LCFI0:
  27              		.loc 1 62 0
  28 000c 01E180E0 		add	lr, r0, r1, asl #2
  29 0010 80409EE5 		ldr	r4, [lr, #128]
  30              	.LVL2:
  65:lib_AT91SAM7S64.h ****     //* Disable the interrupt on the interrupt controller
  66:lib_AT91SAM7S64.h ****     pAic->AIC_IDCR = mask ;
  67:lib_AT91SAM7S64.h ****     //* Save the interrupt handler routine pointer and the interrupt priority
  68:lib_AT91SAM7S64.h ****     pAic->AIC_SVR[irq_id] = (unsigned int) newHandler ;
  69:lib_AT91SAM7S64.h ****     //* Store the Source Mode Register
  70:lib_AT91SAM7S64.h ****     pAic->AIC_SMR[irq_id] = src_type | priority  ;
  31              		.loc 1 70 0
  32 0014 023083E1 		orr	r3, r3, r2
  33              	.LVL3:
  34              		.loc 1 68 0
  35 0018 08209DE5 		ldr	r2, [sp, #8]
  36              	.LVL4:
  37              		.loc 1 66 0
  38 001c 24C180E5 		str	ip, [r0, #292]
  39              		.loc 1 68 0
  40 0020 80208EE5 		str	r2, [lr, #128]
  41              		.loc 1 70 0
  42 0024 013180E7 		str	r3, [r0, r1, asl #2]
  71:lib_AT91SAM7S64.h ****     //* Clear the interrupt on the interrupt controller
  72:lib_AT91SAM7S64.h ****     pAic->AIC_ICCR = mask ;
  43              		.loc 1 72 0
  44 0028 28C180E5 		str	ip, [r0, #296]
  73:lib_AT91SAM7S64.h **** 
  74:lib_AT91SAM7S64.h **** 	return oldHandler;
  75:lib_AT91SAM7S64.h **** }
  45              		.loc 1 75 0
  46 002c 0400A0E1 		mov	r0, r4
  47              	.LVL5:
  48 0030 1040BDE8 		ldmfd	sp!, {r4, lr}
  49 0034 1EFF2FE1 		bx	lr
  50              	.LFE2:
  52              		.align	2
  53              		.global	IRQ0Handler
  55              	IRQ0Handler:
  56              	.LFB290:
  57              		.file 2 "main.c"
   1:main.c        **** #include <stdint.h>
   2:main.c        **** #include <stdio.h>
   3:main.c        **** #include <string.h>
   4:main.c        **** #include <stdlib.h>
   5:main.c        **** 
   6:main.c        **** #include "Board.h"
   7:main.c        **** #include "cdc_enumerate.h"
   8:main.c        **** #include "adc.h"
   9:main.c        **** #include "pwm.h"
  10:main.c        **** #include "aic.h"
  11:main.c        **** #include "async.h"
  12:main.c        **** #include "delay.h"
  13:main.c        **** 
  14:main.c        **** #define FIQ_INTERRUPT_LEVEL 0
  15:main.c        **** 
  16:main.c        **** 
  17:main.c        **** //*----------------------------------------------------------------------------
  18:main.c        **** //* Function Name       : IRQ0Handler
  19:main.c        **** //* Object              : Interrupt Handler called by the IRQ0 interrupt with AT91
  20:main.c        **** //*                       compatibility
  21:main.c        **** //*----------------------------------------------------------------------------
  22:main.c        **** __ramfunc void IRQ0Handler(void)
  23:main.c        **** {
  58              		.loc 2 23 0
  59              		@ Function supports interworking.
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		@ link register save eliminated.
  63              		@ lr needed for prologue
  24:main.c        **** 
  25:main.c        **** }
  64              		.loc 2 25 0
  65 0038 1EFF2FE1 		bx	lr
  66              	.LFE290:
  68              		.align	2
  69              		.global	IRQ1Handler
  71              	IRQ1Handler:
  72              	.LFB291:
  26:main.c        **** 
  27:main.c        **** 
  28:main.c        **** //*----------------------------------------------------------------------------
  29:main.c        **** //* Function Name       : IRQ0Handler
  30:main.c        **** //* Object              : Interrupt Handler called by the IRQ1 interrupt with AT91
  31:main.c        **** //*                       compatibility
  32:main.c        **** //*----------------------------------------------------------------------------
  33:main.c        **** __ramfunc void IRQ1Handler(void)
  34:main.c        **** {
  73              		.loc 2 34 0
  74              		@ Function supports interworking.
  75              		@ args = 0, pretend = 0, frame = 0
  76              		@ frame_needed = 0, uses_anonymous_args = 0
  77              		@ link register save eliminated.
  78              		@ lr needed for prologue
  35:main.c        **** 
  36:main.c        **** }
  79              		.loc 2 36 0
  80 003c 1EFF2FE1 		bx	lr
  81              	.LFE291:
  83              		.align	2
  84              		.global	FIQHandler
  86              	FIQHandler:
  87              	.LFB292:
  37:main.c        **** 
  38:main.c        **** 
  39:main.c        **** //*----------------------------------------------------------------------------
  40:main.c        **** //* Function Name       : FIQHandler
  41:main.c        **** //* Object              : Interrupt Handler called by the FIQ interrupt with AT91
  42:main.c        **** //*                       compatibility
  43:main.c        **** //*----------------------------------------------------------------------------
  44:main.c        **** __ramfunc void FIQHandler(void)
  45:main.c        **** {
  88              		.loc 2 45 0
  89              		@ Function supports interworking.
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		@ link register save eliminated.
  93              		@ lr needed for prologue
  46:main.c        **** 
  47:main.c        **** }
  94              		.loc 2 47 0
  95 0040 1EFF2FE1 		bx	lr
  96              	.LFE292:
  98              		.align	2
  99              		.global	getCDCMEssage
 101              	getCDCMEssage:
 102              	.LFB294:
  48:main.c        **** 
  49:main.c        **** 
  50:main.c        **** /*
  51:main.c        ****  *  CDC Functions
  52:main.c        ****  */
  53:main.c        **** 
  54:main.c        **** struct _AT91S_CDC               pCDC;
  55:main.c        **** //*----------------------------------------------------------------------------
  56:main.c        **** //* function     AT91F_USB_Open
  57:main.c        **** //*              This function Open the USB device
  58:main.c        **** //*----------------------------------------------------------------------------
  59:main.c        **** void AT91FUSBOpen(void)
  60:main.c        **** {
  61:main.c        ****     // Set the PLL USB Divider
  62:main.c        ****     AT91C_BASE_CKGR->CKGR_PLLR |= AT91C_CKGR_USBDIV_1 ;
  63:main.c        **** 
  64:main.c        ****     // Specific Chip USB Initialization
  65:main.c        ****     // Enables the 48MHz USB clock UDPCK and System Peripheral USB Clock
  66:main.c        ****     AT91C_BASE_PMC->PMC_SCER = AT91C_PMC_UDP;
  67:main.c        ****     AT91C_BASE_PMC->PMC_PCER = (1 << AT91C_ID_UDP);
  68:main.c        **** 
  69:main.c        ****     // Enable UDP PullUp (USB_DP_PUP) : enable & Clear of the corresponding PIO
  70:main.c        ****     // Set in PIO mode and Configure in Output
  71:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA16);
  72:main.c        ****     // Clear for set the Pull up resistor
  73:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA16);
  74:main.c        **** 
  75:main.c        ****     // CDC Open by structure initialization
  76:main.c        ****     AT91F_CDC_Open(&pCDC, AT91C_BASE_UDP);
  77:main.c        **** }
  78:main.c        **** 
  79:main.c        **** #define CDC_MSG_SIZE            512
  80:main.c        **** 
  81:main.c        **** char *msg[CDC_MSG_SIZE];
  82:main.c        **** char *cmd[CDC_MSG_SIZE];
  83:main.c        **** /*
  84:main.c        ****  * Structure to keep CDC message
  85:main.c        ****  */
  86:main.c        **** struct cdcMessage
  87:main.c        **** {
  88:main.c        ****     unsigned char data[CDC_MSG_SIZE];
  89:main.c        ****     unsigned int length;
  90:main.c        **** };
  91:main.c        **** 
  92:main.c        **** /*
  93:main.c        ****  *  Fill-in CDC Message Structure
  94:main.c        ****  */
  95:main.c        **** struct cdcMessage getCDCMEssage(void)
  96:main.c        **** {
 103              		.loc 2 96 0
 104              		@ Function supports interworking.
 105              		@ args = 0, pretend = 0, frame = 516
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107 0044 30402DE9 		stmfd	sp!, {r4, r5, lr}
 108              	.LCFI1:
 109 0048 0020A0E3 		mov	r2, #0
 110              	.LVL6:
 111 004c 81DF4DE2 		sub	sp, sp, #516
 112              	.LCFI2:
 113              		.loc 2 96 0
 114 0050 0050A0E1 		mov	r5, r0
 115              	.L10:
 116              	.LBB2:
  97:main.c        ****     struct cdcMessage cdcMessageObj;
  98:main.c        **** 
  99:main.c        ****     for(int r = 0; r < CDC_MSG_SIZE; r++)
 100:main.c        ****     {
 101:main.c        ****         cdcMessageObj.data[r] = '\0';
 117              		.loc 2 101 0
 118 0054 0030A0E3 		mov	r3, #0
 119 0058 0D30C2E7 		strb	r3, [r2, sp]
 120              		.loc 2 99 0
 121 005c 012082E2 		add	r2, r2, #1
 122 0060 020C52E3 		cmp	r2, #512
 123              	.LBE2:
 124              		.loc 2 96 0
 125 0064 0D40A0E1 		mov	r4, sp
 126              	.LBB3:
 127              		.loc 2 99 0
 128 0068 1300001A 		bne	.L10
 129              	.LBE3:
 102:main.c        ****     }
 103:main.c        **** 
 104:main.c        ****     cdcMessageObj.length = pCDC.Read(&pCDC, (char *)cdcMessageObj.data, CDC_MSG_SIZE);
 130              		.loc 2 104 0
 131 006c 34309FE5 		ldr	r3, .L15
 132 0070 0D10A0E1 		mov	r1, sp
 133 0074 0300A0E1 		mov	r0, r3
 134 0078 14C093E5 		ldr	ip, [r3, #20]
 135 007c 0FE0A0E1 		mov	lr, pc
 136 0080 1CFF2FE1 		bx	ip
 137              	.LVL7:
 105:main.c        **** 
 106:main.c        ****     return cdcMessageObj;
 138              		.loc 2 106 0
 139 0084 0D10A0E1 		mov	r1, sp
 140              		.loc 2 104 0
 141 0088 00028DE5 		str	r0, [sp, #512]
 142              		.loc 2 106 0
 143 008c 812FA0E3 		mov	r2, #516
 144 0090 0500A0E1 		mov	r0, r5
 145 0094 FEFFFFEB 		bl	memcpy
 107:main.c        **** }
 146              		.loc 2 107 0
 147 0098 0500A0E1 		mov	r0, r5
 148 009c 81DF8DE2 		add	sp, sp, #516
 149 00a0 3040BDE8 		ldmfd	sp!, {r4, r5, lr}
 150 00a4 1EFF2FE1 		bx	lr
 151              	.L16:
 152              		.align	2
 153              	.L15:
 154 00a8 00000000 		.word	pCDC
 155              	.LFE294:
 157              		.align	2
 158              		.global	AT91FUSBOpen
 160              	AT91FUSBOpen:
 161              	.LFB293:
 162              		.loc 2 60 0
 163              		@ Function supports interworking.
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		.loc 2 62 0
 167 00ac 032CE0E3 		mvn	r2, #768
 168 00b0 D33012E5 		ldr	r3, [r2, #-211]
 169 00b4 013283E3 		orr	r3, r3, #268435456
 170 00b8 D33002E5 		str	r3, [r2, #-211]
 171              		.loc 2 66 0
 172 00bc 8030A0E3 		mov	r3, #128
 173 00c0 FF3002E5 		str	r3, [r2, #-255]
 174              	.LBB8:
 175              	.LBB9:
  76:lib_AT91SAM7S64.h **** 
  77:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  78:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_EnableIt
  79:lib_AT91SAM7S64.h **** //* \brief Enable corresponding IT number
  80:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  81:lib_AT91SAM7S64.h **** __inline void AT91F_AIC_EnableIt (
  82:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,      // \arg pointer to the AIC registers
  83:lib_AT91SAM7S64.h **** 	unsigned int irq_id ) // \arg interrupt number to initialize
  84:lib_AT91SAM7S64.h **** {
  85:lib_AT91SAM7S64.h ****     //* Enable the interrupt on the interrupt controller
  86:lib_AT91SAM7S64.h ****     pAic->AIC_IECR = 0x1 << irq_id ;
  87:lib_AT91SAM7S64.h **** }
  88:lib_AT91SAM7S64.h **** 
  89:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  90:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_DisableIt
  91:lib_AT91SAM7S64.h **** //* \brief Disable corresponding IT number
  92:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
  93:lib_AT91SAM7S64.h **** __inline void AT91F_AIC_DisableIt (
  94:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,      // \arg pointer to the AIC registers
  95:lib_AT91SAM7S64.h **** 	unsigned int irq_id ) // \arg interrupt number to initialize
  96:lib_AT91SAM7S64.h **** {
  97:lib_AT91SAM7S64.h ****     unsigned int mask = 0x1 << irq_id;
  98:lib_AT91SAM7S64.h ****     //* Disable the interrupt on the interrupt controller
  99:lib_AT91SAM7S64.h ****     pAic->AIC_IDCR = mask ;
 100:lib_AT91SAM7S64.h ****     //* Clear the interrupt on the Interrupt Controller ( if one is pending )
 101:lib_AT91SAM7S64.h ****     pAic->AIC_ICCR = mask ;
 102:lib_AT91SAM7S64.h **** }
 103:lib_AT91SAM7S64.h **** 
 104:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 105:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_ClearIt
 106:lib_AT91SAM7S64.h **** //* \brief Clear corresponding IT number
 107:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 108:lib_AT91SAM7S64.h **** __inline void AT91F_AIC_ClearIt (
 109:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 110:lib_AT91SAM7S64.h **** 	unsigned int irq_id) // \arg interrupt number to initialize
 111:lib_AT91SAM7S64.h **** {
 112:lib_AT91SAM7S64.h ****     //* Clear the interrupt on the Interrupt Controller ( if one is pending )
 113:lib_AT91SAM7S64.h ****     pAic->AIC_ICCR = (0x1 << irq_id);
 114:lib_AT91SAM7S64.h **** }
 115:lib_AT91SAM7S64.h **** 
 116:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 117:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_AcknowledgeIt
 118:lib_AT91SAM7S64.h **** //* \brief Acknowledge corresponding IT number
 119:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 120:lib_AT91SAM7S64.h **** __inline void AT91F_AIC_AcknowledgeIt (
 121:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic)     // \arg pointer to the AIC registers
 122:lib_AT91SAM7S64.h **** {
 123:lib_AT91SAM7S64.h ****     pAic->AIC_EOICR = pAic->AIC_EOICR;
 124:lib_AT91SAM7S64.h **** }
 125:lib_AT91SAM7S64.h **** 
 126:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 127:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_SetExceptionVector
 128:lib_AT91SAM7S64.h **** //* \brief Configure vector handler
 129:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 130:lib_AT91SAM7S64.h **** __inline unsigned int  AT91F_AIC_SetExceptionVector (
 131:lib_AT91SAM7S64.h **** 	unsigned int *pVector, // \arg pointer to the AIC registers
 132:lib_AT91SAM7S64.h **** 	void (*Handler) () )   // \arg Interrupt Handler
 133:lib_AT91SAM7S64.h **** {
 134:lib_AT91SAM7S64.h **** 	unsigned int oldVector = *pVector;
 135:lib_AT91SAM7S64.h **** 
 136:lib_AT91SAM7S64.h **** 	if ((unsigned int) Handler == (unsigned int) AT91C_AIC_BRANCH_OPCODE)
 137:lib_AT91SAM7S64.h **** 		*pVector = (unsigned int) AT91C_AIC_BRANCH_OPCODE;
 138:lib_AT91SAM7S64.h **** 	else
 139:lib_AT91SAM7S64.h **** 		*pVector = (((((unsigned int) Handler) - ((unsigned int) pVector) - 0x8) >> 2) & 0x00FFFFFF) | 0x
 140:lib_AT91SAM7S64.h **** 
 141:lib_AT91SAM7S64.h **** 	return oldVector;
 142:lib_AT91SAM7S64.h **** }
 143:lib_AT91SAM7S64.h **** 
 144:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 145:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_Trig
 146:lib_AT91SAM7S64.h **** //* \brief Trig an IT
 147:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 148:lib_AT91SAM7S64.h **** __inline void  AT91F_AIC_Trig (
 149:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 150:lib_AT91SAM7S64.h **** 	unsigned int irq_id) // \arg interrupt number
 151:lib_AT91SAM7S64.h **** {
 152:lib_AT91SAM7S64.h **** 	pAic->AIC_ISCR = (0x1 << irq_id) ;
 153:lib_AT91SAM7S64.h **** }
 154:lib_AT91SAM7S64.h **** 
 155:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 156:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_IsActive
 157:lib_AT91SAM7S64.h **** //* \brief Test if an IT is active
 158:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 159:lib_AT91SAM7S64.h **** __inline unsigned int  AT91F_AIC_IsActive (
 160:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 161:lib_AT91SAM7S64.h **** 	unsigned int irq_id) // \arg Interrupt Number
 162:lib_AT91SAM7S64.h **** {
 163:lib_AT91SAM7S64.h **** 	return (pAic->AIC_ISR & (0x1 << irq_id));
 164:lib_AT91SAM7S64.h **** }
 165:lib_AT91SAM7S64.h **** 
 166:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 167:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_IsPending
 168:lib_AT91SAM7S64.h **** //* \brief Test if an IT is pending
 169:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 170:lib_AT91SAM7S64.h **** __inline unsigned int  AT91F_AIC_IsPending (
 171:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,     // \arg pointer to the AIC registers
 172:lib_AT91SAM7S64.h **** 	unsigned int irq_id) // \arg Interrupt Number
 173:lib_AT91SAM7S64.h **** {
 174:lib_AT91SAM7S64.h **** 	return (pAic->AIC_IPR & (0x1 << irq_id));
 175:lib_AT91SAM7S64.h **** }
 176:lib_AT91SAM7S64.h **** 
 177:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 178:lib_AT91SAM7S64.h **** //* \fn    AT91F_AIC_Open
 179:lib_AT91SAM7S64.h **** //* \brief Set exception vectors and AIC registers to default values
 180:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 181:lib_AT91SAM7S64.h **** __inline void AT91F_AIC_Open(
 182:lib_AT91SAM7S64.h **** 	AT91PS_AIC pAic,        // \arg pointer to the AIC registers
 183:lib_AT91SAM7S64.h **** 	void (*IrqHandler) (),  // \arg Default IRQ vector exception
 184:lib_AT91SAM7S64.h **** 	void (*FiqHandler) (),  // \arg Default FIQ vector exception
 185:lib_AT91SAM7S64.h **** 	void (*DefaultHandler)  (), // \arg Default Handler set in ISR
 186:lib_AT91SAM7S64.h **** 	void (*SpuriousHandler) (), // \arg Default Spurious Handler
 187:lib_AT91SAM7S64.h **** 	unsigned int protectMode)   // \arg Debug Control Register
 188:lib_AT91SAM7S64.h **** {
 189:lib_AT91SAM7S64.h **** 	int i;
 190:lib_AT91SAM7S64.h **** 
 191:lib_AT91SAM7S64.h **** 	// Disable all interrupts and set IVR to the default handler
 192:lib_AT91SAM7S64.h **** 	for (i = 0; i < 32; ++i) {
 193:lib_AT91SAM7S64.h **** 		AT91F_AIC_DisableIt(pAic, i);
 194:lib_AT91SAM7S64.h **** 		AT91F_AIC_ConfigureIt(pAic, i, AT91C_AIC_PRIOR_LOWEST, AT91C_AIC_SRCTYPE_HIGH_LEVEL, DefaultHandl
 195:lib_AT91SAM7S64.h **** 	}
 196:lib_AT91SAM7S64.h **** 
 197:lib_AT91SAM7S64.h **** 	// Set the IRQ exception vector
 198:lib_AT91SAM7S64.h **** 	AT91F_AIC_SetExceptionVector((unsigned int *) 0x18, IrqHandler);
 199:lib_AT91SAM7S64.h **** 	// Set the Fast Interrupt exception vector
 200:lib_AT91SAM7S64.h **** 	AT91F_AIC_SetExceptionVector((unsigned int *) 0x1C, FiqHandler);
 201:lib_AT91SAM7S64.h **** 
 202:lib_AT91SAM7S64.h **** 	pAic->AIC_SPU = (unsigned int) SpuriousHandler;
 203:lib_AT91SAM7S64.h **** 	pAic->AIC_DCR = protectMode;
 204:lib_AT91SAM7S64.h **** }
 205:lib_AT91SAM7S64.h **** /* *****************************************************************************
 206:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR PDC
 207:lib_AT91SAM7S64.h ****    ***************************************************************************** */
 208:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 209:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_SetNextRx
 210:lib_AT91SAM7S64.h **** //* \brief Set the next receive transfer descriptor
 211:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 212:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_SetNextRx (
 213:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,     // \arg pointer to a PDC controller
 214:lib_AT91SAM7S64.h **** 	char *address,       // \arg address to the next bloc to be received
 215:lib_AT91SAM7S64.h **** 	unsigned int bytes)  // \arg number of bytes to be received
 216:lib_AT91SAM7S64.h **** {
 217:lib_AT91SAM7S64.h **** 	pPDC->PDC_RNPR = (unsigned int) address;
 218:lib_AT91SAM7S64.h **** 	pPDC->PDC_RNCR = bytes;
 219:lib_AT91SAM7S64.h **** }
 220:lib_AT91SAM7S64.h **** 
 221:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 222:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_SetNextTx
 223:lib_AT91SAM7S64.h **** //* \brief Set the next transmit transfer descriptor
 224:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 225:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_SetNextTx (
 226:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 227:lib_AT91SAM7S64.h **** 	char *address,         // \arg address to the next bloc to be transmitted
 228:lib_AT91SAM7S64.h **** 	unsigned int bytes)    // \arg number of bytes to be transmitted
 229:lib_AT91SAM7S64.h **** {
 230:lib_AT91SAM7S64.h **** 	pPDC->PDC_TNPR = (unsigned int) address;
 231:lib_AT91SAM7S64.h **** 	pPDC->PDC_TNCR = bytes;
 232:lib_AT91SAM7S64.h **** }
 233:lib_AT91SAM7S64.h **** 
 234:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 235:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_SetRx
 236:lib_AT91SAM7S64.h **** //* \brief Set the receive transfer descriptor
 237:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 238:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_SetRx (
 239:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 240:lib_AT91SAM7S64.h **** 	char *address,         // \arg address to the next bloc to be received
 241:lib_AT91SAM7S64.h **** 	unsigned int bytes)    // \arg number of bytes to be received
 242:lib_AT91SAM7S64.h **** {
 243:lib_AT91SAM7S64.h **** 	pPDC->PDC_RPR = (unsigned int) address;
 244:lib_AT91SAM7S64.h **** 	pPDC->PDC_RCR = bytes;
 245:lib_AT91SAM7S64.h **** }
 246:lib_AT91SAM7S64.h **** 
 247:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 248:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_SetTx
 249:lib_AT91SAM7S64.h **** //* \brief Set the transmit transfer descriptor
 250:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 251:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_SetTx (
 252:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,       // \arg pointer to a PDC controller
 253:lib_AT91SAM7S64.h **** 	char *address,         // \arg address to the next bloc to be transmitted
 254:lib_AT91SAM7S64.h **** 	unsigned int bytes)    // \arg number of bytes to be transmitted
 255:lib_AT91SAM7S64.h **** {
 256:lib_AT91SAM7S64.h **** 	pPDC->PDC_TPR = (unsigned int) address;
 257:lib_AT91SAM7S64.h **** 	pPDC->PDC_TCR = bytes;
 258:lib_AT91SAM7S64.h **** }
 259:lib_AT91SAM7S64.h **** 
 260:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 261:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_EnableTx
 262:lib_AT91SAM7S64.h **** //* \brief Enable transmit
 263:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 264:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_EnableTx (
 265:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 266:lib_AT91SAM7S64.h **** {
 267:lib_AT91SAM7S64.h **** 	pPDC->PDC_PTCR = AT91C_PDC_TXTEN;
 268:lib_AT91SAM7S64.h **** }
 269:lib_AT91SAM7S64.h **** 
 270:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 271:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_EnableRx
 272:lib_AT91SAM7S64.h **** //* \brief Enable receive
 273:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 274:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_EnableRx (
 275:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 276:lib_AT91SAM7S64.h **** {
 277:lib_AT91SAM7S64.h **** 	pPDC->PDC_PTCR = AT91C_PDC_RXTEN;
 278:lib_AT91SAM7S64.h **** }
 279:lib_AT91SAM7S64.h **** 
 280:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 281:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_DisableTx
 282:lib_AT91SAM7S64.h **** //* \brief Disable transmit
 283:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 284:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_DisableTx (
 285:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 286:lib_AT91SAM7S64.h **** {
 287:lib_AT91SAM7S64.h **** 	pPDC->PDC_PTCR = AT91C_PDC_TXTDIS;
 288:lib_AT91SAM7S64.h **** }
 289:lib_AT91SAM7S64.h **** 
 290:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 291:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_DisableRx
 292:lib_AT91SAM7S64.h **** //* \brief Disable receive
 293:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 294:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_DisableRx (
 295:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 296:lib_AT91SAM7S64.h **** {
 297:lib_AT91SAM7S64.h **** 	pPDC->PDC_PTCR = AT91C_PDC_RXTDIS;
 298:lib_AT91SAM7S64.h **** }
 299:lib_AT91SAM7S64.h **** 
 300:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 301:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_IsTxEmpty
 302:lib_AT91SAM7S64.h **** //* \brief Test if the current transfer descriptor has been sent
 303:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 304:lib_AT91SAM7S64.h **** __inline int AT91F_PDC_IsTxEmpty ( // \return return 1 if transfer is complete
 305:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 306:lib_AT91SAM7S64.h **** {
 307:lib_AT91SAM7S64.h **** 	return !(pPDC->PDC_TCR);
 308:lib_AT91SAM7S64.h **** }
 309:lib_AT91SAM7S64.h **** 
 310:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 311:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_IsNextTxEmpty
 312:lib_AT91SAM7S64.h **** //* \brief Test if the next transfer descriptor has been moved to the current td
 313:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 314:lib_AT91SAM7S64.h **** __inline int AT91F_PDC_IsNextTxEmpty ( // \return return 1 if transfer is complete
 315:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 316:lib_AT91SAM7S64.h **** {
 317:lib_AT91SAM7S64.h **** 	return !(pPDC->PDC_TNCR);
 318:lib_AT91SAM7S64.h **** }
 319:lib_AT91SAM7S64.h **** 
 320:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 321:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_IsRxEmpty
 322:lib_AT91SAM7S64.h **** //* \brief Test if the current transfer descriptor has been filled
 323:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 324:lib_AT91SAM7S64.h **** __inline int AT91F_PDC_IsRxEmpty ( // \return return 1 if transfer is complete
 325:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 326:lib_AT91SAM7S64.h **** {
 327:lib_AT91SAM7S64.h **** 	return !(pPDC->PDC_RCR);
 328:lib_AT91SAM7S64.h **** }
 329:lib_AT91SAM7S64.h **** 
 330:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 331:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_IsNextRxEmpty
 332:lib_AT91SAM7S64.h **** //* \brief Test if the next transfer descriptor has been moved to the current td
 333:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 334:lib_AT91SAM7S64.h **** __inline int AT91F_PDC_IsNextRxEmpty ( // \return return 1 if transfer is complete
 335:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC )       // \arg pointer to a PDC controller
 336:lib_AT91SAM7S64.h **** {
 337:lib_AT91SAM7S64.h **** 	return !(pPDC->PDC_RNCR);
 338:lib_AT91SAM7S64.h **** }
 339:lib_AT91SAM7S64.h **** 
 340:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 341:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_Open
 342:lib_AT91SAM7S64.h **** //* \brief Open PDC: disable TX and RX reset transfer descriptors, re-enable RX and TX
 343:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 344:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_Open (
 345:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC)       // \arg pointer to a PDC controller
 346:lib_AT91SAM7S64.h **** {
 347:lib_AT91SAM7S64.h ****     //* Disable the RX and TX PDC transfer requests
 348:lib_AT91SAM7S64.h **** 	AT91F_PDC_DisableRx(pPDC);
 349:lib_AT91SAM7S64.h **** 	AT91F_PDC_DisableTx(pPDC);
 350:lib_AT91SAM7S64.h **** 
 351:lib_AT91SAM7S64.h **** 	//* Reset all Counter register Next buffer first
 352:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetNextTx(pPDC, (char *) 0, 0);
 353:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetNextRx(pPDC, (char *) 0, 0);
 354:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetTx(pPDC, (char *) 0, 0);
 355:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetRx(pPDC, (char *) 0, 0);
 356:lib_AT91SAM7S64.h **** 
 357:lib_AT91SAM7S64.h ****     //* Enable the RX and TX PDC transfer requests
 358:lib_AT91SAM7S64.h **** 	AT91F_PDC_EnableRx(pPDC);
 359:lib_AT91SAM7S64.h **** 	AT91F_PDC_EnableTx(pPDC);
 360:lib_AT91SAM7S64.h **** }
 361:lib_AT91SAM7S64.h **** 
 362:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 363:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_Close
 364:lib_AT91SAM7S64.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 365:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 366:lib_AT91SAM7S64.h **** __inline void AT91F_PDC_Close (
 367:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC)       // \arg pointer to a PDC controller
 368:lib_AT91SAM7S64.h **** {
 369:lib_AT91SAM7S64.h ****     //* Disable the RX and TX PDC transfer requests
 370:lib_AT91SAM7S64.h **** 	AT91F_PDC_DisableRx(pPDC);
 371:lib_AT91SAM7S64.h **** 	AT91F_PDC_DisableTx(pPDC);
 372:lib_AT91SAM7S64.h **** 
 373:lib_AT91SAM7S64.h **** 	//* Reset all Counter register Next buffer first
 374:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetNextTx(pPDC, (char *) 0, 0);
 375:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetNextRx(pPDC, (char *) 0, 0);
 376:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetTx(pPDC, (char *) 0, 0);
 377:lib_AT91SAM7S64.h **** 	AT91F_PDC_SetRx(pPDC, (char *) 0, 0);
 378:lib_AT91SAM7S64.h **** 
 379:lib_AT91SAM7S64.h **** }
 380:lib_AT91SAM7S64.h **** 
 381:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 382:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_SendFrame
 383:lib_AT91SAM7S64.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 384:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 385:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PDC_SendFrame(
 386:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,
 387:lib_AT91SAM7S64.h **** 	char *pBuffer,
 388:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
 389:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
 390:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
 391:lib_AT91SAM7S64.h **** {
 392:lib_AT91SAM7S64.h **** 	if (AT91F_PDC_IsTxEmpty(pPDC)) {
 393:lib_AT91SAM7S64.h **** 		//* Buffer and next buffer can be initialized
 394:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetTx(pPDC, pBuffer, szBuffer);
 395:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetNextTx(pPDC, pNextBuffer, szNextBuffer);
 396:lib_AT91SAM7S64.h **** 		return 2;
 397:lib_AT91SAM7S64.h **** 	}
 398:lib_AT91SAM7S64.h **** 	else if (AT91F_PDC_IsNextTxEmpty(pPDC)) {
 399:lib_AT91SAM7S64.h **** 		//* Only one buffer can be initialized
 400:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetNextTx(pPDC, pBuffer, szBuffer);
 401:lib_AT91SAM7S64.h **** 		return 1;
 402:lib_AT91SAM7S64.h **** 	}
 403:lib_AT91SAM7S64.h **** 	else {
 404:lib_AT91SAM7S64.h **** 		//* All buffer are in use...
 405:lib_AT91SAM7S64.h **** 		return 0;
 406:lib_AT91SAM7S64.h **** 	}
 407:lib_AT91SAM7S64.h **** }
 408:lib_AT91SAM7S64.h **** 
 409:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 410:lib_AT91SAM7S64.h **** //* \fn    AT91F_PDC_ReceiveFrame
 411:lib_AT91SAM7S64.h **** //* \brief Close PDC: disable TX and RX reset transfer descriptors
 412:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 413:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PDC_ReceiveFrame (
 414:lib_AT91SAM7S64.h **** 	AT91PS_PDC pPDC,
 415:lib_AT91SAM7S64.h **** 	char *pBuffer,
 416:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
 417:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
 418:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
 419:lib_AT91SAM7S64.h **** {
 420:lib_AT91SAM7S64.h **** 	if (AT91F_PDC_IsRxEmpty(pPDC)) {
 421:lib_AT91SAM7S64.h **** 		//* Buffer and next buffer can be initialized
 422:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetRx(pPDC, pBuffer, szBuffer);
 423:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetNextRx(pPDC, pNextBuffer, szNextBuffer);
 424:lib_AT91SAM7S64.h **** 		return 2;
 425:lib_AT91SAM7S64.h **** 	}
 426:lib_AT91SAM7S64.h **** 	else if (AT91F_PDC_IsNextRxEmpty(pPDC)) {
 427:lib_AT91SAM7S64.h **** 		//* Only one buffer can be initialized
 428:lib_AT91SAM7S64.h **** 		AT91F_PDC_SetNextRx(pPDC, pBuffer, szBuffer);
 429:lib_AT91SAM7S64.h **** 		return 1;
 430:lib_AT91SAM7S64.h **** 	}
 431:lib_AT91SAM7S64.h **** 	else {
 432:lib_AT91SAM7S64.h **** 		//* All buffer are in use...
 433:lib_AT91SAM7S64.h **** 		return 0;
 434:lib_AT91SAM7S64.h **** 	}
 435:lib_AT91SAM7S64.h **** }
 436:lib_AT91SAM7S64.h **** /* *****************************************************************************
 437:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR DBGU
 438:lib_AT91SAM7S64.h ****    ***************************************************************************** */
 439:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 440:lib_AT91SAM7S64.h **** //* \fn    AT91F_DBGU_InterruptEnable
 441:lib_AT91SAM7S64.h **** //* \brief Enable DBGU Interrupt
 442:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 443:lib_AT91SAM7S64.h **** __inline void AT91F_DBGU_InterruptEnable(
 444:lib_AT91SAM7S64.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 445:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  dbgu interrupt to be enabled
 446:lib_AT91SAM7S64.h **** {
 447:lib_AT91SAM7S64.h ****         pDbgu->DBGU_IER = flag;
 448:lib_AT91SAM7S64.h **** }
 449:lib_AT91SAM7S64.h **** 
 450:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 451:lib_AT91SAM7S64.h **** //* \fn    AT91F_DBGU_InterruptDisable
 452:lib_AT91SAM7S64.h **** //* \brief Disable DBGU Interrupt
 453:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 454:lib_AT91SAM7S64.h **** __inline void AT91F_DBGU_InterruptDisable(
 455:lib_AT91SAM7S64.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 456:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  dbgu interrupt to be disabled
 457:lib_AT91SAM7S64.h **** {
 458:lib_AT91SAM7S64.h ****         pDbgu->DBGU_IDR = flag;
 459:lib_AT91SAM7S64.h **** }
 460:lib_AT91SAM7S64.h **** 
 461:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 462:lib_AT91SAM7S64.h **** //* \fn    AT91F_DBGU_GetInterruptMaskStatus
 463:lib_AT91SAM7S64.h **** //* \brief Return DBGU Interrupt Mask Status
 464:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 465:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_DBGU_GetInterruptMaskStatus( // \return DBGU Interrupt Mask Status
 466:lib_AT91SAM7S64.h ****         AT91PS_DBGU pDbgu) // \arg  pointer to a DBGU controller
 467:lib_AT91SAM7S64.h **** {
 468:lib_AT91SAM7S64.h ****         return pDbgu->DBGU_IMR;
 469:lib_AT91SAM7S64.h **** }
 470:lib_AT91SAM7S64.h **** 
 471:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 472:lib_AT91SAM7S64.h **** //* \fn    AT91F_DBGU_IsInterruptMasked
 473:lib_AT91SAM7S64.h **** //* \brief Test if DBGU Interrupt is Masked 
 474:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 475:lib_AT91SAM7S64.h **** __inline int AT91F_DBGU_IsInterruptMasked(
 476:lib_AT91SAM7S64.h ****         AT91PS_DBGU pDbgu,   // \arg  pointer to a DBGU controller
 477:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 478:lib_AT91SAM7S64.h **** {
 479:lib_AT91SAM7S64.h ****         return (AT91F_DBGU_GetInterruptMaskStatus(pDbgu) & flag);
 480:lib_AT91SAM7S64.h **** }
 481:lib_AT91SAM7S64.h **** 
 482:lib_AT91SAM7S64.h **** /* *****************************************************************************
 483:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR PIO
 484:lib_AT91SAM7S64.h ****    ***************************************************************************** */
 485:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 486:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgPeriph
 487:lib_AT91SAM7S64.h **** //* \brief Enable pins to be drived by peripheral
 488:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 489:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgPeriph(
 490:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 491:lib_AT91SAM7S64.h **** 	unsigned int periphAEnable,  // \arg PERIPH A to enable
 492:lib_AT91SAM7S64.h **** 	unsigned int periphBEnable)  // \arg PERIPH B to enable
 493:lib_AT91SAM7S64.h **** 
 494:lib_AT91SAM7S64.h **** {
 495:lib_AT91SAM7S64.h **** 	pPio->PIO_ASR = periphAEnable;
 496:lib_AT91SAM7S64.h **** 	pPio->PIO_BSR = periphBEnable;
 497:lib_AT91SAM7S64.h **** 	pPio->PIO_PDR = (periphAEnable | periphBEnable); // Set in Periph mode
 498:lib_AT91SAM7S64.h **** }
 499:lib_AT91SAM7S64.h **** 
 500:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 501:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgOutput
 502:lib_AT91SAM7S64.h **** //* \brief Enable PIO in output mode
 503:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 504:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgOutput(
 505:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 506:lib_AT91SAM7S64.h **** 	unsigned int pioEnable)      // \arg PIO to be enabled
 507:lib_AT91SAM7S64.h **** {
 508:lib_AT91SAM7S64.h **** 	pPio->PIO_PER = pioEnable; // Set in PIO mode
 176              		.loc 1 508 0
 177 00c4 01C8A0E3 		mov	ip, #65536
 178              	.LBE9:
 179              	.LBE8:
 180              		.loc 2 60 0
 181 00c8 04E02DE5 		str	lr, [sp, #-4]!
 182              	.LCFI3:
 183              		.loc 2 67 0
 184 00cc 1E3D83E2 		add	r3, r3, #1920
 185              	.LBB10:
 186              	.LBB11:
 187              		.loc 1 508 0
 188 00d0 0BECE0E3 		mvn	lr, #2816
 189              	.LBE11:
 190              	.LBE10:
 191              		.loc 2 67 0
 192 00d4 EF3002E5 		str	r3, [r2, #-239]
 193              		.loc 2 76 0
 194 00d8 18109FE5 		ldr	r1, .L19
 195              	.LBB12:
 196              	.LBB13:
 197              		.loc 1 508 0
 198 00dc FFC00EE5 		str	ip, [lr, #-255]
 199              	.LBE13:
 200              	.LBE12:
 201              		.loc 2 76 0
 202 00e0 14009FE5 		ldr	r0, .L19+4
 203              	.LBB14:
 204              	.LBB15:
 509:lib_AT91SAM7S64.h **** 	pPio->PIO_OER = pioEnable; // Configure in Output
 205              		.loc 1 509 0
 206 00e4 EFC00EE5 		str	ip, [lr, #-239]
 207              	.LBE15:
 208              	.LBE14:
 209              	.LBB16:
 210              	.LBB17:
 510:lib_AT91SAM7S64.h **** }
 511:lib_AT91SAM7S64.h **** 
 512:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 513:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgInput
 514:lib_AT91SAM7S64.h **** //* \brief Enable PIO in input mode
 515:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 516:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgInput(
 517:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 518:lib_AT91SAM7S64.h **** 	unsigned int inputEnable)      // \arg PIO to be enabled
 519:lib_AT91SAM7S64.h **** {
 520:lib_AT91SAM7S64.h **** 	// Disable output
 521:lib_AT91SAM7S64.h **** 	pPio->PIO_ODR  = inputEnable;
 522:lib_AT91SAM7S64.h **** 	pPio->PIO_PER  = inputEnable;
 523:lib_AT91SAM7S64.h **** }
 524:lib_AT91SAM7S64.h **** 
 525:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 526:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgOpendrain
 527:lib_AT91SAM7S64.h **** //* \brief Configure PIO in open drain
 528:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 529:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgOpendrain(
 530:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 531:lib_AT91SAM7S64.h **** 	unsigned int multiDrvEnable) // \arg pio to be configured in open drain
 532:lib_AT91SAM7S64.h **** {
 533:lib_AT91SAM7S64.h **** 	// Configure the multi-drive option
 534:lib_AT91SAM7S64.h **** 	pPio->PIO_MDDR = ~multiDrvEnable;
 535:lib_AT91SAM7S64.h **** 	pPio->PIO_MDER = multiDrvEnable;
 536:lib_AT91SAM7S64.h **** }
 537:lib_AT91SAM7S64.h **** 
 538:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 539:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgPullup
 540:lib_AT91SAM7S64.h **** //* \brief Enable pullup on PIO
 541:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 542:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgPullup(
 543:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 544:lib_AT91SAM7S64.h **** 	unsigned int pullupEnable)   // \arg enable pullup on PIO
 545:lib_AT91SAM7S64.h **** {
 546:lib_AT91SAM7S64.h **** 		// Connect or not Pullup
 547:lib_AT91SAM7S64.h **** 	pPio->PIO_PPUDR = ~pullupEnable;
 548:lib_AT91SAM7S64.h **** 	pPio->PIO_PPUER = pullupEnable;
 549:lib_AT91SAM7S64.h **** }
 550:lib_AT91SAM7S64.h **** 
 551:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 552:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgDirectDrive
 553:lib_AT91SAM7S64.h **** //* \brief Enable direct drive on PIO
 554:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 555:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgDirectDrive(
 556:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 557:lib_AT91SAM7S64.h **** 	unsigned int directDrive)    // \arg PIO to be configured with direct drive
 558:lib_AT91SAM7S64.h **** 
 559:lib_AT91SAM7S64.h **** {
 560:lib_AT91SAM7S64.h **** 	// Configure the Direct Drive
 561:lib_AT91SAM7S64.h **** 	pPio->PIO_OWDR  = ~directDrive;
 562:lib_AT91SAM7S64.h **** 	pPio->PIO_OWER  = directDrive;
 563:lib_AT91SAM7S64.h **** }
 564:lib_AT91SAM7S64.h **** 
 565:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 566:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_CfgInputFilter
 567:lib_AT91SAM7S64.h **** //* \brief Enable input filter on input PIO
 568:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 569:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_CfgInputFilter(
 570:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,             // \arg pointer to a PIO controller
 571:lib_AT91SAM7S64.h **** 	unsigned int inputFilter)    // \arg PIO to be configured with input filter
 572:lib_AT91SAM7S64.h **** 
 573:lib_AT91SAM7S64.h **** {
 574:lib_AT91SAM7S64.h **** 	// Configure the Direct Drive
 575:lib_AT91SAM7S64.h **** 	pPio->PIO_IFDR  = ~inputFilter;
 576:lib_AT91SAM7S64.h **** 	pPio->PIO_IFER  = inputFilter;
 577:lib_AT91SAM7S64.h **** }
 578:lib_AT91SAM7S64.h **** 
 579:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 580:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetInput
 581:lib_AT91SAM7S64.h **** //* \brief Return PIO input value
 582:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 583:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetInput( // \return PIO input
 584:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 585:lib_AT91SAM7S64.h **** {
 586:lib_AT91SAM7S64.h **** 	return pPio->PIO_PDSR;
 587:lib_AT91SAM7S64.h **** }
 588:lib_AT91SAM7S64.h **** 
 589:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 590:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsInputSet
 591:lib_AT91SAM7S64.h **** //* \brief Test if PIO is input flag is active
 592:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 593:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsInputSet(
 594:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 595:lib_AT91SAM7S64.h **** 	unsigned int flag) // \arg  flag to be tested
 596:lib_AT91SAM7S64.h **** {
 597:lib_AT91SAM7S64.h **** 	return (AT91F_PIO_GetInput(pPio) & flag);
 598:lib_AT91SAM7S64.h **** }
 599:lib_AT91SAM7S64.h **** 
 600:lib_AT91SAM7S64.h **** 
 601:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 602:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_SetOutput
 603:lib_AT91SAM7S64.h **** //* \brief Set to 1 output PIO
 604:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 605:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_SetOutput(
 606:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 607:lib_AT91SAM7S64.h **** 	unsigned int flag) // \arg  output to be set
 608:lib_AT91SAM7S64.h **** {
 609:lib_AT91SAM7S64.h **** 	pPio->PIO_SODR = flag;
 610:lib_AT91SAM7S64.h **** }
 611:lib_AT91SAM7S64.h **** 
 612:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 613:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_ClearOutput
 614:lib_AT91SAM7S64.h **** //* \brief Set to 0 output PIO
 615:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 616:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_ClearOutput(
 617:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 618:lib_AT91SAM7S64.h **** 	unsigned int flag) // \arg  output to be cleared
 619:lib_AT91SAM7S64.h **** {
 620:lib_AT91SAM7S64.h **** 	pPio->PIO_CODR = flag;
 211              		.loc 1 620 0
 212 00e8 CBC00EE5 		str	ip, [lr, #-203]
 213              	.LBE17:
 214              	.LBE16:
 215              		.loc 2 76 0
 216 00ec FEFFFFEB 		bl	AT91F_CDC_Open
 217              		.loc 2 77 0
 218 00f0 04E09DE4 		ldr	lr, [sp], #4
 219 00f4 1EFF2FE1 		bx	lr
 220              	.L20:
 221              		.align	2
 222              	.L19:
 223 00f8 0000FBFF 		.word	-327680
 224 00fc 00000000 		.word	pCDC
 225              	.LFE293:
 227              		.align	2
 229              	InitPIO:
 230              	.LFB296:
 108:main.c        **** 
 109:main.c        **** static void InitPWM(void)
 110:main.c        **** {
 111:main.c        ****     // enable PWM peripherals on PA0, PA1, PA2
 112:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PA0_PWM0, 0);
 113:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PA1_PWM1, 0);
 114:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PA2_PWM2, 0);
 115:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PA7_PWM3, 0);
 116:main.c        **** 
 117:main.c        ****     AT91F_PWMC_InterruptDisable(AT91C_BASE_PWMC, AT91C_PWMC_CHID0);
 118:main.c        ****     AT91F_PWMC_InterruptDisable(AT91C_BASE_PWMC, AT91C_PWMC_CHID1);
 119:main.c        ****     AT91F_PWMC_InterruptDisable(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 120:main.c        ****     AT91F_PWMC_InterruptDisable(AT91C_BASE_PWMC, AT91C_PWMC_CHID3);
 121:main.c        **** 
 122:main.c        ****     AT91F_PMC_EnablePeriphClock( AT91C_BASE_PMC, 1 << AT91C_ID_PIOA);
 123:main.c        **** 
 124:main.c        ****     // enable PWM clock in PMC
 125:main.c        ****     AT91F_PWMC_CfgPMC();
 126:main.c        **** 
 127:main.c        ****     // disable PWM channels 0, 1, 2
 128:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID0);
 129:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID1);
 130:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 131:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID3);
 132:main.c        **** 
 133:main.c        ****     pwmFreqSet(0, 8000);
 134:main.c        ****     pwmFreqSet(1, 8000);
 135:main.c        ****     pwmFreqSet(2, 60); // set by default to control Camera Servo
 136:main.c        ****     pwmFreqSet(3, 8000);
 137:main.c        **** 
 138:main.c        ****     pwmDutySet_u8(0, 1);
 139:main.c        ****     pwmDutySet_u8(1, 1);
 140:main.c        ****     pwmDutySet_u8(2, 1);
 141:main.c        ****     pwmDutySet_u8(3, 1);
 142:main.c        **** 
 143:main.c        ****     AT91F_PWMC_UpdateChannel(AT91C_BASE_PWMC, 0, AT91C_PWMC_CHID0);
 144:main.c        ****     AT91F_PWMC_UpdateChannel(AT91C_BASE_PWMC, 1, AT91C_PWMC_CHID1);
 145:main.c        ****     AT91F_PWMC_UpdateChannel(AT91C_BASE_PWMC, 2, AT91C_PWMC_CHID2);
 146:main.c        ****     AT91F_PWMC_UpdateChannel(AT91C_BASE_PWMC, 3, AT91C_PWMC_CHID3);
 147:main.c        **** 
 148:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID0);
 149:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID1);
 150:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 151:main.c        ****     AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID3);
 152:main.c        **** 
 153:main.c        ****     // enable PWM channels 0, 1, 2
 154:main.c        ****     //AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID0);
 155:main.c        ****     //AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID1);
 156:main.c        ****     //AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 157:main.c        ****     //AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID3);
 158:main.c        **** }
 159:main.c        **** 
 160:main.c        **** static void InitPIO(void)
 161:main.c        **** {
 231              		.loc 2 161 0
 232              		@ Function supports interworking.
 233              		@ args = 0, pretend = 0, frame = 0
 234              		@ frame_needed = 0, uses_anonymous_args = 0
 235              	.LBB98:
 236              	.LBB99:
 237              		.loc 1 508 0
 238 0100 0B3CE0E3 		mvn	r3, #2816
 239 0104 0123A0E3 		mov	r2, #67108864
 240              	.LBE99:
 241              	.LBE98:
 242              	.LBB100:
 243              	.LBB101:
 244 0108 0214A0E3 		mov	r1, #33554432
 245              	.LBE101:
 246              	.LBE100:
 247              	.LBB102:
 248              	.LBB103:
 249 010c 0104A0E3 		mov	r0, #16777216
 250              	.LBE103:
 251              	.LBE102:
 252              	.LBB104:
 253              	.LBB105:
 254 0110 01C9A0E3 		mov	ip, #16384
 255              	.LBE105:
 256              	.LBE104:
 257              	.LBB106:
 258              	.LBB107:
 259 0114 FF2003E5 		str	r2, [r3, #-255]
 260              	.LBE107:
 261              	.LBE106:
 262              		.loc 2 161 0
 263 0118 F04F2DE9 		stmfd	sp!, {r4, r5, r6, r7, r8, r9, sl, fp, lr}
 264              	.LCFI4:
 265              	.LBB108:
 266              	.LBB109:
 267              		.loc 1 509 0
 268 011c EF2003E5 		str	r2, [r3, #-239]
 269              	.LBE109:
 270              	.LBE108:
 271              	.LBB110:
 272              	.LBB111:
 273              		.loc 1 508 0
 274 0120 01E0A0E3 		mov	lr, #1
 275              	.LBE111:
 276              	.LBE110:
 277              	.LBB112:
 278              	.LBB113:
 279 0124 FF1003E5 		str	r1, [r3, #-255]
 280              	.LBE113:
 281              	.LBE112:
 282              	.LBB114:
 283              	.LBB115:
 284 0128 0240A0E3 		mov	r4, #2
 285              	.LBE115:
 286              	.LBE114:
 287              	.LBB116:
 288              	.LBB117:
 289              		.loc 1 509 0
 290 012c EF1003E5 		str	r1, [r3, #-239]
 291              	.LBE117:
 292              	.LBE116:
 293              	.LBB118:
 294              	.LBB119:
 295              		.loc 1 508 0
 296 0130 0450A0E3 		mov	r5, #4
 297              	.LBE119:
 298              	.LBE118:
 299              	.LBB120:
 300              	.LBB121:
 301 0134 FF0003E5 		str	r0, [r3, #-255]
 302              	.LBE121:
 303              	.LBE120:
 304              	.LBB122:
 305              	.LBB123:
 306 0138 0261A0E3 		mov	r6, #-2147483648
 307              	.LBE123:
 308              	.LBE122:
 309              	.LBB124:
 310              	.LBB125:
 311              		.loc 1 509 0
 312 013c EF0003E5 		str	r0, [r3, #-239]
 313              	.LBE125:
 314              	.LBE124:
 315              	.LBB126:
 316              	.LBB127:
 317              		.loc 1 508 0
 318 0140 8090A0E3 		mov	r9, #128
 319              	.LBE127:
 320              	.LBE126:
 321              	.LBB128:
 322              	.LBB129:
 323 0144 FFC003E5 		str	ip, [r3, #-255]
 324              	.LBE129:
 325              	.LBE128:
 326              	.LBB130:
 327              	.LBB131:
 328              		.loc 1 521 0
 329 0148 01A6A0E3 		mov	sl, #1048576
 330              	.LBE131:
 331              	.LBE130:
 332              	.LBB132:
 333              	.LBB133:
 334              		.loc 1 509 0
 335 014c EFC003E5 		str	ip, [r3, #-239]
 336              	.LBE133:
 337              	.LBE132:
 338              	.LBB134:
 339              	.LBB135:
 340              		.loc 1 521 0
 341 0150 0181A0E3 		mov	r8, #1073741824
 342              	.LBE135:
 343              	.LBE134:
 344              	.LBB136:
 345              	.LBB137:
 346              		.loc 1 620 0
 347 0154 CB2003E5 		str	r2, [r3, #-203]
 348              	.LBE137:
 349              	.LBE136:
 350              	.LBB138:
 351              	.LBB139:
 352              		.loc 1 508 0
 353 0158 0870A0E3 		mov	r7, #8
 354              	.LBE139:
 355              	.LBE138:
 356              	.LBB140:
 357              	.LBB141:
 358 015c 072382E2 		add	r2, r2, #469762048
 359              	.LBE141:
 360              	.LBE140:
 361              	.LBB142:
 362              	.LBB143:
 363              		.loc 1 620 0
 364 0160 CB1003E5 		str	r1, [r3, #-203]
 365              	.LBE143:
 366              	.LBE142:
 367              	.LBB144:
 368              	.LBB145:
 369 0164 CB0003E5 		str	r0, [r3, #-203]
 370              	.LBE145:
 371              	.LBE144:
 372              	.LBB146:
 373              	.LBB147:
 374 0168 CBC003E5 		str	ip, [r3, #-203]
 375              	.LBE147:
 376              	.LBE146:
 377              	.LBB148:
 378              	.LBB149:
 379              		.loc 1 508 0
 380 016c FFE003E5 		str	lr, [r3, #-255]
 381              		.loc 1 509 0
 382 0170 EFE003E5 		str	lr, [r3, #-239]
 383              	.LBE149:
 384              	.LBE148:
 385              	.LBB150:
 386              	.LBB151:
 387              		.loc 1 508 0
 388 0174 FF4003E5 		str	r4, [r3, #-255]
 389              		.loc 1 509 0
 390 0178 EF4003E5 		str	r4, [r3, #-239]
 391              	.LBE151:
 392              	.LBE150:
 393              	.LBB152:
 394              	.LBB153:
 395              		.loc 1 508 0
 396 017c FF5003E5 		str	r5, [r3, #-255]
 397              		.loc 1 509 0
 398 0180 EF5003E5 		str	r5, [r3, #-239]
 399              	.LBE153:
 400              	.LBE152:
 401              	.LBB154:
 402              	.LBB155:
 403              		.loc 1 508 0
 404 0184 FF9003E5 		str	r9, [r3, #-255]
 405              		.loc 1 509 0
 406 0188 EF9003E5 		str	r9, [r3, #-239]
 407              	.LBE155:
 408              	.LBE154:
 409              	.LBB156:
 410              	.LBB157:
 411              		.loc 1 620 0
 412 018c CBE003E5 		str	lr, [r3, #-203]
 413              	.LBE157:
 414              	.LBE156:
 415              	.LBB158:
 416              	.LBB159:
 417 0190 CB4003E5 		str	r4, [r3, #-203]
 418              	.LBE159:
 419              	.LBE158:
 420              	.LBB160:
 421              	.LBB161:
 422 0194 CB5003E5 		str	r5, [r3, #-203]
 423              	.LBE161:
 424              	.LBE160:
 425              	.LBB162:
 426              	.LBB163:
 427              		.loc 1 521 0
 428 0198 EBA003E5 		str	sl, [r3, #-235]
 429              		.loc 1 522 0
 430 019c FFA003E5 		str	sl, [r3, #-255]
 431              	.LBE163:
 432              	.LBE162:
 433              	.LBB164:
 434              	.LBB165:
 435              		.loc 1 521 0
 436 01a0 EB8003E5 		str	r8, [r3, #-235]
 437              		.loc 1 522 0
 438 01a4 FF8003E5 		str	r8, [r3, #-255]
 439              	.LBE165:
 440              	.LBE164:
 441              	.LBB166:
 442              	.LBB167:
 443              		.loc 1 508 0
 444 01a8 FF6003E5 		str	r6, [r3, #-255]
 445              		.loc 1 509 0
 446 01ac EF6003E5 		str	r6, [r3, #-239]
 447              	.LBE167:
 448              	.LBE166:
 449              	.LBB168:
 450              	.LBB169:
 451              		.loc 1 620 0
 452 01b0 CB6003E5 		str	r6, [r3, #-203]
 453              	.LBE169:
 454              	.LBE168:
 455              	.LBB170:
 456              	.LBB171:
 457              		.loc 1 508 0
 458 01b4 FF7003E5 		str	r7, [r3, #-255]
 459              		.loc 1 509 0
 460 01b8 EF7003E5 		str	r7, [r3, #-239]
 461              	.LBE171:
 462              	.LBE170:
 463              	.LBB172:
 464              	.LBB173:
 465              		.loc 1 508 0
 466 01bc FF2003E5 		str	r2, [r3, #-255]
 467              		.loc 1 509 0
 468 01c0 EF2003E5 		str	r2, [r3, #-239]
 469              	.LBE173:
 470              	.LBE172:
 471              	.LBB174:
 472              	.LBB175:
 473              		.loc 1 508 0
 474 01c4 0F2282E2 		add	r2, r2, #-268435456
 475 01c8 FF2003E5 		str	r2, [r3, #-255]
 476              		.loc 1 509 0
 477 01cc EF2003E5 		str	r2, [r3, #-239]
 478              	.LBE175:
 479              	.LBE174:
 480              	.LBB176:
 481              	.LBB177:
 482              		.loc 1 508 0
 483 01d0 3E2382E2 		add	r2, r2, #-134217728
 484 01d4 FF2003E5 		str	r2, [r3, #-255]
 485              		.loc 1 509 0
 486 01d8 EF2003E5 		str	r2, [r3, #-239]
 487              	.LBE177:
 488              	.LBE176:
 489              	.LBB178:
 490              	.LBB179:
 491              		.loc 1 508 0
 492 01dc 1020A0E3 		mov	r2, #16
 493 01e0 FF2003E5 		str	r2, [r3, #-255]
 494              		.loc 1 509 0
 495 01e4 EF2003E5 		str	r2, [r3, #-239]
 496              	.LBE179:
 497              	.LBE178:
 498              	.LBB180:
 499              	.LBB181:
 500              		.loc 1 508 0
 501 01e8 022082E0 		add	r2, r2, r2
 502 01ec FF2003E5 		str	r2, [r3, #-255]
 503              		.loc 1 509 0
 504 01f0 EF2003E5 		str	r2, [r3, #-239]
 505              	.LBE181:
 506              	.LBE180:
 507              	.LBB182:
 508              	.LBB183:
 509              		.loc 1 508 0
 510 01f4 FE2E82E2 		add	r2, r2, #4064
 511 01f8 FF2003E5 		str	r2, [r3, #-255]
 512              		.loc 1 509 0
 513 01fc EF2003E5 		str	r2, [r3, #-239]
 514              	.LBE183:
 515              	.LBE182:
 516              	.LBB184:
 517              	.LBB185:
 518              		.loc 1 508 0
 519 0200 022B42E2 		sub	r2, r2, #2048
 520 0204 FF2003E5 		str	r2, [r3, #-255]
 521              		.loc 1 509 0
 522 0208 EF2003E5 		str	r2, [r3, #-239]
 523              	.LBE185:
 524              	.LBE184:
 525              	.LBB186:
 526              	.LBB187:
 527              		.loc 1 508 0
 528 020c 1F2D42E2 		sub	r2, r2, #1984
 529 0210 FF2003E5 		str	r2, [r3, #-255]
 530              		.loc 1 509 0
 531 0214 EF2003E5 		str	r2, [r3, #-239]
 532              	.LBE187:
 533              	.LBE186:
 534              	.LBB188:
 535              	.LBB189:
 536              		.loc 1 620 0
 537 0218 3F2D82E2 		add	r2, r2, #4032
 538 021c CB2003E5 		str	r2, [r3, #-203]
 539              	.LBE189:
 540              	.LBE188:
 541              	.LBB190:
 542              	.LBB191:
 543 0220 022B42E2 		sub	r2, r2, #2048
 544 0224 CB2003E5 		str	r2, [r3, #-203]
 545              	.LBE191:
 546              	.LBE190:
 547              	.LBB192:
 548              	.LBB193:
 549 0228 1F2D42E2 		sub	r2, r2, #1984
 550 022c CB2003E5 		str	r2, [r3, #-203]
 551              	.LBE193:
 552              	.LBE192:
 553              	.LBB194:
 554              	.LBB195:
 555              		.loc 1 508 0
 556 0230 072D82E2 		add	r2, r2, #448
 557 0234 FF2003E5 		str	r2, [r3, #-255]
 558              	.LBE195:
 559              	.LBE194:
 560              	.LBB196:
 561              	.LBB197:
 562 0238 01BBA0E3 		mov	fp, #1024
 563              	.LBE197:
 564              	.LBE196:
 565              	.LBB198:
 566              	.LBB199:
 567              		.loc 1 509 0
 568 023c EF2003E5 		str	r2, [r3, #-239]
 569              	.LBE199:
 570              	.LBE198:
 571              	.LBB200:
 572              	.LBB201:
 573              		.loc 1 508 0
 574 0240 012CA0E3 		mov	r2, #256
 575              	.LBE201:
 576              	.LBE200:
 577              	.LBB202:
 578              	.LBB203:
 579 0244 FFB003E5 		str	fp, [r3, #-255]
 580              		.loc 1 509 0
 581 0248 EFB003E5 		str	fp, [r3, #-239]
 582              	.LBE203:
 583              	.LBE202:
 584              	.LBB204:
 585              	.LBB205:
 586              		.loc 1 508 0
 587 024c FF2003E5 		str	r2, [r3, #-255]
 588              		.loc 1 509 0
 589 0250 EF2003E5 		str	r2, [r3, #-239]
 590              	.LBE205:
 591              	.LBE204:
 592              	.LBB206:
 593              	.LBB207:
 594              		.loc 1 620 0
 595 0254 022082E0 		add	r2, r2, r2
 596 0258 CB2003E5 		str	r2, [r3, #-203]
 597              	.LBE207:
 598              	.LBE206:
 599              	.LBB208:
 600              	.LBB209:
 601 025c 012CA0E3 		mov	r2, #256
 602              	.LBE209:
 603              	.LBE208:
 604              	.LBB210:
 605              	.LBB211:
 606 0260 CBB003E5 		str	fp, [r3, #-203]
 607              	.LBE211:
 608              	.LBE210:
 609              	.LBB212:
 610              	.LBB213:
 611 0264 CB2003E5 		str	r2, [r3, #-203]
 612              	.LBE213:
 613              	.LBE212:
 614              	.LBB214:
 615              	.LBB215:
 616              		.loc 1 521 0
 617 0268 0227A0E3 		mov	r2, #524288
 618 026c EB2003E5 		str	r2, [r3, #-235]
 619              		.loc 1 522 0
 620 0270 FF2003E5 		str	r2, [r3, #-255]
 621              	.LBE215:
 622              	.LBE214:
 623              	.LBB216:
 624              	.LBB217:
 625              		.loc 1 508 0
 626 0274 7E2A42E2 		sub	r2, r2, #516096
 627 0278 FF2003E5 		str	r2, [r3, #-255]
 628              		.loc 1 509 0
 629 027c EF2003E5 		str	r2, [r3, #-239]
 630              	.LBE217:
 631              	.LBE216:
 632              	.LBB218:
 633              	.LBB219:
 634              		.loc 1 620 0
 635 0280 CB2003E5 		str	r2, [r3, #-203]
 636              	.LBE219:
 637              	.LBE218:
 162:main.c        ****     // U4 PIO (input1) configuration
 163:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);   //U4 A
 164:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);   //U4 B
 165:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);   //U4 C
 166:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);   //U4 D
 167:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);
 168:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);
 169:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);
 170:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);
 171:main.c        **** 
 172:main.c        ****     // PWM configuration
 173:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA0);    //link1DrivePWM                        
 174:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA1);    //link2DrivePWM                        
 175:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA2);    //cameraServoPWM, IRBumper36kHz        
 176:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA7);    //gripperRotateDrive                   
 177:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA0);
 178:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA1);
 179:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA2);
 180:main.c        **** 
 181:main.c        ****     // Platform wheels encoder interrupts
 182:main.c        ****     AT91F_PIO_CfgInput(AT91C_BASE_PIOA, AT91C_PIO_PA20);    // IRQ0
 183:main.c        ****     AT91F_PIO_CfgInput(AT91C_BASE_PIOA, AT91C_PIO_PA30);    // IRQ1
 184:main.c        **** 
 185:main.c        ****     //24V DCDC Converter
 186:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA31);   //DCDC24VENABLEON / DCDC24VENABLEOFF
 187:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA31);
 188:main.c        **** 
 189:main.c        ****     //link1 and link2 INa / INb configuration
 190:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA3);    //link1DriveINa
 191:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA29);   //link1DriveINb
 192:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA28);   //link2DriveINa
 193:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA27);   //link2DriveINb
 194:main.c        **** 
 195:main.c        ****     //gripper rotate IN1, IN2, IN3, IN4, ENA, ENB configuration U3
 196:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA4);    //gripperRotate IN1
 197:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA5);    //gripperRotate IN2
 198:main.c        **** 
 199:main.c        ****     //gripper tilt IN1, IN2, ENA configuration U2
 200:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA12);   //gripperTilt IN1
 201:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA11);   //gripperTilt IN2
 202:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA6);    //gripperTilt ENA
 203:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA12);
 204:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA11);
 205:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA6);
 206:main.c        **** 
 207:main.c        ****     //gripper position IN3, IN4, ENB configuration U2
 208:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA9);    //gripperPosition IN3
 209:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA10);   //gripperPosition IN4
 210:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA8);    //gripperPosition ENB
 211:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA9);
 212:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA10);
 213:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA8);
 214:main.c        **** 
 215:main.c        ****     // IR bumber interrurp FIQ
 216:main.c        ****     AT91F_PIO_CfgInput(AT91C_BASE_PIOA, AT91C_PIO_PA19);    // FIQ
 217:main.c        ****     // IR bumper set IR radiation OFF
 218:main.c        ****     AT91F_PIO_CfgOutput(AT91C_BASE_PIOA, AT91C_PIO_PA13);
 219:main.c        ****     AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA13);
 220:main.c        ****     
 221:main.c        **** 
 222:main.c        ****     // disable all pull-ups
 223:main.c        ****     AT91C_BASE_PIOA->PIO_PPUDR = ~0;
 638              		.loc 2 223 0
 639 0284 0020E0E3 		mvn	r2, #0
 640 0288 9F2003E5 		str	r2, [r3, #-159]
 224:main.c        **** }
 641              		.loc 2 224 0
 642 028c F04FBDE8 		ldmfd	sp!, {r4, r5, r6, r7, r8, r9, sl, fp, lr}
 643 0290 1EFF2FE1 		bx	lr
 644              	.LFE296:
 646              		.section	.rodata.str1.4,"aMS",%progbits,1
 647              		.align	2
 648              	.LC0:
 649 0000 4D53473A 		.ascii	"MSG:%s\012\000"
 649      25730A00 
 650              		.align	2
 651              	.LC1:
 652 0008 2300     		.ascii	"#\000"
 653 000a 0000     		.align	2
 654              	.LC2:
 655 000c 44434443 		.ascii	"DCDC24VENABLEON\000"
 655      32345645 
 655      4E41424C 
 655      454F4E00 
 656              		.align	2
 657              	.LC3:
 658 001c 32345620 		.ascii	"24V DCDC Voltage Regulator is ON\012\000"
 658      44434443 
 658      20566F6C 
 658      74616765 
 658      20526567 
 659 003e 0000     		.align	2
 660              	.LC4:
 661 0040 44434443 		.ascii	"DCDC24VENABLEOFF\000"
 661      32345645 
 661      4E41424C 
 661      454F4646 
 661      00
 662 0051 000000   		.align	2
 663              	.LC5:
 664 0054 32345620 		.ascii	"24V DCDC Voltage Regulator is OFF\012\000"
 664      44434443 
 664      20566F6C 
 664      74616765 
 664      20526567 
 665 0077 00       		.align	2
 666              	.LC6:
 667 0078 53455449 		.ascii	"SETINPUT1CHANNEL0\000"
 667      4E505554 
 667      31434841 
 667      4E4E454C 
 667      3000
 668 008a 0000     		.align	2
 669              	.LC7:
 670 008c 53455449 		.ascii	"SETINPUT1CHANNEL1\000"
 670      4E505554 
 670      31434841 
 670      4E4E454C 
 670      3100
 671 009e 0000     		.align	2
 672              	.LC8:
 673 00a0 53455449 		.ascii	"SETINPUT1CHANNEL2\000"
 673      4E505554 
 673      31434841 
 673      4E4E454C 
 673      3200
 674 00b2 0000     		.align	2
 675              	.LC9:
 676 00b4 53455449 		.ascii	"SETINPUT1CHANNEL3\000"
 676      4E505554 
 676      31434841 
 676      4E4E454C 
 676      3300
 677 00c6 0000     		.align	2
 678              	.LC10:
 679 00c8 53455449 		.ascii	"SETINPUT1CHANNEL4\000"
 679      4E505554 
 679      31434841 
 679      4E4E454C 
 679      3400
 680 00da 0000     		.align	2
 681              	.LC11:
 682 00dc 53455449 		.ascii	"SETINPUT1CHANNEL5\000"
 682      4E505554 
 682      31434841 
 682      4E4E454C 
 682      3500
 683 00ee 0000     		.align	2
 684              	.LC12:
 685 00f0 53455449 		.ascii	"SETINPUT1CHANNEL6\000"
 685      4E505554 
 685      31434841 
 685      4E4E454C 
 685      3600
 686 0102 0000     		.align	2
 687              	.LC13:
 688 0104 53455449 		.ascii	"SETINPUT1CHANNEL7\000"
 688      4E505554 
 688      31434841 
 688      4E4E454C 
 688      3700
 689 0116 0000     		.align	2
 690              	.LC14:
 691 0118 53455449 		.ascii	"SETINPUT1CHANNEL8\000"
 691      4E505554 
 691      31434841 
 691      4E4E454C 
 691      3800
 692 012a 0000     		.align	2
 693              	.LC15:
 694 012c 53455449 		.ascii	"SETINPUT1CHANNEL9\000"
 694      4E505554 
 694      31434841 
 694      4E4E454C 
 694      3900
 695 013e 0000     		.align	2
 696              	.LC16:
 697 0140 53455449 		.ascii	"SETINPUT1CHANNEL10\000"
 697      4E505554 
 697      31434841 
 697      4E4E454C 
 697      313000
 698 0153 00       		.align	2
 699              	.LC17:
 700 0154 53455449 		.ascii	"SETINPUT1CHANNEL11\000"
 700      4E505554 
 700      31434841 
 700      4E4E454C 
 700      313100
 701 0167 00       		.align	2
 702              	.LC18:
 703 0168 53455449 		.ascii	"SETINPUT1CHANNEL12\000"
 703      4E505554 
 703      31434841 
 703      4E4E454C 
 703      313200
 704 017b 00       		.align	2
 705              	.LC19:
 706 017c 53455449 		.ascii	"SETINPUT1CHANNEL13\000"
 706      4E505554 
 706      31434841 
 706      4E4E454C 
 706      313300
 707 018f 00       		.align	2
 708              	.LC20:
 709 0190 53455449 		.ascii	"SETINPUT1CHANNEL14\000"
 709      4E505554 
 709      31434841 
 709      4E4E454C 
 709      313400
 710 01a3 00       		.align	2
 711              	.LC21:
 712 01a4 53455449 		.ascii	"SETINPUT1CHANNEL15\000"
 712      4E505554 
 712      31434841 
 712      4E4E454C 
 712      313500
 713 01b7 00       		.align	2
 714              	.LC22:
 715 01b8 53544152 		.ascii	"STARTINPUT1READINGS\000"
 715      54494E50 
 715      55543152 
 715      45414449 
 715      4E475300 
 716              		.align	2
 717              	.LC23:
 718 01cc 53544F50 		.ascii	"STOPINPUT1READINGS\000"
 718      494E5055 
 718      54315245 
 718      4144494E 
 718      475300
 719 01df 00       		.align	2
 720              	.LC24:
 721 01e0 53455443 		.ascii	"SETCAMERASERVODUTY\000"
 721      414D4552 
 721      41534552 
 721      564F4455 
 721      545900
 722 01f3 00       		.align	2
 723              	.LC25:
 724 01f4 44495341 		.ascii	"DISABLECAMERASERVO\000"
 724      424C4543 
 724      414D4552 
 724      41534552 
 724      564F00
 725 0207 00       		.align	2
 726              	.LC26:
 727 0208 43414D45 		.ascii	"CAMERA SERVO DISABLED\012\000"
 727      52412053 
 727      4552564F 
 727      20444953 
 727      41424C45 
 728 021f 00       		.align	2
 729              	.LC27:
 730 0220 5345544C 		.ascii	"SETLINK1DRIVEDUTY\000"
 730      494E4B31 
 730      44524956 
 730      45445554 
 730      5900
 731 0232 0000     		.align	2
 732              	.LC28:
 733 0234 4C494E4B 		.ascii	"LINK1GETUP\000"
 733      31474554 
 733      555000
 734 023f 00       		.align	2
 735              	.LC29:
 736 0240 4C494E4B 		.ascii	"LINK1GETDOWN\000"
 736      31474554 
 736      444F574E 
 736      00
 737 024d 000000   		.align	2
 738              	.LC30:
 739 0250 4C494E4B 		.ascii	"LINK1STOP\000"
 739      3153544F 
 739      5000
 740 025a 0000     		.align	2
 741              	.LC31:
 742 025c 5345544C 		.ascii	"SETLINK2DRIVEDUTY\000"
 742      494E4B32 
 742      44524956 
 742      45445554 
 742      5900
 743 026e 0000     		.align	2
 744              	.LC32:
 745 0270 4C494E4B 		.ascii	"LINK2GETUP\000"
 745      32474554 
 745      555000
 746 027b 00       		.align	2
 747              	.LC33:
 748 027c 4C494E4B 		.ascii	"LINK2GETDOWN\000"
 748      32474554 
 748      444F574E 
 748      00
 749 0289 000000   		.align	2
 750              	.LC34:
 751 028c 4C494E4B 		.ascii	"LINK2STOP\000"
 751      3253544F 
 751      5000
 752 0296 0000     		.align	2
 753              	.LC35:
 754 0298 53455447 		.ascii	"SETGRIPPERROTATEDRIVEDUTY\000"
 754      52495050 
 754      4552524F 
 754      54415445 
 754      44524956 
 755 02b2 0000     		.align	2
 756              	.LC36:
 757 02b4 47524950 		.ascii	"GRIPPERROTATECW\000"
 757      50455252 
 757      4F544154 
 757      45435700 
 758              		.align	2
 759              	.LC37:
 760 02c4 47524950 		.ascii	"GRIPPERROTATECCW\000"
 760      50455252 
 760      4F544154 
 760      45434357 
 760      00
 761 02d5 000000   		.align	2
 762              	.LC38:
 763 02d8 47524950 		.ascii	"GRIPPERROTATESTOP\000"
 763      50455252 
 763      4F544154 
 763      4553544F 
 763      5000
 764 02ea 0000     		.align	2
 765              	.LC39:
 766 02ec 47524950 		.ascii	"GRIPPERTILTGETUP\000"
 766      50455254 
 766      494C5447 
 766      45545550 
 766      00
 767 02fd 000000   		.align	2
 768              	.LC40:
 769 0300 47524950 		.ascii	"GRIPPERTILTGETDOWN\000"
 769      50455254 
 769      494C5447 
 769      4554444F 
 769      574E00
 770 0313 00       		.align	2
 771              	.LC41:
 772 0314 47524950 		.ascii	"GRIPPERTILTSTOP\000"
 772      50455254 
 772      494C5453 
 772      544F5000 
 773              		.align	2
 774              	.LC42:
 775 0324 47524950 		.ascii	"GRIPPERPOSITIONCLOSE\000"
 775      50455250 
 775      4F534954 
 775      494F4E43 
 775      4C4F5345 
 776 0339 000000   		.align	2
 777              	.LC43:
 778 033c 47524950 		.ascii	"GRIPPERPOSITIONOPEN\000"
 778      50455250 
 778      4F534954 
 778      494F4E4F 
 778      50454E00 
 779              		.align	2
 780              	.LC44:
 781 0350 47524950 		.ascii	"GRIPPERPOSITIONSTOP\000"
 781      50455250 
 781      4F534954 
 781      494F4E53 
 781      544F5000 
 782              		.align	2
 783              	.LC45:
 784 0364 44454D4F 		.ascii	"DEMOPSTART\000"
 784      50535441 
 784      525400
 785 036f 00       		.align	2
 786              	.LC46:
 787 0370 50415241 		.ascii	"PARALLEL EXECUTION MANIPULATOR DEMO STARTED\012\000"
 787      4C4C454C 
 787      20455845 
 787      43555449 
 787      4F4E204D 
 788 039d 000000   		.align	2
 789              	.LC47:
 790 03a0 44454D4F 		.ascii	"DEMOPSTOP\000"
 790      5053544F 
 790      5000
 791 03aa 0000     		.align	2
 792              	.LC48:
 793 03ac 50415241 		.ascii	"PARALLEL EXECUTION MANIPULATOR DEMO STOPPED\012\000"
 793      4C4C454C 
 793      20455845 
 793      43555449 
 793      4F4E204D 
 794 03d9 000000   		.align	2
 795              	.LC49:
 796 03dc 44454D4F 		.ascii	"DEMOSSTART\000"
 796      53535441 
 796      525400
 797 03e7 00       		.align	2
 798              	.LC50:
 799 03e8 53455249 		.ascii	"SERIAL EXECUTION MANIPULATOR DEMO STARTED\012\000"
 799      414C2045 
 799      58454355 
 799      54494F4E 
 799      204D414E 
 800 0413 00       		.align	2
 801              	.LC51:
 802 0414 44454D4F 		.ascii	"DEMOSSTOP\000"
 802      5353544F 
 802      5000
 803 041e 0000     		.align	2
 804              	.LC52:
 805 0420 53455249 		.ascii	"SERIAL EXECUTION MANIPULATOR DEMO STOPPED\012\000"
 805      414C2045 
 805      58454355 
 805      54494F4E 
 805      204D414E 
 806 044b 00       		.align	2
 807              	.LC53:
 808 044c 494E5055 		.ascii	"INPUT1 CHANNEL [%u]: %u\012\000"
 808      54312043 
 808      48414E4E 
 808      454C205B 
 808      25755D3A 
 809 0465 000000   		.text
 810              		.align	2
 811              		.global	main
 813              	main:
 814              	.LFB299:
 225:main.c        **** 
 226:main.c        **** static void InitIRQ()
 227:main.c        **** {
 228:main.c        ****     // IRQ0 initialization
 229:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PIO_PA20, 0);
 230:main.c        ****     AT91F_AIC_ConfigureIt(AT91C_BASE_AIC, AT91C_ID_IRQ0, AT91C_AIC_PRIOR_HIGHEST, AT91C_AIC_SRCTYPE
 231:main.c        ****     //AT91F_AIC_EnableIt(AT91C_BASE_AIC, AT91C_ID_IRQ0);
 232:main.c        **** 
 233:main.c        ****     // IRQ1 initialization
 234:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PIO_PA30, 0);
 235:main.c        ****     AT91F_AIC_ConfigureIt(AT91C_BASE_AIC, AT91C_ID_IRQ1, AT91C_AIC_PRIOR_HIGHEST, AT91C_AIC_SRCTYPE
 236:main.c        ****     //AT91F_AIC_EnableIt(AT91C_BASE_AIC, AT91C_ID_IRQ1);
 237:main.c        **** 
 238:main.c        ****     // FIQ initialization
 239:main.c        ****     AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PIO_PA19, 0);
 240:main.c        ****     AT91F_AIC_ConfigureIt(AT91C_BASE_AIC, AT91C_ID_FIQ, FIQ_INTERRUPT_LEVEL, AT91C_AIC_SRCTYPE_POSI
 241:main.c        ****     //AT91F_AIC_EnableIt(AT91C_BASE_AIC, AT91C_ID_FIQ);
 242:main.c        **** }
 243:main.c        **** 
 244:main.c        **** 
 245:main.c        **** //*----------------------------------------------------------------------------
 246:main.c        **** //* Function Name       : DeviceInit
 247:main.c        **** //* Object              : Device peripherals initialization
 248:main.c        **** ///*----------------------------------------------------------------------------
 249:main.c        **** static void DeviceInit(void)
 250:main.c        **** {
 251:main.c        ****     InitPIO();
 252:main.c        **** 
 253:main.c        ****     // Enable User Reset and set its minimal assertion to 960 us
 254:main.c        ****     AT91C_BASE_RSTC->RSTC_RMR = AT91C_RSTC_URSTEN | (0x4 << 8) | (unsigned int)(0xA5 << 24);
 255:main.c        **** 
 256:main.c        ****     // Set-up the PIO
 257:main.c        ****     // First, enable the clock of the PIO and set the LEDs in output
 258:main.c        ****     AT91F_PMC_EnablePeriphClock ( AT91C_BASE_PMC, 1 << AT91C_ID_PIOA );
 259:main.c        **** 
 260:main.c        ****     // Initialize USB device
 261:main.c        ****     AT91FUSBOpen();
 262:main.c        ****     // Wait for the end of enumeration
 263:main.c        ****     while (!pCDC.IsConfigured(&pCDC));
 264:main.c        **** 
 265:main.c        ****     InitPIO();
 266:main.c        ****     InitADC();
 267:main.c        ****     InitPWM();
 268:main.c        ****     InitIRQ();
 269:main.c        **** }
 270:main.c        **** 
 271:main.c        **** 
 272:main.c        **** /*
 273:main.c        ****  * Main Entry Point and Main Loop
 274:main.c        ****  */
 275:main.c        **** int main(void)
 276:main.c        **** {
 815              		.loc 2 276 0
 816              		@ Function supports interworking.
 817              		@ args = 0, pretend = 0, frame = 1032
 818              		@ frame_needed = 0, uses_anonymous_args = 0
 819 0294 F0472DE9 		stmfd	sp!, {r4, r5, r6, r7, r8, r9, sl, lr}
 820              	.LCFI5:
 821 0298 01DB4DE2 		sub	sp, sp, #1024
 822              	.LCFI6:
 823 029c 0CD04DE2 		sub	sp, sp, #12
 824              	.LCFI7:
 825              	.LBB503:
 826              	.LBB504:
 827              		.loc 2 251 0
 828 02a0 3E0000EB 		bl	InitPIO
 829              		.loc 2 254 0
 830 02a4 A02A9FE5 		ldr	r2, .L152
 831 02a8 023CE0E3 		mvn	r3, #512
 832 02ac F72003E5 		str	r2, [r3, #-247]
 833              	.LBB505:
 834              	.LBB506:
 621:lib_AT91SAM7S64.h **** }
 622:lib_AT91SAM7S64.h **** 
 623:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 624:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_ForceOutput
 625:lib_AT91SAM7S64.h **** //* \brief Force output when Direct drive option is enabled
 626:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 627:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_ForceOutput(
 628:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 629:lib_AT91SAM7S64.h **** 	unsigned int flag) // \arg  output to be forced
 630:lib_AT91SAM7S64.h **** {
 631:lib_AT91SAM7S64.h **** 	pPio->PIO_ODSR = flag;
 632:lib_AT91SAM7S64.h **** }
 633:lib_AT91SAM7S64.h **** 
 634:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 635:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_Enable
 636:lib_AT91SAM7S64.h **** //* \brief Enable PIO
 637:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 638:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_Enable(
 639:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 640:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio to be enabled 
 641:lib_AT91SAM7S64.h **** {
 642:lib_AT91SAM7S64.h ****         pPio->PIO_PER = flag;
 643:lib_AT91SAM7S64.h **** }
 644:lib_AT91SAM7S64.h **** 
 645:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 646:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_Disable
 647:lib_AT91SAM7S64.h **** //* \brief Disable PIO
 648:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 649:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_Disable(
 650:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 651:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio to be disabled 
 652:lib_AT91SAM7S64.h **** {
 653:lib_AT91SAM7S64.h ****         pPio->PIO_PDR = flag;
 654:lib_AT91SAM7S64.h **** }
 655:lib_AT91SAM7S64.h **** 
 656:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 657:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetStatus
 658:lib_AT91SAM7S64.h **** //* \brief Return PIO Status
 659:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 660:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetStatus( // \return PIO Status
 661:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 662:lib_AT91SAM7S64.h **** {
 663:lib_AT91SAM7S64.h ****         return pPio->PIO_PSR;
 664:lib_AT91SAM7S64.h **** }
 665:lib_AT91SAM7S64.h **** 
 666:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 667:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsSet
 668:lib_AT91SAM7S64.h **** //* \brief Test if PIO is Set
 669:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 670:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsSet(
 671:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 672:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 673:lib_AT91SAM7S64.h **** {
 674:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetStatus(pPio) & flag);
 675:lib_AT91SAM7S64.h **** }
 676:lib_AT91SAM7S64.h **** 
 677:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 678:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_OutputEnable
 679:lib_AT91SAM7S64.h **** //* \brief Output Enable PIO
 680:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 681:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_OutputEnable(
 682:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 683:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio output to be enabled
 684:lib_AT91SAM7S64.h **** {
 685:lib_AT91SAM7S64.h ****         pPio->PIO_OER = flag;
 686:lib_AT91SAM7S64.h **** }
 687:lib_AT91SAM7S64.h **** 
 688:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 689:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_OutputDisable
 690:lib_AT91SAM7S64.h **** //* \brief Output Enable PIO
 691:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 692:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_OutputDisable(
 693:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 694:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio output to be disabled
 695:lib_AT91SAM7S64.h **** {
 696:lib_AT91SAM7S64.h ****         pPio->PIO_ODR = flag;
 697:lib_AT91SAM7S64.h **** }
 698:lib_AT91SAM7S64.h **** 
 699:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 700:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetOutputStatus
 701:lib_AT91SAM7S64.h **** //* \brief Return PIO Output Status
 702:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 703:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetOutputStatus( // \return PIO Output Status
 704:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 705:lib_AT91SAM7S64.h **** {
 706:lib_AT91SAM7S64.h ****         return pPio->PIO_OSR;
 707:lib_AT91SAM7S64.h **** }
 708:lib_AT91SAM7S64.h **** 
 709:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 710:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsOuputSet
 711:lib_AT91SAM7S64.h **** //* \brief Test if PIO Output is Set
 712:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 713:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsOutputSet(
 714:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 715:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 716:lib_AT91SAM7S64.h **** {
 717:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetOutputStatus(pPio) & flag);
 718:lib_AT91SAM7S64.h **** }
 719:lib_AT91SAM7S64.h **** 
 720:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 721:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_InputFilterEnable
 722:lib_AT91SAM7S64.h **** //* \brief Input Filter Enable PIO
 723:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 724:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_InputFilterEnable(
 725:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 726:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio input filter to be enabled
 727:lib_AT91SAM7S64.h **** {
 728:lib_AT91SAM7S64.h ****         pPio->PIO_IFER = flag;
 729:lib_AT91SAM7S64.h **** }
 730:lib_AT91SAM7S64.h **** 
 731:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 732:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_InputFilterDisable
 733:lib_AT91SAM7S64.h **** //* \brief Input Filter Disable PIO
 734:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 735:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_InputFilterDisable(
 736:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 737:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio input filter to be disabled
 738:lib_AT91SAM7S64.h **** {
 739:lib_AT91SAM7S64.h ****         pPio->PIO_IFDR = flag;
 740:lib_AT91SAM7S64.h **** }
 741:lib_AT91SAM7S64.h **** 
 742:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 743:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetInputFilterStatus
 744:lib_AT91SAM7S64.h **** //* \brief Return PIO Input Filter Status
 745:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 746:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetInputFilterStatus( // \return PIO Input Filter Status
 747:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 748:lib_AT91SAM7S64.h **** {
 749:lib_AT91SAM7S64.h ****         return pPio->PIO_IFSR;
 750:lib_AT91SAM7S64.h **** }
 751:lib_AT91SAM7S64.h **** 
 752:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 753:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsInputFilterSet
 754:lib_AT91SAM7S64.h **** //* \brief Test if PIO Input filter is Set
 755:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 756:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsInputFilterSet(
 757:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 758:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 759:lib_AT91SAM7S64.h **** {
 760:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetInputFilterStatus(pPio) & flag);
 761:lib_AT91SAM7S64.h **** }
 762:lib_AT91SAM7S64.h **** 
 763:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 764:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetOutputDataStatus
 765:lib_AT91SAM7S64.h **** //* \brief Return PIO Output Data Status 
 766:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 767:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetOutputDataStatus( // \return PIO Output Data Status 
 768:lib_AT91SAM7S64.h **** 	AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 769:lib_AT91SAM7S64.h **** {
 770:lib_AT91SAM7S64.h ****         return pPio->PIO_ODSR;
 771:lib_AT91SAM7S64.h **** }
 772:lib_AT91SAM7S64.h **** 
 773:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 774:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_InterruptEnable
 775:lib_AT91SAM7S64.h **** //* \brief Enable PIO Interrupt
 776:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 777:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_InterruptEnable(
 778:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 779:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio interrupt to be enabled
 780:lib_AT91SAM7S64.h **** {
 781:lib_AT91SAM7S64.h ****         pPio->PIO_IER = flag;
 782:lib_AT91SAM7S64.h **** }
 783:lib_AT91SAM7S64.h **** 
 784:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 785:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_InterruptDisable
 786:lib_AT91SAM7S64.h **** //* \brief Disable PIO Interrupt
 787:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 788:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_InterruptDisable(
 789:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 790:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio interrupt to be disabled
 791:lib_AT91SAM7S64.h **** {
 792:lib_AT91SAM7S64.h ****         pPio->PIO_IDR = flag;
 793:lib_AT91SAM7S64.h **** }
 794:lib_AT91SAM7S64.h **** 
 795:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 796:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetInterruptMaskStatus
 797:lib_AT91SAM7S64.h **** //* \brief Return PIO Interrupt Mask Status
 798:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 799:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetInterruptMaskStatus( // \return PIO Interrupt Mask Status
 800:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 801:lib_AT91SAM7S64.h **** {
 802:lib_AT91SAM7S64.h ****         return pPio->PIO_IMR;
 803:lib_AT91SAM7S64.h **** }
 804:lib_AT91SAM7S64.h **** 
 805:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 806:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetInterruptStatus
 807:lib_AT91SAM7S64.h **** //* \brief Return PIO Interrupt Status
 808:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 809:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetInterruptStatus( // \return PIO Interrupt Status
 810:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 811:lib_AT91SAM7S64.h **** {
 812:lib_AT91SAM7S64.h ****         return pPio->PIO_ISR;
 813:lib_AT91SAM7S64.h **** }
 814:lib_AT91SAM7S64.h **** 
 815:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 816:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsInterruptMasked
 817:lib_AT91SAM7S64.h **** //* \brief Test if PIO Interrupt is Masked 
 818:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 819:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsInterruptMasked(
 820:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 821:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 822:lib_AT91SAM7S64.h **** {
 823:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetInterruptMaskStatus(pPio) & flag);
 824:lib_AT91SAM7S64.h **** }
 825:lib_AT91SAM7S64.h **** 
 826:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 827:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsInterruptSet
 828:lib_AT91SAM7S64.h **** //* \brief Test if PIO Interrupt is Set
 829:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 830:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsInterruptSet(
 831:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 832:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 833:lib_AT91SAM7S64.h **** {
 834:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetInterruptStatus(pPio) & flag);
 835:lib_AT91SAM7S64.h **** }
 836:lib_AT91SAM7S64.h **** 
 837:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 838:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_MultiDriverEnable
 839:lib_AT91SAM7S64.h **** //* \brief Multi Driver Enable PIO
 840:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 841:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_MultiDriverEnable(
 842:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 843:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio to be enabled
 844:lib_AT91SAM7S64.h **** {
 845:lib_AT91SAM7S64.h ****         pPio->PIO_MDER = flag;
 846:lib_AT91SAM7S64.h **** }
 847:lib_AT91SAM7S64.h **** 
 848:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 849:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_MultiDriverDisable
 850:lib_AT91SAM7S64.h **** //* \brief Multi Driver Disable PIO
 851:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 852:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_MultiDriverDisable(
 853:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 854:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio to be disabled
 855:lib_AT91SAM7S64.h **** {
 856:lib_AT91SAM7S64.h ****         pPio->PIO_MDDR = flag;
 857:lib_AT91SAM7S64.h **** }
 858:lib_AT91SAM7S64.h **** 
 859:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 860:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetMultiDriverStatus
 861:lib_AT91SAM7S64.h **** //* \brief Return PIO Multi Driver Status
 862:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 863:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetMultiDriverStatus( // \return PIO Multi Driver Status
 864:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 865:lib_AT91SAM7S64.h **** {
 866:lib_AT91SAM7S64.h ****         return pPio->PIO_MDSR;
 867:lib_AT91SAM7S64.h **** }
 868:lib_AT91SAM7S64.h **** 
 869:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 870:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsMultiDriverSet
 871:lib_AT91SAM7S64.h **** //* \brief Test if PIO MultiDriver is Set
 872:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 873:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsMultiDriverSet(
 874:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 875:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 876:lib_AT91SAM7S64.h **** {
 877:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetMultiDriverStatus(pPio) & flag);
 878:lib_AT91SAM7S64.h **** }
 879:lib_AT91SAM7S64.h **** 
 880:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 881:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_A_RegisterSelection
 882:lib_AT91SAM7S64.h **** //* \brief PIO A Register Selection 
 883:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 884:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_A_RegisterSelection(
 885:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 886:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio A register selection
 887:lib_AT91SAM7S64.h **** {
 888:lib_AT91SAM7S64.h ****         pPio->PIO_ASR = flag;
 889:lib_AT91SAM7S64.h **** }
 890:lib_AT91SAM7S64.h **** 
 891:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 892:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_B_RegisterSelection
 893:lib_AT91SAM7S64.h **** //* \brief PIO B Register Selection 
 894:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 895:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_B_RegisterSelection(
 896:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 897:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio B register selection 
 898:lib_AT91SAM7S64.h **** {
 899:lib_AT91SAM7S64.h ****         pPio->PIO_BSR = flag;
 900:lib_AT91SAM7S64.h **** }
 901:lib_AT91SAM7S64.h **** 
 902:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 903:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_Get_AB_RegisterStatus
 904:lib_AT91SAM7S64.h **** //* \brief Return PIO Interrupt Status
 905:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 906:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_Get_AB_RegisterStatus( // \return PIO AB Register Status
 907:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 908:lib_AT91SAM7S64.h **** {
 909:lib_AT91SAM7S64.h ****         return pPio->PIO_ABSR;
 910:lib_AT91SAM7S64.h **** }
 911:lib_AT91SAM7S64.h **** 
 912:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 913:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsAB_RegisterSet
 914:lib_AT91SAM7S64.h **** //* \brief Test if PIO AB Register is Set
 915:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 916:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsAB_RegisterSet(
 917:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 918:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 919:lib_AT91SAM7S64.h **** {
 920:lib_AT91SAM7S64.h ****         return (AT91F_PIO_Get_AB_RegisterStatus(pPio) & flag);
 921:lib_AT91SAM7S64.h **** }
 922:lib_AT91SAM7S64.h **** 
 923:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 924:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_OutputWriteEnable
 925:lib_AT91SAM7S64.h **** //* \brief Output Write Enable PIO
 926:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 927:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_OutputWriteEnable(
 928:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 929:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio output write to be enabled
 930:lib_AT91SAM7S64.h **** {
 931:lib_AT91SAM7S64.h ****         pPio->PIO_OWER = flag;
 932:lib_AT91SAM7S64.h **** }
 933:lib_AT91SAM7S64.h **** 
 934:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 935:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_OutputWriteDisable
 936:lib_AT91SAM7S64.h **** //* \brief Output Write Disable PIO
 937:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 938:lib_AT91SAM7S64.h **** __inline void AT91F_PIO_OutputWriteDisable(
 939:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 940:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  pio output write to be disabled
 941:lib_AT91SAM7S64.h **** {
 942:lib_AT91SAM7S64.h ****         pPio->PIO_OWDR = flag;
 943:lib_AT91SAM7S64.h **** }
 944:lib_AT91SAM7S64.h **** 
 945:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 946:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetOutputWriteStatus
 947:lib_AT91SAM7S64.h **** //* \brief Return PIO Output Write Status
 948:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 949:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetOutputWriteStatus( // \return PIO Output Write Status
 950:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 951:lib_AT91SAM7S64.h **** {
 952:lib_AT91SAM7S64.h ****         return pPio->PIO_OWSR;
 953:lib_AT91SAM7S64.h **** }
 954:lib_AT91SAM7S64.h **** 
 955:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 956:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsOutputWriteSet
 957:lib_AT91SAM7S64.h **** //* \brief Test if PIO OutputWrite is Set
 958:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 959:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsOutputWriteSet(
 960:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 961:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 962:lib_AT91SAM7S64.h **** {
 963:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetOutputWriteStatus(pPio) & flag);
 964:lib_AT91SAM7S64.h **** }
 965:lib_AT91SAM7S64.h **** 
 966:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 967:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_GetCfgPullup
 968:lib_AT91SAM7S64.h **** //* \brief Return PIO Configuration Pullup
 969:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 970:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PIO_GetCfgPullup( // \return PIO Configuration Pullup 
 971:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio) // \arg  pointer to a PIO controller
 972:lib_AT91SAM7S64.h **** {
 973:lib_AT91SAM7S64.h ****         return pPio->PIO_PPUSR;
 974:lib_AT91SAM7S64.h **** }
 975:lib_AT91SAM7S64.h **** 
 976:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 977:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsOutputDataStatusSet
 978:lib_AT91SAM7S64.h **** //* \brief Test if PIO Output Data Status is Set 
 979:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 980:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsOutputDataStatusSet(
 981:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 982:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 983:lib_AT91SAM7S64.h **** {
 984:lib_AT91SAM7S64.h ****         return (AT91F_PIO_GetOutputDataStatus(pPio) & flag);
 985:lib_AT91SAM7S64.h **** }
 986:lib_AT91SAM7S64.h **** 
 987:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 988:lib_AT91SAM7S64.h **** //* \fn    AT91F_PIO_IsCfgPullupStatusSet
 989:lib_AT91SAM7S64.h **** //* \brief Test if PIO Configuration Pullup Status is Set
 990:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
 991:lib_AT91SAM7S64.h **** __inline int AT91F_PIO_IsCfgPullupStatusSet(
 992:lib_AT91SAM7S64.h ****         AT91PS_PIO pPio,   // \arg  pointer to a PIO controller
 993:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
 994:lib_AT91SAM7S64.h **** {
 995:lib_AT91SAM7S64.h ****         return (~AT91F_PIO_GetCfgPullup(pPio) & flag);
 996:lib_AT91SAM7S64.h **** }
 997:lib_AT91SAM7S64.h **** 
 998:lib_AT91SAM7S64.h **** /* *****************************************************************************
 999:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR PMC
1000:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1001:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1002:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_CfgSysClkEnableReg
1003:lib_AT91SAM7S64.h **** //* \brief Configure the System Clock Enable Register of the PMC controller
1004:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1005:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_CfgSysClkEnableReg (
1006:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1007:lib_AT91SAM7S64.h **** 	unsigned int mode)
1008:lib_AT91SAM7S64.h **** {
1009:lib_AT91SAM7S64.h **** 	//* Write to the SCER register
1010:lib_AT91SAM7S64.h **** 	pPMC->PMC_SCER = mode;
1011:lib_AT91SAM7S64.h **** }
1012:lib_AT91SAM7S64.h **** 
1013:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1014:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_CfgSysClkDisableReg
1015:lib_AT91SAM7S64.h **** //* \brief Configure the System Clock Disable Register of the PMC controller
1016:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1017:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_CfgSysClkDisableReg (
1018:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1019:lib_AT91SAM7S64.h **** 	unsigned int mode)
1020:lib_AT91SAM7S64.h **** {
1021:lib_AT91SAM7S64.h **** 	//* Write to the SCDR register
1022:lib_AT91SAM7S64.h **** 	pPMC->PMC_SCDR = mode;
1023:lib_AT91SAM7S64.h **** }
1024:lib_AT91SAM7S64.h **** 
1025:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1026:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetSysClkStatusReg
1027:lib_AT91SAM7S64.h **** //* \brief Return the System Clock Status Register of the PMC controller
1028:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1029:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetSysClkStatusReg (
1030:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC // pointer to a CAN controller
1031:lib_AT91SAM7S64.h **** 	)
1032:lib_AT91SAM7S64.h **** {
1033:lib_AT91SAM7S64.h **** 	return pPMC->PMC_SCSR;
1034:lib_AT91SAM7S64.h **** }
1035:lib_AT91SAM7S64.h **** 
1036:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1037:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_EnablePeriphClock
1038:lib_AT91SAM7S64.h **** //* \brief Enable peripheral clock
1039:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1040:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_EnablePeriphClock (
1041:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1042:lib_AT91SAM7S64.h **** 	unsigned int periphIds)  // \arg IDs of peripherals to enable
1043:lib_AT91SAM7S64.h **** {
1044:lib_AT91SAM7S64.h **** 	pPMC->PMC_PCER = periphIds;
 835              		.loc 1 1044 0
 836 02b0 0420A0E3 		mov	r2, #4
 837 02b4 033CE0E3 		mvn	r3, #768
 838 02b8 EF2003E5 		str	r2, [r3, #-239]
 839              	.LBE506:
 840              	.LBE505:
 841              		.loc 2 261 0
 842 02bc FEFFFFEB 		bl	AT91FUSBOpen
 843              	.L24:
 844              	.LBE504:
 845              		.loc 2 263 0
 846 02c0 883A9FE5 		ldr	r3, .L152+4
 847 02c4 0300A0E1 		mov	r0, r3
 848 02c8 0CC093E5 		ldr	ip, [r3, #12]
 849 02cc 0FE0A0E1 		mov	lr, pc
 850 02d0 1CFF2FE1 		bx	ip
 851              	.LBB507:
 852 02d4 000050E3 		cmp	r0, #0
 853 02d8 AE00000A 		beq	.L24
 854              	.LBB508:
 855              	.LBB509:
 856              	.LBB510:
 857              	.LBB511:
 858              		.loc 1 495 0
 859 02dc 0B5CE0E3 		mvn	r5, #2816
 860              	.LBE511:
 861              	.LBE510:
 862              	.LBB512:
 863              	.LBB513:
1045:lib_AT91SAM7S64.h **** }
1046:lib_AT91SAM7S64.h **** 
1047:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1048:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_DisablePeriphClock
1049:lib_AT91SAM7S64.h **** //* \brief Disable peripheral clock
1050:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1051:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_DisablePeriphClock (
1052:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1053:lib_AT91SAM7S64.h **** 	unsigned int periphIds)  // \arg IDs of peripherals to enable
1054:lib_AT91SAM7S64.h **** {
1055:lib_AT91SAM7S64.h **** 	pPMC->PMC_PCDR = periphIds;
1056:lib_AT91SAM7S64.h **** }
1057:lib_AT91SAM7S64.h **** 
1058:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1059:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetPeriphClock
1060:lib_AT91SAM7S64.h **** //* \brief Get peripheral clock status
1061:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1062:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetPeriphClock (
1063:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC) // \arg pointer to PMC controller
1064:lib_AT91SAM7S64.h **** {
1065:lib_AT91SAM7S64.h **** 	return pPMC->PMC_PCSR;
1066:lib_AT91SAM7S64.h **** }
1067:lib_AT91SAM7S64.h **** 
1068:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1069:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_CfgMainOscillatorReg
1070:lib_AT91SAM7S64.h **** //* \brief Cfg the main oscillator
1071:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1072:lib_AT91SAM7S64.h **** __inline void AT91F_CKGR_CfgMainOscillatorReg (
1073:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1074:lib_AT91SAM7S64.h **** 	unsigned int mode)
1075:lib_AT91SAM7S64.h **** {
1076:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_MOR = mode;
1077:lib_AT91SAM7S64.h **** }
1078:lib_AT91SAM7S64.h **** 
1079:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1080:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_GetMainOscillatorReg
1081:lib_AT91SAM7S64.h **** //* \brief Cfg the main oscillator
1082:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1083:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_CKGR_GetMainOscillatorReg (
1084:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1085:lib_AT91SAM7S64.h **** {
1086:lib_AT91SAM7S64.h **** 	return pCKGR->CKGR_MOR;
1087:lib_AT91SAM7S64.h **** }
1088:lib_AT91SAM7S64.h **** 
1089:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1090:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_EnableMainOscillator
1091:lib_AT91SAM7S64.h **** //* \brief Enable the main oscillator
1092:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1093:lib_AT91SAM7S64.h **** __inline void AT91F_CKGR_EnableMainOscillator(
1094:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1095:lib_AT91SAM7S64.h **** {
1096:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_MOR |= AT91C_CKGR_MOSCEN;
1097:lib_AT91SAM7S64.h **** }
1098:lib_AT91SAM7S64.h **** 
1099:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1100:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_DisableMainOscillator
1101:lib_AT91SAM7S64.h **** //* \brief Disable the main oscillator
1102:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1103:lib_AT91SAM7S64.h **** __inline void AT91F_CKGR_DisableMainOscillator (
1104:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1105:lib_AT91SAM7S64.h **** {
1106:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_MOR &= ~AT91C_CKGR_MOSCEN;
1107:lib_AT91SAM7S64.h **** }
1108:lib_AT91SAM7S64.h **** 
1109:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1110:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_CfgMainOscStartUpTime
1111:lib_AT91SAM7S64.h **** //* \brief Cfg MOR Register according to the main osc startup time
1112:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1113:lib_AT91SAM7S64.h **** __inline void AT91F_CKGR_CfgMainOscStartUpTime (
1114:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1115:lib_AT91SAM7S64.h **** 	unsigned int startup_time,  // \arg main osc startup time in microsecond (us)
1116:lib_AT91SAM7S64.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1117:lib_AT91SAM7S64.h **** {
1118:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_MOR &= ~AT91C_CKGR_OSCOUNT;
1119:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_MOR |= ((slowClock * startup_time)/(8*1000000)) << 8;
1120:lib_AT91SAM7S64.h **** }
1121:lib_AT91SAM7S64.h **** 
1122:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1123:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_GetMainClockFreqReg
1124:lib_AT91SAM7S64.h **** //* \brief Cfg the main oscillator
1125:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1126:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_CKGR_GetMainClockFreqReg (
1127:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1128:lib_AT91SAM7S64.h **** {
1129:lib_AT91SAM7S64.h **** 	return pCKGR->CKGR_MCFR;
1130:lib_AT91SAM7S64.h **** }
1131:lib_AT91SAM7S64.h **** 
1132:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1133:lib_AT91SAM7S64.h **** //* \fn    AT91F_CKGR_GetMainClock
1134:lib_AT91SAM7S64.h **** //* \brief Return Main clock in Hz
1135:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1136:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_CKGR_GetMainClock (
1137:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1138:lib_AT91SAM7S64.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1139:lib_AT91SAM7S64.h **** {
1140:lib_AT91SAM7S64.h **** 	return ((pCKGR->CKGR_MCFR  & AT91C_CKGR_MAINF) * slowClock) >> 4;
1141:lib_AT91SAM7S64.h **** }
1142:lib_AT91SAM7S64.h **** 
1143:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1144:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_CfgMCKReg
1145:lib_AT91SAM7S64.h **** //* \brief Cfg Master Clock Register
1146:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1147:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_CfgMCKReg (
1148:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1149:lib_AT91SAM7S64.h **** 	unsigned int mode)
1150:lib_AT91SAM7S64.h **** {
1151:lib_AT91SAM7S64.h **** 	pPMC->PMC_MCKR = mode;
1152:lib_AT91SAM7S64.h **** }
1153:lib_AT91SAM7S64.h **** 
1154:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1155:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetMCKReg
1156:lib_AT91SAM7S64.h **** //* \brief Return Master Clock Register
1157:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1158:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetMCKReg(
1159:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC) // \arg pointer to PMC controller
1160:lib_AT91SAM7S64.h **** {
1161:lib_AT91SAM7S64.h **** 	return pPMC->PMC_MCKR;
1162:lib_AT91SAM7S64.h **** }
1163:lib_AT91SAM7S64.h **** 
1164:lib_AT91SAM7S64.h **** //*------------------------------------------------------------------------------
1165:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetMasterClock
1166:lib_AT91SAM7S64.h **** //* \brief Return master clock in Hz which correponds to processor clock for ARM7
1167:lib_AT91SAM7S64.h **** //*------------------------------------------------------------------------------
1168:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetMasterClock (
1169:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1170:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1171:lib_AT91SAM7S64.h **** 	unsigned int slowClock)  // \arg slowClock in Hz
1172:lib_AT91SAM7S64.h **** {
1173:lib_AT91SAM7S64.h **** 	unsigned int reg = pPMC->PMC_MCKR;
1174:lib_AT91SAM7S64.h **** 	unsigned int prescaler = (1 << ((reg & AT91C_PMC_PRES) >> 2));
1175:lib_AT91SAM7S64.h **** 	unsigned int pllDivider, pllMultiplier;
1176:lib_AT91SAM7S64.h **** 
1177:lib_AT91SAM7S64.h **** 	switch (reg & AT91C_PMC_CSS) {
1178:lib_AT91SAM7S64.h **** 		case AT91C_PMC_CSS_SLOW_CLK: // Slow clock selected
1179:lib_AT91SAM7S64.h **** 			return slowClock / prescaler;
1180:lib_AT91SAM7S64.h **** 		case AT91C_PMC_CSS_MAIN_CLK: // Main clock is selected
1181:lib_AT91SAM7S64.h **** 			return AT91F_CKGR_GetMainClock(pCKGR, slowClock) / prescaler;
1182:lib_AT91SAM7S64.h **** 		case AT91C_PMC_CSS_PLL_CLK: // PLLB clock is selected
1183:lib_AT91SAM7S64.h **** 			reg = pCKGR->CKGR_PLLR;
1184:lib_AT91SAM7S64.h **** 			pllDivider    = (reg  & AT91C_CKGR_DIV);
1185:lib_AT91SAM7S64.h **** 			pllMultiplier = ((reg  & AT91C_CKGR_MUL) >> 16) + 1;
1186:lib_AT91SAM7S64.h **** 			return AT91F_CKGR_GetMainClock(pCKGR, slowClock) / pllDivider * pllMultiplier / prescaler;
1187:lib_AT91SAM7S64.h **** 	}
1188:lib_AT91SAM7S64.h **** 	return 0;
1189:lib_AT91SAM7S64.h **** }
1190:lib_AT91SAM7S64.h **** 
1191:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1192:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_EnablePCK
1193:lib_AT91SAM7S64.h **** //* \brief Enable peripheral clock
1194:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1195:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_EnablePCK (
1196:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1197:lib_AT91SAM7S64.h **** 	unsigned int pck,  // \arg Peripheral clock identifier 0 .. 7
1198:lib_AT91SAM7S64.h **** 	unsigned int mode)
1199:lib_AT91SAM7S64.h **** {
1200:lib_AT91SAM7S64.h **** 	pPMC->PMC_PCKR[pck] = mode;
1201:lib_AT91SAM7S64.h **** 	pPMC->PMC_SCER = (1 << pck) << 8;
1202:lib_AT91SAM7S64.h **** }
1203:lib_AT91SAM7S64.h **** 
1204:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1205:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_DisablePCK
1206:lib_AT91SAM7S64.h **** //* \brief Enable peripheral clock
1207:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1208:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_DisablePCK (
1209:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // \arg pointer to PMC controller
1210:lib_AT91SAM7S64.h **** 	unsigned int pck)  // \arg Peripheral clock identifier 0 .. 7
1211:lib_AT91SAM7S64.h **** {
1212:lib_AT91SAM7S64.h **** 	pPMC->PMC_SCDR = (1 << pck) << 8;
1213:lib_AT91SAM7S64.h **** }
1214:lib_AT91SAM7S64.h **** 
1215:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1216:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_EnableIt
1217:lib_AT91SAM7S64.h **** //* \brief Enable PMC interrupt
1218:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1219:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_EnableIt (
1220:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC,     // pointer to a PMC controller
1221:lib_AT91SAM7S64.h **** 	unsigned int flag)   // IT to be enabled
1222:lib_AT91SAM7S64.h **** {
1223:lib_AT91SAM7S64.h **** 	//* Write to the IER register
1224:lib_AT91SAM7S64.h **** 	pPMC->PMC_IER = flag;
1225:lib_AT91SAM7S64.h **** }
1226:lib_AT91SAM7S64.h **** 
1227:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1228:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_DisableIt
1229:lib_AT91SAM7S64.h **** //* \brief Disable PMC interrupt
1230:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1231:lib_AT91SAM7S64.h **** __inline void AT91F_PMC_DisableIt (
1232:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC, // pointer to a PMC controller
1233:lib_AT91SAM7S64.h **** 	unsigned int flag) // IT to be disabled
1234:lib_AT91SAM7S64.h **** {
1235:lib_AT91SAM7S64.h **** 	//* Write to the IDR register
1236:lib_AT91SAM7S64.h **** 	pPMC->PMC_IDR = flag;
1237:lib_AT91SAM7S64.h **** }
1238:lib_AT91SAM7S64.h **** 
1239:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1240:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetStatus
1241:lib_AT91SAM7S64.h **** //* \brief Return PMC Interrupt Status
1242:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1243:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetStatus( // \return PMC Interrupt Status
1244:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC) // pointer to a PMC controller
1245:lib_AT91SAM7S64.h **** {
1246:lib_AT91SAM7S64.h **** 	return pPMC->PMC_SR;
1247:lib_AT91SAM7S64.h **** }
1248:lib_AT91SAM7S64.h **** 
1249:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1250:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_GetInterruptMaskStatus
1251:lib_AT91SAM7S64.h **** //* \brief Return PMC Interrupt Mask Status
1252:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1253:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_GetInterruptMaskStatus( // \return PMC Interrupt Mask Status
1254:lib_AT91SAM7S64.h **** 	AT91PS_PMC pPMC) // pointer to a PMC controller
1255:lib_AT91SAM7S64.h **** {
1256:lib_AT91SAM7S64.h **** 	return pPMC->PMC_IMR;
1257:lib_AT91SAM7S64.h **** }
1258:lib_AT91SAM7S64.h **** 
1259:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1260:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_IsInterruptMasked
1261:lib_AT91SAM7S64.h **** //* \brief Test if PMC Interrupt is Masked
1262:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1263:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_IsInterruptMasked(
1264:lib_AT91SAM7S64.h ****         AT91PS_PMC pPMC,   // \arg  pointer to a PMC controller
1265:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1266:lib_AT91SAM7S64.h **** {
1267:lib_AT91SAM7S64.h **** 	return (AT91F_PMC_GetInterruptMaskStatus(pPMC) & flag);
1268:lib_AT91SAM7S64.h **** }
1269:lib_AT91SAM7S64.h **** 
1270:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1271:lib_AT91SAM7S64.h **** //* \fn    AT91F_PMC_IsStatusSet
1272:lib_AT91SAM7S64.h **** //* \brief Test if PMC Status is Set
1273:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1274:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PMC_IsStatusSet(
1275:lib_AT91SAM7S64.h ****         AT91PS_PMC pPMC,   // \arg  pointer to a PMC controller
1276:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1277:lib_AT91SAM7S64.h **** {
1278:lib_AT91SAM7S64.h **** 	return (AT91F_PMC_GetStatus(pPMC) & flag);
1279:lib_AT91SAM7S64.h **** }
1280:lib_AT91SAM7S64.h **** 
1281:lib_AT91SAM7S64.h **** // ----------------------------------------------------------------------------
1282:lib_AT91SAM7S64.h **** //  \fn    AT91F_CKGR_CfgPLLReg
1283:lib_AT91SAM7S64.h **** //  \brief Cfg the PLL Register
1284:lib_AT91SAM7S64.h **** // ----------------------------------------------------------------------------
1285:lib_AT91SAM7S64.h **** __inline void AT91F_CKGR_CfgPLLReg (
1286:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR, // \arg pointer to CKGR controller
1287:lib_AT91SAM7S64.h **** 	unsigned int mode)
1288:lib_AT91SAM7S64.h **** {
1289:lib_AT91SAM7S64.h **** 	pCKGR->CKGR_PLLR = mode;
1290:lib_AT91SAM7S64.h **** }
1291:lib_AT91SAM7S64.h **** 
1292:lib_AT91SAM7S64.h **** // ----------------------------------------------------------------------------
1293:lib_AT91SAM7S64.h **** //  \fn    AT91F_CKGR_GetPLLReg
1294:lib_AT91SAM7S64.h **** //  \brief Get the PLL Register
1295:lib_AT91SAM7S64.h **** // ----------------------------------------------------------------------------
1296:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_CKGR_GetPLLReg (
1297:lib_AT91SAM7S64.h **** 	AT91PS_CKGR pCKGR) // \arg pointer to CKGR controller
1298:lib_AT91SAM7S64.h **** {
1299:lib_AT91SAM7S64.h **** 	return pCKGR->CKGR_PLLR;
1300:lib_AT91SAM7S64.h **** }
1301:lib_AT91SAM7S64.h **** 
1302:lib_AT91SAM7S64.h **** 
1303:lib_AT91SAM7S64.h **** 
1304:lib_AT91SAM7S64.h **** /* *****************************************************************************
1305:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR RSTC
1306:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1307:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1308:lib_AT91SAM7S64.h **** //* \fn    AT91F_RSTSoftReset
1309:lib_AT91SAM7S64.h **** //* \brief Start Software Reset
1310:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1311:lib_AT91SAM7S64.h **** __inline void AT91F_RSTSoftReset(
1312:lib_AT91SAM7S64.h ****         AT91PS_RSTC pRSTC,
1313:lib_AT91SAM7S64.h ****         unsigned int reset)
1314:lib_AT91SAM7S64.h **** {
1315:lib_AT91SAM7S64.h **** 	pRSTC->RSTC_RCR = (0xA5000000 | reset);
1316:lib_AT91SAM7S64.h **** }
1317:lib_AT91SAM7S64.h **** 
1318:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1319:lib_AT91SAM7S64.h **** //* \fn    AT91F_RSTSetMode
1320:lib_AT91SAM7S64.h **** //* \brief Set Reset Mode
1321:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1322:lib_AT91SAM7S64.h **** __inline void AT91F_RSTSetMode(
1323:lib_AT91SAM7S64.h ****         AT91PS_RSTC pRSTC,
1324:lib_AT91SAM7S64.h ****         unsigned int mode)
1325:lib_AT91SAM7S64.h **** {
1326:lib_AT91SAM7S64.h **** 	pRSTC->RSTC_RMR = (0xA5000000 | mode);
1327:lib_AT91SAM7S64.h **** }
1328:lib_AT91SAM7S64.h **** 
1329:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1330:lib_AT91SAM7S64.h **** //* \fn    AT91F_RSTGetMode
1331:lib_AT91SAM7S64.h **** //* \brief Get Reset Mode
1332:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1333:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RSTGetMode(
1334:lib_AT91SAM7S64.h ****         AT91PS_RSTC pRSTC)
1335:lib_AT91SAM7S64.h **** {
1336:lib_AT91SAM7S64.h **** 	return (pRSTC->RSTC_RMR);
1337:lib_AT91SAM7S64.h **** }
1338:lib_AT91SAM7S64.h **** 
1339:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1340:lib_AT91SAM7S64.h **** //* \fn    AT91F_RSTGetStatus
1341:lib_AT91SAM7S64.h **** //* \brief Get Reset Status
1342:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1343:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RSTGetStatus(
1344:lib_AT91SAM7S64.h ****         AT91PS_RSTC pRSTC)
1345:lib_AT91SAM7S64.h **** {
1346:lib_AT91SAM7S64.h **** 	return (pRSTC->RSTC_RSR);
1347:lib_AT91SAM7S64.h **** }
1348:lib_AT91SAM7S64.h **** 
1349:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1350:lib_AT91SAM7S64.h **** //* \fn    AT91F_RSTIsSoftRstActive
1351:lib_AT91SAM7S64.h **** //* \brief Return !=0 if software reset is still not completed
1352:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1353:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RSTIsSoftRstActive(
1354:lib_AT91SAM7S64.h ****         AT91PS_RSTC pRSTC)
1355:lib_AT91SAM7S64.h **** {
1356:lib_AT91SAM7S64.h **** 	return ((pRSTC->RSTC_RSR) & AT91C_RSTC_SRCMP);
1357:lib_AT91SAM7S64.h **** }
1358:lib_AT91SAM7S64.h **** /* *****************************************************************************
1359:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR RTTC
1360:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1361:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1362:lib_AT91SAM7S64.h **** //* \fn     AT91F_SetRTT_TimeBase()
1363:lib_AT91SAM7S64.h **** //* \brief  Set the RTT prescaler according to the TimeBase in ms
1364:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1365:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RTTSetTimeBase(
1366:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC, 
1367:lib_AT91SAM7S64.h ****         unsigned int ms)
1368:lib_AT91SAM7S64.h **** {
1369:lib_AT91SAM7S64.h **** 	if (ms > 2000)
1370:lib_AT91SAM7S64.h **** 		return 1;   // AT91C_TIME_OUT_OF_RANGE
1371:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR &= ~0xFFFF;	
1372:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR |= (((ms << 15) /1000) & 0xFFFF);	
1373:lib_AT91SAM7S64.h **** 	return 0;
1374:lib_AT91SAM7S64.h **** }
1375:lib_AT91SAM7S64.h **** 
1376:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1377:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTTSetPrescaler()
1378:lib_AT91SAM7S64.h **** //* \brief  Set the new prescaler value
1379:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1380:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RTTSetPrescaler(
1381:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC, 
1382:lib_AT91SAM7S64.h ****         unsigned int rtpres)
1383:lib_AT91SAM7S64.h **** {
1384:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR &= ~0xFFFF;	
1385:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR |= (rtpres & 0xFFFF);	
1386:lib_AT91SAM7S64.h **** 	return (pRTTC->RTTC_RTMR);
1387:lib_AT91SAM7S64.h **** }
1388:lib_AT91SAM7S64.h **** 
1389:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1390:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTTRestart()
1391:lib_AT91SAM7S64.h **** //* \brief  Restart the RTT prescaler
1392:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1393:lib_AT91SAM7S64.h **** __inline void AT91F_RTTRestart(
1394:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1395:lib_AT91SAM7S64.h **** {
1396:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_RTTRST;	
1397:lib_AT91SAM7S64.h **** }
1398:lib_AT91SAM7S64.h **** 
1399:lib_AT91SAM7S64.h **** 
1400:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1401:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_SetAlarmINT()
1402:lib_AT91SAM7S64.h **** //* \brief  Enable RTT Alarm Interrupt
1403:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1404:lib_AT91SAM7S64.h **** __inline void AT91F_RTTSetAlarmINT(
1405:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1406:lib_AT91SAM7S64.h **** {
1407:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_ALMIEN;
1408:lib_AT91SAM7S64.h **** }
1409:lib_AT91SAM7S64.h **** 
1410:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1411:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_ClearAlarmINT()
1412:lib_AT91SAM7S64.h **** //* \brief  Disable RTT Alarm Interrupt
1413:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1414:lib_AT91SAM7S64.h **** __inline void AT91F_RTTClearAlarmINT(
1415:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1416:lib_AT91SAM7S64.h **** {
1417:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR &= ~AT91C_RTTC_ALMIEN;
1418:lib_AT91SAM7S64.h **** }
1419:lib_AT91SAM7S64.h **** 
1420:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1421:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_SetRttIncINT()
1422:lib_AT91SAM7S64.h **** //* \brief  Enable RTT INC Interrupt
1423:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1424:lib_AT91SAM7S64.h **** __inline void AT91F_RTTSetRttIncINT(
1425:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1426:lib_AT91SAM7S64.h **** {
1427:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR |= AT91C_RTTC_RTTINCIEN;
1428:lib_AT91SAM7S64.h **** }
1429:lib_AT91SAM7S64.h **** 
1430:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1431:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_ClearRttIncINT()
1432:lib_AT91SAM7S64.h **** //* \brief  Disable RTT INC Interrupt
1433:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1434:lib_AT91SAM7S64.h **** __inline void AT91F_RTTClearRttIncINT(
1435:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1436:lib_AT91SAM7S64.h **** {
1437:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTMR &= ~AT91C_RTTC_RTTINCIEN;
1438:lib_AT91SAM7S64.h **** }
1439:lib_AT91SAM7S64.h **** 
1440:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1441:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_SetAlarmValue()
1442:lib_AT91SAM7S64.h **** //* \brief  Set RTT Alarm Value
1443:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1444:lib_AT91SAM7S64.h **** __inline void AT91F_RTTSetAlarmValue(
1445:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC, unsigned int alarm)
1446:lib_AT91SAM7S64.h **** {
1447:lib_AT91SAM7S64.h **** 	pRTTC->RTTC_RTAR = alarm;
1448:lib_AT91SAM7S64.h **** }
1449:lib_AT91SAM7S64.h **** 
1450:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1451:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_GetAlarmValue()
1452:lib_AT91SAM7S64.h **** //* \brief  Get RTT Alarm Value
1453:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1454:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RTTGetAlarmValue(
1455:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1456:lib_AT91SAM7S64.h **** {
1457:lib_AT91SAM7S64.h **** 	return(pRTTC->RTTC_RTAR);
1458:lib_AT91SAM7S64.h **** }
1459:lib_AT91SAM7S64.h **** 
1460:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1461:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTTGetStatus()
1462:lib_AT91SAM7S64.h **** //* \brief  Read the RTT status
1463:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1464:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RTTGetStatus(
1465:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1466:lib_AT91SAM7S64.h **** {
1467:lib_AT91SAM7S64.h **** 	return(pRTTC->RTTC_RTSR);
1468:lib_AT91SAM7S64.h **** }
1469:lib_AT91SAM7S64.h **** 
1470:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1471:lib_AT91SAM7S64.h **** //* \fn     AT91F_RTT_ReadValue()
1472:lib_AT91SAM7S64.h **** //* \brief  Read the RTT value
1473:lib_AT91SAM7S64.h **** //*--------------------------------------------------------------------------------------
1474:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_RTTReadValue(
1475:lib_AT91SAM7S64.h ****         AT91PS_RTTC pRTTC)
1476:lib_AT91SAM7S64.h **** {
1477:lib_AT91SAM7S64.h ****         register volatile unsigned int val1,val2;
1478:lib_AT91SAM7S64.h **** 	do
1479:lib_AT91SAM7S64.h **** 	{
1480:lib_AT91SAM7S64.h **** 		val1 = pRTTC->RTTC_RTVR;
1481:lib_AT91SAM7S64.h **** 		val2 = pRTTC->RTTC_RTVR;
1482:lib_AT91SAM7S64.h **** 	}	
1483:lib_AT91SAM7S64.h **** 	while(val1 != val2);
1484:lib_AT91SAM7S64.h **** 	return(val1);
1485:lib_AT91SAM7S64.h **** }
1486:lib_AT91SAM7S64.h **** /* *****************************************************************************
1487:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR PITC
1488:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1489:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1490:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITInit
1491:lib_AT91SAM7S64.h **** //* \brief System timer init : period in second, system clock freq in MHz
1492:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1493:lib_AT91SAM7S64.h **** __inline void AT91F_PITInit(
1494:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC,
1495:lib_AT91SAM7S64.h ****         unsigned int period,
1496:lib_AT91SAM7S64.h ****         unsigned int pit_frequency)
1497:lib_AT91SAM7S64.h **** {
1498:lib_AT91SAM7S64.h **** 	pPITC->PITC_PIMR = period? (period * pit_frequency + 8) >> 4 : 0; // +8 to avoid %10 and /10
1499:lib_AT91SAM7S64.h **** 	pPITC->PITC_PIMR |= AT91C_PITC_PITEN;	 
1500:lib_AT91SAM7S64.h **** }
1501:lib_AT91SAM7S64.h **** 
1502:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1503:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITSetPIV
1504:lib_AT91SAM7S64.h **** //* \brief Set the PIT Periodic Interval Value 
1505:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1506:lib_AT91SAM7S64.h **** __inline void AT91F_PITSetPIV(
1507:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC,
1508:lib_AT91SAM7S64.h ****         unsigned int piv)
1509:lib_AT91SAM7S64.h **** {
1510:lib_AT91SAM7S64.h **** 	pPITC->PITC_PIMR = piv | (pPITC->PITC_PIMR & (AT91C_PITC_PITEN | AT91C_PITC_PITIEN));
1511:lib_AT91SAM7S64.h **** }
1512:lib_AT91SAM7S64.h **** 
1513:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1514:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITEnableInt
1515:lib_AT91SAM7S64.h **** //* \brief Enable PIT periodic interrupt
1516:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1517:lib_AT91SAM7S64.h **** __inline void AT91F_PITEnableInt(
1518:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1519:lib_AT91SAM7S64.h **** {
1520:lib_AT91SAM7S64.h **** 	pPITC->PITC_PIMR |= AT91C_PITC_PITIEN;	 
1521:lib_AT91SAM7S64.h **** }
1522:lib_AT91SAM7S64.h **** 
1523:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1524:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITDisableInt
1525:lib_AT91SAM7S64.h **** //* \brief Disable PIT periodic interrupt
1526:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1527:lib_AT91SAM7S64.h **** __inline void AT91F_PITDisableInt(
1528:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1529:lib_AT91SAM7S64.h **** {
1530:lib_AT91SAM7S64.h **** 	pPITC->PITC_PIMR &= ~AT91C_PITC_PITIEN;	 
1531:lib_AT91SAM7S64.h **** }
1532:lib_AT91SAM7S64.h **** 
1533:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1534:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITGetMode
1535:lib_AT91SAM7S64.h **** //* \brief Read PIT mode register
1536:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1537:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PITGetMode(
1538:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1539:lib_AT91SAM7S64.h **** {
1540:lib_AT91SAM7S64.h **** 	return(pPITC->PITC_PIMR);
1541:lib_AT91SAM7S64.h **** }
1542:lib_AT91SAM7S64.h **** 
1543:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1544:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITGetStatus
1545:lib_AT91SAM7S64.h **** //* \brief Read PIT status register
1546:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1547:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PITGetStatus(
1548:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1549:lib_AT91SAM7S64.h **** {
1550:lib_AT91SAM7S64.h **** 	return(pPITC->PITC_PISR);
1551:lib_AT91SAM7S64.h **** }
1552:lib_AT91SAM7S64.h **** 
1553:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1554:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITGetPIIR
1555:lib_AT91SAM7S64.h **** //* \brief Read PIT CPIV and PICNT without ressetting the counters
1556:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1557:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PITGetPIIR(
1558:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1559:lib_AT91SAM7S64.h **** {
1560:lib_AT91SAM7S64.h **** 	return(pPITC->PITC_PIIR);
1561:lib_AT91SAM7S64.h **** }
1562:lib_AT91SAM7S64.h **** 
1563:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1564:lib_AT91SAM7S64.h **** //* \fn    AT91F_PITGetPIVR
1565:lib_AT91SAM7S64.h **** //* \brief Read System timer CPIV and PICNT without ressetting the counters
1566:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1567:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PITGetPIVR(
1568:lib_AT91SAM7S64.h ****         AT91PS_PITC pPITC)
1569:lib_AT91SAM7S64.h **** {
1570:lib_AT91SAM7S64.h **** 	return(pPITC->PITC_PIVR);
1571:lib_AT91SAM7S64.h **** }
1572:lib_AT91SAM7S64.h **** /* *****************************************************************************
1573:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR WDTC
1574:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1575:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1576:lib_AT91SAM7S64.h **** //* \fn    AT91F_WDTSetMode
1577:lib_AT91SAM7S64.h **** //* \brief Set Watchdog Mode Register
1578:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1579:lib_AT91SAM7S64.h **** __inline void AT91F_WDTSetMode(
1580:lib_AT91SAM7S64.h ****         AT91PS_WDTC pWDTC,
1581:lib_AT91SAM7S64.h ****         unsigned int Mode)
1582:lib_AT91SAM7S64.h **** {
1583:lib_AT91SAM7S64.h **** 	pWDTC->WDTC_WDMR = Mode;
1584:lib_AT91SAM7S64.h **** }
1585:lib_AT91SAM7S64.h **** 
1586:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1587:lib_AT91SAM7S64.h **** //* \fn    AT91F_WDTRestart
1588:lib_AT91SAM7S64.h **** //* \brief Restart Watchdog
1589:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1590:lib_AT91SAM7S64.h **** __inline void AT91F_WDTRestart(
1591:lib_AT91SAM7S64.h ****         AT91PS_WDTC pWDTC)
1592:lib_AT91SAM7S64.h **** {
1593:lib_AT91SAM7S64.h **** 	pWDTC->WDTC_WDCR = 0xA5000001;
1594:lib_AT91SAM7S64.h **** }
1595:lib_AT91SAM7S64.h **** 
1596:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1597:lib_AT91SAM7S64.h **** //* \fn    AT91F_WDTSGettatus
1598:lib_AT91SAM7S64.h **** //* \brief Get Watchdog Status
1599:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1600:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_WDTSGettatus(
1601:lib_AT91SAM7S64.h ****         AT91PS_WDTC pWDTC)
1602:lib_AT91SAM7S64.h **** {
1603:lib_AT91SAM7S64.h **** 	return(pWDTC->WDTC_WDSR & 0x3);
1604:lib_AT91SAM7S64.h **** }
1605:lib_AT91SAM7S64.h **** 
1606:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1607:lib_AT91SAM7S64.h **** //* \fn    AT91F_WDTGetPeriod
1608:lib_AT91SAM7S64.h **** //* \brief Translate ms into Watchdog Compatible value
1609:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1610:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_WDTGetPeriod(unsigned int ms)
1611:lib_AT91SAM7S64.h **** {
1612:lib_AT91SAM7S64.h **** 	if ((ms < 4) || (ms > 16000))
1613:lib_AT91SAM7S64.h **** 		return 0;
1614:lib_AT91SAM7S64.h **** 	return((ms << 8) / 1000);
1615:lib_AT91SAM7S64.h **** }
1616:lib_AT91SAM7S64.h **** /* *****************************************************************************
1617:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR VREG
1618:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1619:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1620:lib_AT91SAM7S64.h **** //* \fn    AT91F_VREG_Enable_LowPowerMode
1621:lib_AT91SAM7S64.h **** //* \brief Enable VREG Low Power Mode
1622:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1623:lib_AT91SAM7S64.h **** __inline void AT91F_VREG_Enable_LowPowerMode(
1624:lib_AT91SAM7S64.h ****         AT91PS_VREG pVREG)
1625:lib_AT91SAM7S64.h **** {
1626:lib_AT91SAM7S64.h **** 	pVREG->VREG_MR |= AT91C_VREG_PSTDBY;	 
1627:lib_AT91SAM7S64.h **** }
1628:lib_AT91SAM7S64.h **** 
1629:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1630:lib_AT91SAM7S64.h **** //* \fn    AT91F_VREG_Disable_LowPowerMode
1631:lib_AT91SAM7S64.h **** //* \brief Disable VREG Low Power Mode
1632:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1633:lib_AT91SAM7S64.h **** __inline void AT91F_VREG_Disable_LowPowerMode(
1634:lib_AT91SAM7S64.h ****         AT91PS_VREG pVREG)
1635:lib_AT91SAM7S64.h **** {
1636:lib_AT91SAM7S64.h **** 	pVREG->VREG_MR &= ~AT91C_VREG_PSTDBY;	 
1637:lib_AT91SAM7S64.h **** }/* *****************************************************************************
1638:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR MC
1639:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1640:lib_AT91SAM7S64.h **** 
1641:lib_AT91SAM7S64.h **** #define AT91C_MC_CORRECT_KEY  ((unsigned int) 0x5A << 24) // (MC) Correct Protect Key
1642:lib_AT91SAM7S64.h **** 
1643:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1644:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_Remap
1645:lib_AT91SAM7S64.h **** //* \brief Make Remap
1646:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1647:lib_AT91SAM7S64.h **** __inline void AT91F_MC_Remap (void)     //  
1648:lib_AT91SAM7S64.h **** {
1649:lib_AT91SAM7S64.h ****     AT91PS_MC pMC = (AT91PS_MC) AT91C_BASE_MC;
1650:lib_AT91SAM7S64.h ****     
1651:lib_AT91SAM7S64.h ****     pMC->MC_RCR = AT91C_MC_RCB;
1652:lib_AT91SAM7S64.h **** }
1653:lib_AT91SAM7S64.h **** 
1654:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1655:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_CfgModeReg
1656:lib_AT91SAM7S64.h **** //* \brief Configure the EFC Mode Register of the MC controller
1657:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1658:lib_AT91SAM7S64.h **** __inline void AT91F_MC_EFC_CfgModeReg (
1659:lib_AT91SAM7S64.h **** 	AT91PS_MC pMC, // pointer to a MC controller
1660:lib_AT91SAM7S64.h **** 	unsigned int mode)        // mode register 
1661:lib_AT91SAM7S64.h **** {
1662:lib_AT91SAM7S64.h **** 	// Write to the FMR register
1663:lib_AT91SAM7S64.h **** 	pMC->MC_FMR = mode;
1664:lib_AT91SAM7S64.h **** }
1665:lib_AT91SAM7S64.h **** 
1666:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1667:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_GetModeReg
1668:lib_AT91SAM7S64.h **** //* \brief Return MC EFC Mode Regsiter
1669:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1670:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_MC_EFC_GetModeReg(
1671:lib_AT91SAM7S64.h **** 	AT91PS_MC pMC) // pointer to a MC controller
1672:lib_AT91SAM7S64.h **** {
1673:lib_AT91SAM7S64.h **** 	return pMC->MC_FMR;
1674:lib_AT91SAM7S64.h **** }
1675:lib_AT91SAM7S64.h **** 
1676:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1677:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_ComputeFMCN
1678:lib_AT91SAM7S64.h **** //* \brief Return MC EFC Mode Regsiter
1679:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1680:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_MC_EFC_ComputeFMCN(
1681:lib_AT91SAM7S64.h **** 	int master_clock) // master clock in Hz
1682:lib_AT91SAM7S64.h **** {
1683:lib_AT91SAM7S64.h **** 	return (master_clock/1000000 +2);
1684:lib_AT91SAM7S64.h **** }
1685:lib_AT91SAM7S64.h **** 
1686:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1687:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_PerformCmd
1688:lib_AT91SAM7S64.h **** //* \brief Perform EFC Command
1689:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1690:lib_AT91SAM7S64.h **** __inline void AT91F_MC_EFC_PerformCmd (
1691:lib_AT91SAM7S64.h **** 	AT91PS_MC pMC, // pointer to a MC controller
1692:lib_AT91SAM7S64.h ****     unsigned int transfer_cmd)
1693:lib_AT91SAM7S64.h **** {
1694:lib_AT91SAM7S64.h **** 	pMC->MC_FCR = transfer_cmd;	
1695:lib_AT91SAM7S64.h **** }
1696:lib_AT91SAM7S64.h **** 
1697:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1698:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_GetStatus
1699:lib_AT91SAM7S64.h **** //* \brief Return MC EFC Status
1700:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1701:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_MC_EFC_GetStatus(
1702:lib_AT91SAM7S64.h **** 	AT91PS_MC pMC) // pointer to a MC controller
1703:lib_AT91SAM7S64.h **** {
1704:lib_AT91SAM7S64.h **** 	return pMC->MC_FSR;
1705:lib_AT91SAM7S64.h **** }
1706:lib_AT91SAM7S64.h **** 
1707:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1708:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_IsInterruptMasked
1709:lib_AT91SAM7S64.h **** //* \brief Test if EFC MC Interrupt is Masked 
1710:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1711:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_MC_EFC_IsInterruptMasked(
1712:lib_AT91SAM7S64.h ****         AT91PS_MC pMC,   // \arg  pointer to a MC controller
1713:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1714:lib_AT91SAM7S64.h **** {
1715:lib_AT91SAM7S64.h **** 	return (AT91F_MC_EFC_GetModeReg(pMC) & flag);
1716:lib_AT91SAM7S64.h **** }
1717:lib_AT91SAM7S64.h **** 
1718:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1719:lib_AT91SAM7S64.h **** //* \fn    AT91F_MC_EFC_IsInterruptSet
1720:lib_AT91SAM7S64.h **** //* \brief Test if EFC MC Interrupt is Set
1721:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1722:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_MC_EFC_IsInterruptSet(
1723:lib_AT91SAM7S64.h ****         AT91PS_MC pMC,   // \arg  pointer to a MC controller
1724:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1725:lib_AT91SAM7S64.h **** {
1726:lib_AT91SAM7S64.h **** 	return (AT91F_MC_EFC_GetStatus(pMC) & flag);
1727:lib_AT91SAM7S64.h **** }
1728:lib_AT91SAM7S64.h **** 
1729:lib_AT91SAM7S64.h **** /* *****************************************************************************
1730:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR SPI
1731:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1732:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1733:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_CfgCs
1734:lib_AT91SAM7S64.h **** //* \brief Configure SPI chip select register
1735:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1736:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_CfgCs (
1737:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI,     // pointer to a SPI controller
1738:lib_AT91SAM7S64.h **** 	int cs,     // SPI cs number (0 to 3)
1739:lib_AT91SAM7S64.h ****  	int val)   //  chip select register
1740:lib_AT91SAM7S64.h **** {
1741:lib_AT91SAM7S64.h **** 	//* Write to the CSR register
1742:lib_AT91SAM7S64.h **** 	*(pSPI->SPI_CSR + cs) = val;
1743:lib_AT91SAM7S64.h **** }
1744:lib_AT91SAM7S64.h **** 
1745:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1746:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_EnableIt
1747:lib_AT91SAM7S64.h **** //* \brief Enable SPI interrupt
1748:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1749:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_EnableIt (
1750:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI,     // pointer to a SPI controller
1751:lib_AT91SAM7S64.h **** 	unsigned int flag)   // IT to be enabled
1752:lib_AT91SAM7S64.h **** {
1753:lib_AT91SAM7S64.h **** 	//* Write to the IER register
1754:lib_AT91SAM7S64.h **** 	pSPI->SPI_IER = flag;
1755:lib_AT91SAM7S64.h **** }
1756:lib_AT91SAM7S64.h **** 
1757:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1758:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_DisableIt
1759:lib_AT91SAM7S64.h **** //* \brief Disable SPI interrupt
1760:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1761:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_DisableIt (
1762:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI, // pointer to a SPI controller
1763:lib_AT91SAM7S64.h **** 	unsigned int flag) // IT to be disabled
1764:lib_AT91SAM7S64.h **** {
1765:lib_AT91SAM7S64.h **** 	//* Write to the IDR register
1766:lib_AT91SAM7S64.h **** 	pSPI->SPI_IDR = flag;
1767:lib_AT91SAM7S64.h **** }
1768:lib_AT91SAM7S64.h **** 
1769:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1770:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_Reset
1771:lib_AT91SAM7S64.h **** //* \brief Reset the SPI controller
1772:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1773:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_Reset (
1774:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI // pointer to a SPI controller
1775:lib_AT91SAM7S64.h **** 	)
1776:lib_AT91SAM7S64.h **** {
1777:lib_AT91SAM7S64.h **** 	//* Write to the CR register
1778:lib_AT91SAM7S64.h **** 	pSPI->SPI_CR = AT91C_SPI_SWRST;
1779:lib_AT91SAM7S64.h **** }
1780:lib_AT91SAM7S64.h **** 
1781:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1782:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_Enable
1783:lib_AT91SAM7S64.h **** //* \brief Enable the SPI controller
1784:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1785:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_Enable (
1786:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI // pointer to a SPI controller
1787:lib_AT91SAM7S64.h **** 	)
1788:lib_AT91SAM7S64.h **** {
1789:lib_AT91SAM7S64.h **** 	//* Write to the CR register
1790:lib_AT91SAM7S64.h **** 	pSPI->SPI_CR = AT91C_SPI_SPIEN;
1791:lib_AT91SAM7S64.h **** }
1792:lib_AT91SAM7S64.h **** 
1793:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1794:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_Disable
1795:lib_AT91SAM7S64.h **** //* \brief Disable the SPI controller
1796:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1797:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_Disable (
1798:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI // pointer to a SPI controller
1799:lib_AT91SAM7S64.h **** 	)
1800:lib_AT91SAM7S64.h **** {
1801:lib_AT91SAM7S64.h **** 	//* Write to the CR register
1802:lib_AT91SAM7S64.h **** 	pSPI->SPI_CR = AT91C_SPI_SPIDIS;
1803:lib_AT91SAM7S64.h **** }
1804:lib_AT91SAM7S64.h **** 
1805:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1806:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_CfgMode
1807:lib_AT91SAM7S64.h **** //* \brief Enable the SPI controller
1808:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1809:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_CfgMode (
1810:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI, // pointer to a SPI controller
1811:lib_AT91SAM7S64.h **** 	int mode)        // mode register 
1812:lib_AT91SAM7S64.h **** {
1813:lib_AT91SAM7S64.h **** 	//* Write to the MR register
1814:lib_AT91SAM7S64.h **** 	pSPI->SPI_MR = mode;
1815:lib_AT91SAM7S64.h **** }
1816:lib_AT91SAM7S64.h **** 
1817:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1818:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_CfgPCS
1819:lib_AT91SAM7S64.h **** //* \brief Switch to the correct PCS of SPI Mode Register : Fixed Peripheral Selected
1820:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1821:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_CfgPCS (
1822:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI, // pointer to a SPI controller
1823:lib_AT91SAM7S64.h **** 	char PCS_Device) // PCS of the Device
1824:lib_AT91SAM7S64.h **** {	
1825:lib_AT91SAM7S64.h ****  	//* Write to the MR register
1826:lib_AT91SAM7S64.h **** 	pSPI->SPI_MR &= 0xFFF0FFFF;
1827:lib_AT91SAM7S64.h **** 	pSPI->SPI_MR |= ( (PCS_Device<<16) & AT91C_SPI_PCS );
1828:lib_AT91SAM7S64.h **** }
1829:lib_AT91SAM7S64.h **** 
1830:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1831:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_ReceiveFrame
1832:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
1833:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1834:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SPI_ReceiveFrame (
1835:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI,
1836:lib_AT91SAM7S64.h **** 	char *pBuffer,
1837:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
1838:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
1839:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
1840:lib_AT91SAM7S64.h **** {
1841:lib_AT91SAM7S64.h **** 	return AT91F_PDC_ReceiveFrame(
1842:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pSPI->SPI_RPR),
1843:lib_AT91SAM7S64.h **** 		pBuffer,
1844:lib_AT91SAM7S64.h **** 		szBuffer,
1845:lib_AT91SAM7S64.h **** 		pNextBuffer,
1846:lib_AT91SAM7S64.h **** 		szNextBuffer);
1847:lib_AT91SAM7S64.h **** }
1848:lib_AT91SAM7S64.h **** 
1849:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1850:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_SendFrame
1851:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
1852:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1853:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SPI_SendFrame(
1854:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI,
1855:lib_AT91SAM7S64.h **** 	char *pBuffer,
1856:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
1857:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
1858:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
1859:lib_AT91SAM7S64.h **** {
1860:lib_AT91SAM7S64.h **** 	return AT91F_PDC_SendFrame(
1861:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pSPI->SPI_RPR),
1862:lib_AT91SAM7S64.h **** 		pBuffer,
1863:lib_AT91SAM7S64.h **** 		szBuffer,
1864:lib_AT91SAM7S64.h **** 		pNextBuffer,
1865:lib_AT91SAM7S64.h **** 		szNextBuffer);
1866:lib_AT91SAM7S64.h **** }
1867:lib_AT91SAM7S64.h **** 
1868:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1869:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_Close
1870:lib_AT91SAM7S64.h **** //* \brief Close SPI: disable IT disable transfert, close PDC
1871:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1872:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_Close (
1873:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI)     // \arg pointer to a SPI controller
1874:lib_AT91SAM7S64.h **** {
1875:lib_AT91SAM7S64.h ****     //* Reset all the Chip Select register
1876:lib_AT91SAM7S64.h ****     pSPI->SPI_CSR[0] = 0 ;
1877:lib_AT91SAM7S64.h ****     pSPI->SPI_CSR[1] = 0 ;
1878:lib_AT91SAM7S64.h ****     pSPI->SPI_CSR[2] = 0 ;
1879:lib_AT91SAM7S64.h ****     pSPI->SPI_CSR[3] = 0 ;
1880:lib_AT91SAM7S64.h **** 
1881:lib_AT91SAM7S64.h ****     //* Reset the SPI mode
1882:lib_AT91SAM7S64.h ****     pSPI->SPI_MR = 0  ;
1883:lib_AT91SAM7S64.h **** 
1884:lib_AT91SAM7S64.h ****     //* Disable all interrupts
1885:lib_AT91SAM7S64.h ****     pSPI->SPI_IDR = 0xFFFFFFFF ;
1886:lib_AT91SAM7S64.h **** 
1887:lib_AT91SAM7S64.h ****     //* Abort the Peripheral Data Transfers
1888:lib_AT91SAM7S64.h ****     AT91F_PDC_Close((AT91PS_PDC) &(pSPI->SPI_RPR));
1889:lib_AT91SAM7S64.h **** 
1890:lib_AT91SAM7S64.h ****     //* Disable receiver and transmitter and stop any activity immediately
1891:lib_AT91SAM7S64.h ****     pSPI->SPI_CR = AT91C_SPI_SPIDIS;
1892:lib_AT91SAM7S64.h **** }
1893:lib_AT91SAM7S64.h **** 
1894:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1895:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_PutChar
1896:lib_AT91SAM7S64.h **** //* \brief Send a character,does not check if ready to send
1897:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1898:lib_AT91SAM7S64.h **** __inline void AT91F_SPI_PutChar (
1899:lib_AT91SAM7S64.h **** 	AT91PS_SPI pSPI,
1900:lib_AT91SAM7S64.h **** 	unsigned int character,
1901:lib_AT91SAM7S64.h ****              unsigned int cs_number )
1902:lib_AT91SAM7S64.h **** {
1903:lib_AT91SAM7S64.h ****     unsigned int value_for_cs;
1904:lib_AT91SAM7S64.h ****     value_for_cs = (~(1 << cs_number)) & 0xF;  //Place a zero among a 4 ONEs number
1905:lib_AT91SAM7S64.h ****     pSPI->SPI_TDR = (character & 0xFFFF) | (value_for_cs << 16);
1906:lib_AT91SAM7S64.h **** }
1907:lib_AT91SAM7S64.h **** 
1908:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1909:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_GetChar
1910:lib_AT91SAM7S64.h **** //* \brief Receive a character,does not check if a character is available
1911:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1912:lib_AT91SAM7S64.h **** __inline int AT91F_SPI_GetChar (
1913:lib_AT91SAM7S64.h **** 	const AT91PS_SPI pSPI)
1914:lib_AT91SAM7S64.h **** {
1915:lib_AT91SAM7S64.h ****     return((pSPI->SPI_RDR) & 0xFFFF);
1916:lib_AT91SAM7S64.h **** }
1917:lib_AT91SAM7S64.h **** 
1918:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1919:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_GetInterruptMaskStatus
1920:lib_AT91SAM7S64.h **** //* \brief Return SPI Interrupt Mask Status
1921:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1922:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SPI_GetInterruptMaskStatus( // \return SPI Interrupt Mask Status
1923:lib_AT91SAM7S64.h ****         AT91PS_SPI pSpi) // \arg  pointer to a SPI controller
1924:lib_AT91SAM7S64.h **** {
1925:lib_AT91SAM7S64.h ****         return pSpi->SPI_IMR;
1926:lib_AT91SAM7S64.h **** }
1927:lib_AT91SAM7S64.h **** 
1928:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1929:lib_AT91SAM7S64.h **** //* \fn    AT91F_SPI_IsInterruptMasked
1930:lib_AT91SAM7S64.h **** //* \brief Test if SPI Interrupt is Masked 
1931:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1932:lib_AT91SAM7S64.h **** __inline int AT91F_SPI_IsInterruptMasked(
1933:lib_AT91SAM7S64.h ****         AT91PS_SPI pSpi,   // \arg  pointer to a SPI controller
1934:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1935:lib_AT91SAM7S64.h **** {
1936:lib_AT91SAM7S64.h ****         return (AT91F_SPI_GetInterruptMaskStatus(pSpi) & flag);
1937:lib_AT91SAM7S64.h **** }
1938:lib_AT91SAM7S64.h **** 
1939:lib_AT91SAM7S64.h **** /* *****************************************************************************
1940:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR ADC
1941:lib_AT91SAM7S64.h ****    ***************************************************************************** */
1942:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1943:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_EnableIt
1944:lib_AT91SAM7S64.h **** //* \brief Enable ADC interrupt
1945:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1946:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_EnableIt (
1947:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC,     // pointer to a ADC controller
1948:lib_AT91SAM7S64.h **** 	unsigned int flag)   // IT to be enabled
1949:lib_AT91SAM7S64.h **** {
1950:lib_AT91SAM7S64.h **** 	//* Write to the IER register
1951:lib_AT91SAM7S64.h **** 	pADC->ADC_IER = flag;
1952:lib_AT91SAM7S64.h **** }
1953:lib_AT91SAM7S64.h **** 
1954:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1955:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_DisableIt
1956:lib_AT91SAM7S64.h **** //* \brief Disable ADC interrupt
1957:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1958:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_DisableIt (
1959:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
1960:lib_AT91SAM7S64.h **** 	unsigned int flag) // IT to be disabled
1961:lib_AT91SAM7S64.h **** {
1962:lib_AT91SAM7S64.h **** 	//* Write to the IDR register
1963:lib_AT91SAM7S64.h **** 	pADC->ADC_IDR = flag;
1964:lib_AT91SAM7S64.h **** }
1965:lib_AT91SAM7S64.h **** 
1966:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1967:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetStatus
1968:lib_AT91SAM7S64.h **** //* \brief Return ADC Interrupt Status
1969:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1970:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetStatus( // \return ADC Interrupt Status
1971:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC) // pointer to a ADC controller
1972:lib_AT91SAM7S64.h **** {
1973:lib_AT91SAM7S64.h **** 	return pADC->ADC_SR;
1974:lib_AT91SAM7S64.h **** }
1975:lib_AT91SAM7S64.h **** 
1976:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1977:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetInterruptMaskStatus
1978:lib_AT91SAM7S64.h **** //* \brief Return ADC Interrupt Mask Status
1979:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1980:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetInterruptMaskStatus( // \return ADC Interrupt Mask Status
1981:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC) // pointer to a ADC controller
1982:lib_AT91SAM7S64.h **** {
1983:lib_AT91SAM7S64.h **** 	return pADC->ADC_IMR;
1984:lib_AT91SAM7S64.h **** }
1985:lib_AT91SAM7S64.h **** 
1986:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1987:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_IsInterruptMasked
1988:lib_AT91SAM7S64.h **** //* \brief Test if ADC Interrupt is Masked 
1989:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1990:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_IsInterruptMasked(
1991:lib_AT91SAM7S64.h ****         AT91PS_ADC pADC,   // \arg  pointer to a ADC controller
1992:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
1993:lib_AT91SAM7S64.h **** {
1994:lib_AT91SAM7S64.h **** 	return (AT91F_ADC_GetInterruptMaskStatus(pADC) & flag);
1995:lib_AT91SAM7S64.h **** }
1996:lib_AT91SAM7S64.h **** 
1997:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
1998:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_IsStatusSet
1999:lib_AT91SAM7S64.h **** //* \brief Test if ADC Status is Set
2000:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2001:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_IsStatusSet(
2002:lib_AT91SAM7S64.h ****         AT91PS_ADC pADC,   // \arg  pointer to a ADC controller
2003:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2004:lib_AT91SAM7S64.h **** {
2005:lib_AT91SAM7S64.h **** 	return (AT91F_ADC_GetStatus(pADC) & flag);
2006:lib_AT91SAM7S64.h **** }
2007:lib_AT91SAM7S64.h **** 
2008:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2009:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_CfgModeReg
2010:lib_AT91SAM7S64.h **** //* \brief Configure the Mode Register of the ADC controller
2011:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2012:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_CfgModeReg (
2013:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
2014:lib_AT91SAM7S64.h **** 	unsigned int mode)        // mode register 
2015:lib_AT91SAM7S64.h **** {
2016:lib_AT91SAM7S64.h **** 	//* Write to the MR register
2017:lib_AT91SAM7S64.h **** 	pADC->ADC_MR = mode;
2018:lib_AT91SAM7S64.h **** }
2019:lib_AT91SAM7S64.h **** 
2020:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2021:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetModeReg
2022:lib_AT91SAM7S64.h **** //* \brief Return the Mode Register of the ADC controller value
2023:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2024:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetModeReg (
2025:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2026:lib_AT91SAM7S64.h **** 	)
2027:lib_AT91SAM7S64.h **** {
2028:lib_AT91SAM7S64.h **** 	return pADC->ADC_MR;	
2029:lib_AT91SAM7S64.h **** }
2030:lib_AT91SAM7S64.h **** 
2031:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2032:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_CfgTimings
2033:lib_AT91SAM7S64.h **** //* \brief Configure the different necessary timings of the ADC controller
2034:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2035:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_CfgTimings (
2036:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
2037:lib_AT91SAM7S64.h **** 	unsigned int mck_clock, // in MHz 
2038:lib_AT91SAM7S64.h **** 	unsigned int adc_clock, // in MHz 
2039:lib_AT91SAM7S64.h **** 	unsigned int startup_time, // in us 
2040:lib_AT91SAM7S64.h **** 	unsigned int sample_and_hold_time)	// in ns  
2041:lib_AT91SAM7S64.h **** {
2042:lib_AT91SAM7S64.h **** 	unsigned int prescal,startup,shtim;
2043:lib_AT91SAM7S64.h **** 	
2044:lib_AT91SAM7S64.h **** 	prescal = mck_clock/(2*adc_clock) - 1;
2045:lib_AT91SAM7S64.h **** 	startup = adc_clock*startup_time/8 - 1;
2046:lib_AT91SAM7S64.h **** 	shtim = adc_clock*sample_and_hold_time/1000 - 1;
2047:lib_AT91SAM7S64.h **** 	
2048:lib_AT91SAM7S64.h **** 	//* Write to the MR register
2049:lib_AT91SAM7S64.h **** 	pADC->ADC_MR = ( (prescal<<8) & AT91C_ADC_PRESCAL) | ( (startup<<16) & AT91C_ADC_STARTUP) | ( (sht
2050:lib_AT91SAM7S64.h **** }
2051:lib_AT91SAM7S64.h **** 
2052:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2053:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_EnableChannel
2054:lib_AT91SAM7S64.h **** //* \brief Return ADC Timer Register Value
2055:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2056:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_EnableChannel (
2057:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
2058:lib_AT91SAM7S64.h **** 	unsigned int channel)        // mode register 
2059:lib_AT91SAM7S64.h **** {
2060:lib_AT91SAM7S64.h **** 	//* Write to the CHER register
2061:lib_AT91SAM7S64.h **** 	pADC->ADC_CHER = channel;
2062:lib_AT91SAM7S64.h **** }
2063:lib_AT91SAM7S64.h **** 
2064:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2065:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_DisableChannel
2066:lib_AT91SAM7S64.h **** //* \brief Return ADC Timer Register Value
2067:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2068:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_DisableChannel (
2069:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC, // pointer to a ADC controller
2070:lib_AT91SAM7S64.h **** 	unsigned int channel)        // mode register 
2071:lib_AT91SAM7S64.h **** {
2072:lib_AT91SAM7S64.h **** 	//* Write to the CHDR register
2073:lib_AT91SAM7S64.h **** 	pADC->ADC_CHDR = channel;
2074:lib_AT91SAM7S64.h **** }
2075:lib_AT91SAM7S64.h **** 
2076:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2077:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetChannelStatus
2078:lib_AT91SAM7S64.h **** //* \brief Return ADC Timer Register Value
2079:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2080:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetChannelStatus (
2081:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2082:lib_AT91SAM7S64.h **** 	)
2083:lib_AT91SAM7S64.h **** {
2084:lib_AT91SAM7S64.h **** 	return pADC->ADC_CHSR;	
2085:lib_AT91SAM7S64.h **** }
2086:lib_AT91SAM7S64.h **** 
2087:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2088:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_StartConversion
2089:lib_AT91SAM7S64.h **** //* \brief Software request for a analog to digital conversion 
2090:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2091:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_StartConversion (
2092:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2093:lib_AT91SAM7S64.h **** 	)
2094:lib_AT91SAM7S64.h **** {
2095:lib_AT91SAM7S64.h **** 	pADC->ADC_CR = AT91C_ADC_START;	
2096:lib_AT91SAM7S64.h **** }
2097:lib_AT91SAM7S64.h **** 
2098:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2099:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_SoftReset
2100:lib_AT91SAM7S64.h **** //* \brief Software reset
2101:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2102:lib_AT91SAM7S64.h **** __inline void AT91F_ADC_SoftReset (
2103:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2104:lib_AT91SAM7S64.h **** 	)
2105:lib_AT91SAM7S64.h **** {
2106:lib_AT91SAM7S64.h **** 	pADC->ADC_CR = AT91C_ADC_SWRST;	
2107:lib_AT91SAM7S64.h **** }
2108:lib_AT91SAM7S64.h **** 
2109:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2110:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetLastConvertedData
2111:lib_AT91SAM7S64.h **** //* \brief Return the Last Converted Data
2112:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2113:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetLastConvertedData (
2114:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2115:lib_AT91SAM7S64.h **** 	)
2116:lib_AT91SAM7S64.h **** {
2117:lib_AT91SAM7S64.h **** 	return pADC->ADC_LCDR;	
2118:lib_AT91SAM7S64.h **** }
2119:lib_AT91SAM7S64.h **** 
2120:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2121:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH0
2122:lib_AT91SAM7S64.h **** //* \brief Return the Channel 0 Converted Data
2123:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2124:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH0 (
2125:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2126:lib_AT91SAM7S64.h **** 	)
2127:lib_AT91SAM7S64.h **** {
2128:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR0;	
2129:lib_AT91SAM7S64.h **** }
2130:lib_AT91SAM7S64.h **** 
2131:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2132:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH1
2133:lib_AT91SAM7S64.h **** //* \brief Return the Channel 1 Converted Data
2134:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2135:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH1 (
2136:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2137:lib_AT91SAM7S64.h **** 	)
2138:lib_AT91SAM7S64.h **** {
2139:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR1;	
2140:lib_AT91SAM7S64.h **** }
2141:lib_AT91SAM7S64.h **** 
2142:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2143:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH2
2144:lib_AT91SAM7S64.h **** //* \brief Return the Channel 2 Converted Data
2145:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2146:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH2 (
2147:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2148:lib_AT91SAM7S64.h **** 	)
2149:lib_AT91SAM7S64.h **** {
2150:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR2;	
2151:lib_AT91SAM7S64.h **** }
2152:lib_AT91SAM7S64.h **** 
2153:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2154:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH3
2155:lib_AT91SAM7S64.h **** //* \brief Return the Channel 3 Converted Data
2156:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2157:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH3 (
2158:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2159:lib_AT91SAM7S64.h **** 	)
2160:lib_AT91SAM7S64.h **** {
2161:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR3;	
2162:lib_AT91SAM7S64.h **** }
2163:lib_AT91SAM7S64.h **** 
2164:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2165:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH4
2166:lib_AT91SAM7S64.h **** //* \brief Return the Channel 4 Converted Data
2167:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2168:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH4 (
2169:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2170:lib_AT91SAM7S64.h **** 	)
2171:lib_AT91SAM7S64.h **** {
2172:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR4;	
2173:lib_AT91SAM7S64.h **** }
2174:lib_AT91SAM7S64.h **** 
2175:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2176:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH5
2177:lib_AT91SAM7S64.h **** //* \brief Return the Channel 5 Converted Data
2178:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2179:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH5 (
2180:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2181:lib_AT91SAM7S64.h **** 	)
2182:lib_AT91SAM7S64.h **** {
2183:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR5;	
2184:lib_AT91SAM7S64.h **** }
2185:lib_AT91SAM7S64.h **** 
2186:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2187:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH6
2188:lib_AT91SAM7S64.h **** //* \brief Return the Channel 6 Converted Data
2189:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2190:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH6 (
2191:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2192:lib_AT91SAM7S64.h **** 	)
2193:lib_AT91SAM7S64.h **** {
2194:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR6;	
2195:lib_AT91SAM7S64.h **** }
2196:lib_AT91SAM7S64.h **** 
2197:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2198:lib_AT91SAM7S64.h **** //* \fn    AT91F_ADC_GetConvertedDataCH7
2199:lib_AT91SAM7S64.h **** //* \brief Return the Channel 7 Converted Data
2200:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2201:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_ADC_GetConvertedDataCH7 (
2202:lib_AT91SAM7S64.h **** 	AT91PS_ADC pADC // pointer to a ADC controller
2203:lib_AT91SAM7S64.h **** 	)
2204:lib_AT91SAM7S64.h **** {
2205:lib_AT91SAM7S64.h **** 	return pADC->ADC_CDR7;	
2206:lib_AT91SAM7S64.h **** }
2207:lib_AT91SAM7S64.h **** 
2208:lib_AT91SAM7S64.h **** /* *****************************************************************************
2209:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR SSC
2210:lib_AT91SAM7S64.h ****    ***************************************************************************** */
2211:lib_AT91SAM7S64.h **** //* Define the standard I2S mode configuration
2212:lib_AT91SAM7S64.h **** 
2213:lib_AT91SAM7S64.h **** //* Configuration to set in the SSC Transmit Clock Mode Register
2214:lib_AT91SAM7S64.h **** //* Parameters :  nb_bit_by_slot : 8, 16 or 32 bits
2215:lib_AT91SAM7S64.h **** //* 			  nb_slot_by_frame : number of channels
2216:lib_AT91SAM7S64.h **** #define AT91C_I2S_ASY_MASTER_TX_SETTING(nb_bit_by_slot, nb_slot_by_frame)( +\
2217:lib_AT91SAM7S64.h **** 									   AT91C_SSC_CKS_DIV   +\
2218:lib_AT91SAM7S64.h ****                             		   AT91C_SSC_CKO_CONTINOUS      +\
2219:lib_AT91SAM7S64.h ****                             		   AT91C_SSC_CKG_NONE    +\
2220:lib_AT91SAM7S64.h ****                                        AT91C_SSC_START_FALL_RF +\
2221:lib_AT91SAM7S64.h ****                            			   AT91C_SSC_STTOUT  +\
2222:lib_AT91SAM7S64.h ****                             		   ((1<<16) & AT91C_SSC_STTDLY) +\
2223:lib_AT91SAM7S64.h ****                             		   ((((nb_bit_by_slot*nb_slot_by_frame)/2)-1) <<24))
2224:lib_AT91SAM7S64.h **** 
2225:lib_AT91SAM7S64.h **** 
2226:lib_AT91SAM7S64.h **** //* Configuration to set in the SSC Transmit Frame Mode Register
2227:lib_AT91SAM7S64.h **** //* Parameters : nb_bit_by_slot : 8, 16 or 32 bits
2228:lib_AT91SAM7S64.h **** //* 			 nb_slot_by_frame : number of channels
2229:lib_AT91SAM7S64.h **** #define AT91C_I2S_ASY_TX_FRAME_SETTING(nb_bit_by_slot, nb_slot_by_frame)( +\
2230:lib_AT91SAM7S64.h **** 									(nb_bit_by_slot-1)  +\
2231:lib_AT91SAM7S64.h ****                             		AT91C_SSC_MSBF   +\
2232:lib_AT91SAM7S64.h ****                             		(((nb_slot_by_frame-1)<<8) & AT91C_SSC_DATNB)  +\
2233:lib_AT91SAM7S64.h ****                             		(((nb_bit_by_slot-1)<<16) & AT91C_SSC_FSLEN) +\
2234:lib_AT91SAM7S64.h ****                             		AT91C_SSC_FSOS_NEGATIVE)
2235:lib_AT91SAM7S64.h **** 
2236:lib_AT91SAM7S64.h **** 
2237:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2238:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_SetBaudrate
2239:lib_AT91SAM7S64.h **** //* \brief Set the baudrate according to the CPU clock
2240:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2241:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_SetBaudrate (
2242:lib_AT91SAM7S64.h ****         AT91PS_SSC pSSC,        // \arg pointer to a SSC controller
2243:lib_AT91SAM7S64.h ****         unsigned int mainClock, // \arg peripheral clock
2244:lib_AT91SAM7S64.h ****         unsigned int speed)     // \arg SSC baudrate
2245:lib_AT91SAM7S64.h **** {
2246:lib_AT91SAM7S64.h ****         unsigned int baud_value;
2247:lib_AT91SAM7S64.h ****         //* Define the baud rate divisor register
2248:lib_AT91SAM7S64.h ****         if (speed == 0)
2249:lib_AT91SAM7S64.h ****            baud_value = 0;
2250:lib_AT91SAM7S64.h ****         else
2251:lib_AT91SAM7S64.h ****         {
2252:lib_AT91SAM7S64.h ****            baud_value = (unsigned int) (mainClock * 10)/(2*speed);
2253:lib_AT91SAM7S64.h ****            if ((baud_value % 10) >= 5)
2254:lib_AT91SAM7S64.h ****                   baud_value = (baud_value / 10) + 1;
2255:lib_AT91SAM7S64.h ****            else
2256:lib_AT91SAM7S64.h ****                   baud_value /= 10;
2257:lib_AT91SAM7S64.h ****         }
2258:lib_AT91SAM7S64.h **** 
2259:lib_AT91SAM7S64.h ****         pSSC->SSC_CMR = baud_value;
2260:lib_AT91SAM7S64.h **** }
2261:lib_AT91SAM7S64.h **** 
2262:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2263:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_Configure
2264:lib_AT91SAM7S64.h **** //* \brief Configure SSC
2265:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2266:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_Configure (
2267:lib_AT91SAM7S64.h ****              AT91PS_SSC pSSC,          // \arg pointer to a SSC controller
2268:lib_AT91SAM7S64.h ****              unsigned int syst_clock,  // \arg System Clock Frequency
2269:lib_AT91SAM7S64.h ****              unsigned int baud_rate,   // \arg Expected Baud Rate Frequency
2270:lib_AT91SAM7S64.h ****              unsigned int clock_rx,    // \arg Receiver Clock Parameters
2271:lib_AT91SAM7S64.h ****              unsigned int mode_rx,     // \arg mode Register to be programmed
2272:lib_AT91SAM7S64.h ****              unsigned int clock_tx,    // \arg Transmitter Clock Parameters
2273:lib_AT91SAM7S64.h ****              unsigned int mode_tx)     // \arg mode Register to be programmed
2274:lib_AT91SAM7S64.h **** {
2275:lib_AT91SAM7S64.h ****     //* Disable interrupts
2276:lib_AT91SAM7S64.h **** 	pSSC->SSC_IDR = (unsigned int) -1;
2277:lib_AT91SAM7S64.h **** 
2278:lib_AT91SAM7S64.h ****     //* Reset receiver and transmitter
2279:lib_AT91SAM7S64.h **** 	pSSC->SSC_CR = AT91C_SSC_SWRST | AT91C_SSC_RXDIS | AT91C_SSC_TXDIS ;
2280:lib_AT91SAM7S64.h **** 
2281:lib_AT91SAM7S64.h ****     //* Define the Clock Mode Register
2282:lib_AT91SAM7S64.h **** 	AT91F_SSC_SetBaudrate(pSSC, syst_clock, baud_rate);
2283:lib_AT91SAM7S64.h **** 
2284:lib_AT91SAM7S64.h ****      //* Write the Receive Clock Mode Register
2285:lib_AT91SAM7S64.h **** 	pSSC->SSC_RCMR =  clock_rx;
2286:lib_AT91SAM7S64.h **** 
2287:lib_AT91SAM7S64.h ****      //* Write the Transmit Clock Mode Register
2288:lib_AT91SAM7S64.h **** 	pSSC->SSC_TCMR =  clock_tx;
2289:lib_AT91SAM7S64.h **** 
2290:lib_AT91SAM7S64.h ****      //* Write the Receive Frame Mode Register
2291:lib_AT91SAM7S64.h **** 	pSSC->SSC_RFMR =  mode_rx;
2292:lib_AT91SAM7S64.h **** 
2293:lib_AT91SAM7S64.h ****      //* Write the Transmit Frame Mode Register
2294:lib_AT91SAM7S64.h **** 	pSSC->SSC_TFMR =  mode_tx;
2295:lib_AT91SAM7S64.h **** 
2296:lib_AT91SAM7S64.h ****     //* Clear Transmit and Receive Counters
2297:lib_AT91SAM7S64.h **** 	AT91F_PDC_Open((AT91PS_PDC) &(pSSC->SSC_RPR));
2298:lib_AT91SAM7S64.h **** 
2299:lib_AT91SAM7S64.h **** 
2300:lib_AT91SAM7S64.h **** }
2301:lib_AT91SAM7S64.h **** 
2302:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2303:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_EnableRx
2304:lib_AT91SAM7S64.h **** //* \brief Enable receiving datas
2305:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2306:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_EnableRx (
2307:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
2308:lib_AT91SAM7S64.h **** {
2309:lib_AT91SAM7S64.h ****     //* Enable receiver
2310:lib_AT91SAM7S64.h ****     pSSC->SSC_CR = AT91C_SSC_RXEN;
2311:lib_AT91SAM7S64.h **** }
2312:lib_AT91SAM7S64.h **** 
2313:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2314:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_DisableRx
2315:lib_AT91SAM7S64.h **** //* \brief Disable receiving datas
2316:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2317:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_DisableRx (
2318:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
2319:lib_AT91SAM7S64.h **** {
2320:lib_AT91SAM7S64.h ****     //* Disable receiver
2321:lib_AT91SAM7S64.h ****     pSSC->SSC_CR = AT91C_SSC_RXDIS;
2322:lib_AT91SAM7S64.h **** }
2323:lib_AT91SAM7S64.h **** 
2324:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2325:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_EnableTx
2326:lib_AT91SAM7S64.h **** //* \brief Enable sending datas
2327:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2328:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_EnableTx (
2329:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
2330:lib_AT91SAM7S64.h **** {
2331:lib_AT91SAM7S64.h ****     //* Enable  transmitter
2332:lib_AT91SAM7S64.h ****     pSSC->SSC_CR = AT91C_SSC_TXEN;
2333:lib_AT91SAM7S64.h **** }
2334:lib_AT91SAM7S64.h **** 
2335:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2336:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_DisableTx
2337:lib_AT91SAM7S64.h **** //* \brief Disable sending datas
2338:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2339:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_DisableTx (
2340:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC)     // \arg pointer to a SSC controller
2341:lib_AT91SAM7S64.h **** {
2342:lib_AT91SAM7S64.h ****     //* Disable  transmitter
2343:lib_AT91SAM7S64.h ****     pSSC->SSC_CR = AT91C_SSC_TXDIS;
2344:lib_AT91SAM7S64.h **** }
2345:lib_AT91SAM7S64.h **** 
2346:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2347:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_EnableIt
2348:lib_AT91SAM7S64.h **** //* \brief Enable SSC IT
2349:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2350:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_EnableIt (
2351:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC, // \arg pointer to a SSC controller
2352:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be enabled
2353:lib_AT91SAM7S64.h **** {
2354:lib_AT91SAM7S64.h **** 	//* Write to the IER register
2355:lib_AT91SAM7S64.h **** 	pSSC->SSC_IER = flag;
2356:lib_AT91SAM7S64.h **** }
2357:lib_AT91SAM7S64.h **** 
2358:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2359:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_DisableIt
2360:lib_AT91SAM7S64.h **** //* \brief Disable SSC IT
2361:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2362:lib_AT91SAM7S64.h **** __inline void AT91F_SSC_DisableIt (
2363:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC, // \arg pointer to a SSC controller
2364:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be disabled
2365:lib_AT91SAM7S64.h **** {
2366:lib_AT91SAM7S64.h **** 	//* Write to the IDR register
2367:lib_AT91SAM7S64.h **** 	pSSC->SSC_IDR = flag;
2368:lib_AT91SAM7S64.h **** }
2369:lib_AT91SAM7S64.h **** 
2370:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2371:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_ReceiveFrame
2372:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
2373:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2374:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SSC_ReceiveFrame (
2375:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC,
2376:lib_AT91SAM7S64.h **** 	char *pBuffer,
2377:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
2378:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
2379:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
2380:lib_AT91SAM7S64.h **** {
2381:lib_AT91SAM7S64.h **** 	return AT91F_PDC_ReceiveFrame(
2382:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pSSC->SSC_RPR),
2383:lib_AT91SAM7S64.h **** 		pBuffer,
2384:lib_AT91SAM7S64.h **** 		szBuffer,
2385:lib_AT91SAM7S64.h **** 		pNextBuffer,
2386:lib_AT91SAM7S64.h **** 		szNextBuffer);
2387:lib_AT91SAM7S64.h **** }
2388:lib_AT91SAM7S64.h **** 
2389:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2390:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_SendFrame
2391:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
2392:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2393:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SSC_SendFrame(
2394:lib_AT91SAM7S64.h **** 	AT91PS_SSC pSSC,
2395:lib_AT91SAM7S64.h **** 	char *pBuffer,
2396:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
2397:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
2398:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
2399:lib_AT91SAM7S64.h **** {
2400:lib_AT91SAM7S64.h **** 	return AT91F_PDC_SendFrame(
2401:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pSSC->SSC_RPR),
2402:lib_AT91SAM7S64.h **** 		pBuffer,
2403:lib_AT91SAM7S64.h **** 		szBuffer,
2404:lib_AT91SAM7S64.h **** 		pNextBuffer,
2405:lib_AT91SAM7S64.h **** 		szNextBuffer);
2406:lib_AT91SAM7S64.h **** }
2407:lib_AT91SAM7S64.h **** 
2408:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2409:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_GetInterruptMaskStatus
2410:lib_AT91SAM7S64.h **** //* \brief Return SSC Interrupt Mask Status
2411:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2412:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_SSC_GetInterruptMaskStatus( // \return SSC Interrupt Mask Status
2413:lib_AT91SAM7S64.h ****         AT91PS_SSC pSsc) // \arg  pointer to a SSC controller
2414:lib_AT91SAM7S64.h **** {
2415:lib_AT91SAM7S64.h ****         return pSsc->SSC_IMR;
2416:lib_AT91SAM7S64.h **** }
2417:lib_AT91SAM7S64.h **** 
2418:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2419:lib_AT91SAM7S64.h **** //* \fn    AT91F_SSC_IsInterruptMasked
2420:lib_AT91SAM7S64.h **** //* \brief Test if SSC Interrupt is Masked 
2421:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2422:lib_AT91SAM7S64.h **** __inline int AT91F_SSC_IsInterruptMasked(
2423:lib_AT91SAM7S64.h ****         AT91PS_SSC pSsc,   // \arg  pointer to a SSC controller
2424:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2425:lib_AT91SAM7S64.h **** {
2426:lib_AT91SAM7S64.h ****         return (AT91F_SSC_GetInterruptMaskStatus(pSsc) & flag);
2427:lib_AT91SAM7S64.h **** }
2428:lib_AT91SAM7S64.h **** 
2429:lib_AT91SAM7S64.h **** /* *****************************************************************************
2430:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR USART
2431:lib_AT91SAM7S64.h ****    ***************************************************************************** */
2432:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2433:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_Baudrate
2434:lib_AT91SAM7S64.h **** //* \brief Calculate the baudrate
2435:lib_AT91SAM7S64.h **** //* Standard Asynchronous Mode : 8 bits , 1 stop , no parity
2436:lib_AT91SAM7S64.h **** #define AT91C_US_ASYNC_MODE ( AT91C_US_USMODE_NORMAL + \
2437:lib_AT91SAM7S64.h ****                         AT91C_US_NBSTOP_1_BIT + \
2438:lib_AT91SAM7S64.h ****                         AT91C_US_PAR_NONE + \
2439:lib_AT91SAM7S64.h ****                         AT91C_US_CHRL_8_BITS + \
2440:lib_AT91SAM7S64.h ****                         AT91C_US_CLKS_CLOCK )
2441:lib_AT91SAM7S64.h **** 
2442:lib_AT91SAM7S64.h **** //* Standard External Asynchronous Mode : 8 bits , 1 stop , no parity
2443:lib_AT91SAM7S64.h **** #define AT91C_US_ASYNC_SCK_MODE ( AT91C_US_USMODE_NORMAL + \
2444:lib_AT91SAM7S64.h ****                             AT91C_US_NBSTOP_1_BIT + \
2445:lib_AT91SAM7S64.h ****                             AT91C_US_PAR_NONE + \
2446:lib_AT91SAM7S64.h ****                             AT91C_US_CHRL_8_BITS + \
2447:lib_AT91SAM7S64.h ****                             AT91C_US_CLKS_EXT )
2448:lib_AT91SAM7S64.h **** 
2449:lib_AT91SAM7S64.h **** //* Standard Synchronous Mode : 8 bits , 1 stop , no parity
2450:lib_AT91SAM7S64.h **** #define AT91C_US_SYNC_MODE ( AT91C_US_SYNC + \
2451:lib_AT91SAM7S64.h ****                        AT91C_US_USMODE_NORMAL + \
2452:lib_AT91SAM7S64.h ****                        AT91C_US_NBSTOP_1_BIT + \
2453:lib_AT91SAM7S64.h ****                        AT91C_US_PAR_NONE + \
2454:lib_AT91SAM7S64.h ****                        AT91C_US_CHRL_8_BITS + \
2455:lib_AT91SAM7S64.h ****                        AT91C_US_CLKS_CLOCK )
2456:lib_AT91SAM7S64.h **** 
2457:lib_AT91SAM7S64.h **** //* SCK used Label
2458:lib_AT91SAM7S64.h **** #define AT91C_US_SCK_USED (AT91C_US_CKLO | AT91C_US_CLKS_EXT)
2459:lib_AT91SAM7S64.h **** 
2460:lib_AT91SAM7S64.h **** //* Standard ISO T=0 Mode : 8 bits , 1 stop , parity
2461:lib_AT91SAM7S64.h **** #define AT91C_US_ISO_READER_MODE ( AT91C_US_USMODE_ISO7816_0 + \
2462:lib_AT91SAM7S64.h **** 					   		 AT91C_US_CLKS_CLOCK +\
2463:lib_AT91SAM7S64.h ****                        		 AT91C_US_NBSTOP_1_BIT + \
2464:lib_AT91SAM7S64.h ****                        		 AT91C_US_PAR_EVEN + \
2465:lib_AT91SAM7S64.h ****                        		 AT91C_US_CHRL_8_BITS + \
2466:lib_AT91SAM7S64.h ****                        		 AT91C_US_CKLO +\
2467:lib_AT91SAM7S64.h ****                        		 AT91C_US_OVER)
2468:lib_AT91SAM7S64.h **** 
2469:lib_AT91SAM7S64.h **** //* Standard IRDA mode
2470:lib_AT91SAM7S64.h **** #define AT91C_US_ASYNC_IRDA_MODE (  AT91C_US_USMODE_IRDA + \
2471:lib_AT91SAM7S64.h ****                             AT91C_US_NBSTOP_1_BIT + \
2472:lib_AT91SAM7S64.h ****                             AT91C_US_PAR_NONE + \
2473:lib_AT91SAM7S64.h ****                             AT91C_US_CHRL_8_BITS + \
2474:lib_AT91SAM7S64.h ****                             AT91C_US_CLKS_CLOCK )
2475:lib_AT91SAM7S64.h **** 
2476:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2477:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_Baudrate
2478:lib_AT91SAM7S64.h **** //* \brief Caluculate baud_value according to the main clock and the baud rate
2479:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2480:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_Baudrate (
2481:lib_AT91SAM7S64.h **** 	const unsigned int main_clock, // \arg peripheral clock
2482:lib_AT91SAM7S64.h **** 	const unsigned int baud_rate)  // \arg UART baudrate
2483:lib_AT91SAM7S64.h **** {
2484:lib_AT91SAM7S64.h **** 	unsigned int baud_value = ((main_clock*10)/(baud_rate * 16));
2485:lib_AT91SAM7S64.h **** 	if ((baud_value % 10) >= 5)
2486:lib_AT91SAM7S64.h **** 		baud_value = (baud_value / 10) + 1;
2487:lib_AT91SAM7S64.h **** 	else
2488:lib_AT91SAM7S64.h **** 		baud_value /= 10;
2489:lib_AT91SAM7S64.h **** 	return baud_value;
2490:lib_AT91SAM7S64.h **** }
2491:lib_AT91SAM7S64.h **** 
2492:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2493:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_SetBaudrate
2494:lib_AT91SAM7S64.h **** //* \brief Set the baudrate according to the CPU clock
2495:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2496:lib_AT91SAM7S64.h **** __inline void AT91F_US_SetBaudrate (
2497:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,    // \arg pointer to a USART controller
2498:lib_AT91SAM7S64.h **** 	unsigned int mainClock, // \arg peripheral clock
2499:lib_AT91SAM7S64.h **** 	unsigned int speed)     // \arg UART baudrate
2500:lib_AT91SAM7S64.h **** {
2501:lib_AT91SAM7S64.h **** 	//* Define the baud rate divisor register
2502:lib_AT91SAM7S64.h **** 	pUSART->US_BRGR = AT91F_US_Baudrate(mainClock, speed);
2503:lib_AT91SAM7S64.h **** }
2504:lib_AT91SAM7S64.h **** 
2505:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2506:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_SetTimeguard
2507:lib_AT91SAM7S64.h **** //* \brief Set USART timeguard
2508:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2509:lib_AT91SAM7S64.h **** __inline void AT91F_US_SetTimeguard (
2510:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,    // \arg pointer to a USART controller
2511:lib_AT91SAM7S64.h **** 	unsigned int timeguard) // \arg timeguard value
2512:lib_AT91SAM7S64.h **** {
2513:lib_AT91SAM7S64.h **** 	//* Write the Timeguard Register
2514:lib_AT91SAM7S64.h **** 	pUSART->US_TTGR = timeguard ;
2515:lib_AT91SAM7S64.h **** }
2516:lib_AT91SAM7S64.h **** 
2517:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2518:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_EnableIt
2519:lib_AT91SAM7S64.h **** //* \brief Enable USART IT
2520:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2521:lib_AT91SAM7S64.h **** __inline void AT91F_US_EnableIt (
2522:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART, // \arg pointer to a USART controller
2523:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be enabled
2524:lib_AT91SAM7S64.h **** {
2525:lib_AT91SAM7S64.h **** 	//* Write to the IER register
2526:lib_AT91SAM7S64.h **** 	pUSART->US_IER = flag;
2527:lib_AT91SAM7S64.h **** }
2528:lib_AT91SAM7S64.h **** 
2529:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2530:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_DisableIt
2531:lib_AT91SAM7S64.h **** //* \brief Disable USART IT
2532:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2533:lib_AT91SAM7S64.h **** __inline void AT91F_US_DisableIt (
2534:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART, // \arg pointer to a USART controller
2535:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be disabled
2536:lib_AT91SAM7S64.h **** {
2537:lib_AT91SAM7S64.h **** 	//* Write to the IER register
2538:lib_AT91SAM7S64.h **** 	pUSART->US_IDR = flag;
2539:lib_AT91SAM7S64.h **** }
2540:lib_AT91SAM7S64.h **** 
2541:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2542:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_Configure
2543:lib_AT91SAM7S64.h **** //* \brief Configure USART
2544:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2545:lib_AT91SAM7S64.h **** __inline void AT91F_US_Configure (
2546:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,     // \arg pointer to a USART controller
2547:lib_AT91SAM7S64.h **** 	unsigned int mainClock,  // \arg peripheral clock
2548:lib_AT91SAM7S64.h **** 	unsigned int mode ,      // \arg mode Register to be programmed
2549:lib_AT91SAM7S64.h **** 	unsigned int baudRate ,  // \arg baudrate to be programmed
2550:lib_AT91SAM7S64.h **** 	unsigned int timeguard ) // \arg timeguard to be programmed
2551:lib_AT91SAM7S64.h **** {
2552:lib_AT91SAM7S64.h ****     //* Disable interrupts
2553:lib_AT91SAM7S64.h ****     pUSART->US_IDR = (unsigned int) -1;
2554:lib_AT91SAM7S64.h **** 
2555:lib_AT91SAM7S64.h ****     //* Reset receiver and transmitter
2556:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_RSTRX | AT91C_US_RSTTX | AT91C_US_RXDIS | AT91C_US_TXDIS ;
2557:lib_AT91SAM7S64.h **** 
2558:lib_AT91SAM7S64.h **** 	//* Define the baud rate divisor register
2559:lib_AT91SAM7S64.h **** 	AT91F_US_SetBaudrate(pUSART, mainClock, baudRate);
2560:lib_AT91SAM7S64.h **** 
2561:lib_AT91SAM7S64.h **** 	//* Write the Timeguard Register
2562:lib_AT91SAM7S64.h **** 	AT91F_US_SetTimeguard(pUSART, timeguard);
2563:lib_AT91SAM7S64.h **** 
2564:lib_AT91SAM7S64.h ****     //* Clear Transmit and Receive Counters
2565:lib_AT91SAM7S64.h ****     AT91F_PDC_Open((AT91PS_PDC) &(pUSART->US_RPR));
2566:lib_AT91SAM7S64.h **** 
2567:lib_AT91SAM7S64.h ****     //* Define the USART mode
2568:lib_AT91SAM7S64.h ****     pUSART->US_MR = mode  ;
2569:lib_AT91SAM7S64.h **** 
2570:lib_AT91SAM7S64.h **** }
2571:lib_AT91SAM7S64.h **** 
2572:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2573:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_EnableRx
2574:lib_AT91SAM7S64.h **** //* \brief Enable receiving characters
2575:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2576:lib_AT91SAM7S64.h **** __inline void AT91F_US_EnableRx (
2577:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2578:lib_AT91SAM7S64.h **** {
2579:lib_AT91SAM7S64.h ****     //* Enable receiver
2580:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_RXEN;
2581:lib_AT91SAM7S64.h **** }
2582:lib_AT91SAM7S64.h **** 
2583:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2584:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_EnableTx
2585:lib_AT91SAM7S64.h **** //* \brief Enable sending characters
2586:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2587:lib_AT91SAM7S64.h **** __inline void AT91F_US_EnableTx (
2588:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2589:lib_AT91SAM7S64.h **** {
2590:lib_AT91SAM7S64.h ****     //* Enable  transmitter
2591:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_TXEN;
2592:lib_AT91SAM7S64.h **** }
2593:lib_AT91SAM7S64.h **** 
2594:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2595:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_ResetRx
2596:lib_AT91SAM7S64.h **** //* \brief Reset Receiver and re-enable it
2597:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2598:lib_AT91SAM7S64.h **** __inline void AT91F_US_ResetRx (
2599:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2600:lib_AT91SAM7S64.h **** {
2601:lib_AT91SAM7S64.h **** 	//* Reset receiver
2602:lib_AT91SAM7S64.h **** 	pUSART->US_CR = AT91C_US_RSTRX;
2603:lib_AT91SAM7S64.h ****     //* Re-Enable receiver
2604:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_RXEN;
2605:lib_AT91SAM7S64.h **** }
2606:lib_AT91SAM7S64.h **** 
2607:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2608:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_ResetTx
2609:lib_AT91SAM7S64.h **** //* \brief Reset Transmitter and re-enable it
2610:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2611:lib_AT91SAM7S64.h **** __inline void AT91F_US_ResetTx (
2612:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2613:lib_AT91SAM7S64.h **** {
2614:lib_AT91SAM7S64.h **** 	//* Reset transmitter
2615:lib_AT91SAM7S64.h **** 	pUSART->US_CR = AT91C_US_RSTTX;
2616:lib_AT91SAM7S64.h ****     //* Enable transmitter
2617:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_TXEN;
2618:lib_AT91SAM7S64.h **** }
2619:lib_AT91SAM7S64.h **** 
2620:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2621:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_DisableRx
2622:lib_AT91SAM7S64.h **** //* \brief Disable Receiver
2623:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2624:lib_AT91SAM7S64.h **** __inline void AT91F_US_DisableRx (
2625:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2626:lib_AT91SAM7S64.h **** {
2627:lib_AT91SAM7S64.h ****     //* Disable receiver
2628:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_RXDIS;
2629:lib_AT91SAM7S64.h **** }
2630:lib_AT91SAM7S64.h **** 
2631:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2632:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_DisableTx
2633:lib_AT91SAM7S64.h **** //* \brief Disable Transmitter
2634:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2635:lib_AT91SAM7S64.h **** __inline void AT91F_US_DisableTx (
2636:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2637:lib_AT91SAM7S64.h **** {
2638:lib_AT91SAM7S64.h ****     //* Disable transmitter
2639:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_TXDIS;
2640:lib_AT91SAM7S64.h **** }
2641:lib_AT91SAM7S64.h **** 
2642:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2643:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_Close
2644:lib_AT91SAM7S64.h **** //* \brief Close USART: disable IT disable receiver and transmitter, close PDC
2645:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2646:lib_AT91SAM7S64.h **** __inline void AT91F_US_Close (
2647:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART)     // \arg pointer to a USART controller
2648:lib_AT91SAM7S64.h **** {
2649:lib_AT91SAM7S64.h ****     //* Reset the baud rate divisor register
2650:lib_AT91SAM7S64.h ****     pUSART->US_BRGR = 0 ;
2651:lib_AT91SAM7S64.h **** 
2652:lib_AT91SAM7S64.h ****     //* Reset the USART mode
2653:lib_AT91SAM7S64.h ****     pUSART->US_MR = 0  ;
2654:lib_AT91SAM7S64.h **** 
2655:lib_AT91SAM7S64.h ****     //* Reset the Timeguard Register
2656:lib_AT91SAM7S64.h ****     pUSART->US_TTGR = 0;
2657:lib_AT91SAM7S64.h **** 
2658:lib_AT91SAM7S64.h ****     //* Disable all interrupts
2659:lib_AT91SAM7S64.h ****     pUSART->US_IDR = 0xFFFFFFFF ;
2660:lib_AT91SAM7S64.h **** 
2661:lib_AT91SAM7S64.h ****     //* Abort the Peripheral Data Transfers
2662:lib_AT91SAM7S64.h ****     AT91F_PDC_Close((AT91PS_PDC) &(pUSART->US_RPR));
2663:lib_AT91SAM7S64.h **** 
2664:lib_AT91SAM7S64.h ****     //* Disable receiver and transmitter and stop any activity immediately
2665:lib_AT91SAM7S64.h ****     pUSART->US_CR = AT91C_US_TXDIS | AT91C_US_RXDIS | AT91C_US_RSTTX | AT91C_US_RSTRX ;
2666:lib_AT91SAM7S64.h **** }
2667:lib_AT91SAM7S64.h **** 
2668:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2669:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_TxReady
2670:lib_AT91SAM7S64.h **** //* \brief Return 1 if a character can be written in US_THR
2671:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2672:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_TxReady (
2673:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
2674:lib_AT91SAM7S64.h **** {
2675:lib_AT91SAM7S64.h ****     return (pUSART->US_CSR & AT91C_US_TXRDY);
2676:lib_AT91SAM7S64.h **** }
2677:lib_AT91SAM7S64.h **** 
2678:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2679:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_RxReady
2680:lib_AT91SAM7S64.h **** //* \brief Return 1 if a character can be read in US_RHR
2681:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2682:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_RxReady (
2683:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
2684:lib_AT91SAM7S64.h **** {
2685:lib_AT91SAM7S64.h ****     return (pUSART->US_CSR & AT91C_US_RXRDY);
2686:lib_AT91SAM7S64.h **** }
2687:lib_AT91SAM7S64.h **** 
2688:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2689:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_Error
2690:lib_AT91SAM7S64.h **** //* \brief Return the error flag
2691:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2692:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_Error (
2693:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART )     // \arg pointer to a USART controller
2694:lib_AT91SAM7S64.h **** {
2695:lib_AT91SAM7S64.h ****     return (pUSART->US_CSR &
2696:lib_AT91SAM7S64.h ****     	(AT91C_US_OVRE |  // Overrun error
2697:lib_AT91SAM7S64.h ****     	 AT91C_US_FRAME | // Framing error
2698:lib_AT91SAM7S64.h ****     	 AT91C_US_PARE));  // Parity error
2699:lib_AT91SAM7S64.h **** }
2700:lib_AT91SAM7S64.h **** 
2701:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2702:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_PutChar
2703:lib_AT91SAM7S64.h **** //* \brief Send a character,does not check if ready to send
2704:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2705:lib_AT91SAM7S64.h **** __inline void AT91F_US_PutChar (
2706:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,
2707:lib_AT91SAM7S64.h **** 	int character )
2708:lib_AT91SAM7S64.h **** {
2709:lib_AT91SAM7S64.h ****     pUSART->US_THR = (character & 0x1FF);
2710:lib_AT91SAM7S64.h **** }
2711:lib_AT91SAM7S64.h **** 
2712:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2713:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_GetChar
2714:lib_AT91SAM7S64.h **** //* \brief Receive a character,does not check if a character is available
2715:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2716:lib_AT91SAM7S64.h **** __inline int AT91F_US_GetChar (
2717:lib_AT91SAM7S64.h **** 	const AT91PS_USART pUSART)
2718:lib_AT91SAM7S64.h **** {
2719:lib_AT91SAM7S64.h ****     return((pUSART->US_RHR) & 0x1FF);
2720:lib_AT91SAM7S64.h **** }
2721:lib_AT91SAM7S64.h **** 
2722:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2723:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_SendFrame
2724:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
2725:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2726:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_SendFrame(
2727:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,
2728:lib_AT91SAM7S64.h **** 	char *pBuffer,
2729:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
2730:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
2731:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
2732:lib_AT91SAM7S64.h **** {
2733:lib_AT91SAM7S64.h **** 	return AT91F_PDC_SendFrame(
2734:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pUSART->US_RPR),
2735:lib_AT91SAM7S64.h **** 		pBuffer,
2736:lib_AT91SAM7S64.h **** 		szBuffer,
2737:lib_AT91SAM7S64.h **** 		pNextBuffer,
2738:lib_AT91SAM7S64.h **** 		szNextBuffer);
2739:lib_AT91SAM7S64.h **** }
2740:lib_AT91SAM7S64.h **** 
2741:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2742:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_ReceiveFrame
2743:lib_AT91SAM7S64.h **** //* \brief Return 2 if PDC has been initialized with Buffer and Next Buffer, 1 if PDC has been init
2744:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2745:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_US_ReceiveFrame (
2746:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,
2747:lib_AT91SAM7S64.h **** 	char *pBuffer,
2748:lib_AT91SAM7S64.h **** 	unsigned int szBuffer,
2749:lib_AT91SAM7S64.h **** 	char *pNextBuffer,
2750:lib_AT91SAM7S64.h **** 	unsigned int szNextBuffer )
2751:lib_AT91SAM7S64.h **** {
2752:lib_AT91SAM7S64.h **** 	return AT91F_PDC_ReceiveFrame(
2753:lib_AT91SAM7S64.h **** 		(AT91PS_PDC) &(pUSART->US_RPR),
2754:lib_AT91SAM7S64.h **** 		pBuffer,
2755:lib_AT91SAM7S64.h **** 		szBuffer,
2756:lib_AT91SAM7S64.h **** 		pNextBuffer,
2757:lib_AT91SAM7S64.h **** 		szNextBuffer);
2758:lib_AT91SAM7S64.h **** }
2759:lib_AT91SAM7S64.h **** 
2760:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2761:lib_AT91SAM7S64.h **** //* \fn    AT91F_US_SetIrdaFilter
2762:lib_AT91SAM7S64.h **** //* \brief Set the value of IrDa filter tregister
2763:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2764:lib_AT91SAM7S64.h **** __inline void AT91F_US_SetIrdaFilter (
2765:lib_AT91SAM7S64.h **** 	AT91PS_USART pUSART,
2766:lib_AT91SAM7S64.h **** 	unsigned char value
2767:lib_AT91SAM7S64.h **** )
2768:lib_AT91SAM7S64.h **** {
2769:lib_AT91SAM7S64.h **** 	pUSART->US_IF = value;
2770:lib_AT91SAM7S64.h **** }
2771:lib_AT91SAM7S64.h **** 
2772:lib_AT91SAM7S64.h **** /* *****************************************************************************
2773:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR TWI
2774:lib_AT91SAM7S64.h ****    ***************************************************************************** */
2775:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2776:lib_AT91SAM7S64.h **** //* \fn    AT91F_TWI_EnableIt
2777:lib_AT91SAM7S64.h **** //* \brief Enable TWI IT
2778:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2779:lib_AT91SAM7S64.h **** __inline void AT91F_TWI_EnableIt (
2780:lib_AT91SAM7S64.h **** 	AT91PS_TWI pTWI, // \arg pointer to a TWI controller
2781:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be enabled
2782:lib_AT91SAM7S64.h **** {
2783:lib_AT91SAM7S64.h **** 	//* Write to the IER register
2784:lib_AT91SAM7S64.h **** 	pTWI->TWI_IER = flag;
2785:lib_AT91SAM7S64.h **** }
2786:lib_AT91SAM7S64.h **** 
2787:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2788:lib_AT91SAM7S64.h **** //* \fn    AT91F_TWI_DisableIt
2789:lib_AT91SAM7S64.h **** //* \brief Disable TWI IT
2790:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2791:lib_AT91SAM7S64.h **** __inline void AT91F_TWI_DisableIt (
2792:lib_AT91SAM7S64.h **** 	AT91PS_TWI pTWI, // \arg pointer to a TWI controller
2793:lib_AT91SAM7S64.h **** 	unsigned int flag)   // \arg IT to be disabled
2794:lib_AT91SAM7S64.h **** {
2795:lib_AT91SAM7S64.h **** 	//* Write to the IDR register
2796:lib_AT91SAM7S64.h **** 	pTWI->TWI_IDR = flag;
2797:lib_AT91SAM7S64.h **** }
2798:lib_AT91SAM7S64.h **** 
2799:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2800:lib_AT91SAM7S64.h **** //* \fn    AT91F_TWI_Configure
2801:lib_AT91SAM7S64.h **** //* \brief Configure TWI in master mode
2802:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2803:lib_AT91SAM7S64.h **** __inline void AT91F_TWI_Configure ( AT91PS_TWI pTWI )          // \arg pointer to a TWI controller
2804:lib_AT91SAM7S64.h **** {
2805:lib_AT91SAM7S64.h ****     //* Disable interrupts
2806:lib_AT91SAM7S64.h **** 	pTWI->TWI_IDR = (unsigned int) -1;
2807:lib_AT91SAM7S64.h **** 
2808:lib_AT91SAM7S64.h ****     //* Reset peripheral
2809:lib_AT91SAM7S64.h **** 	pTWI->TWI_CR = AT91C_TWI_SWRST;
2810:lib_AT91SAM7S64.h **** 
2811:lib_AT91SAM7S64.h **** 	//* Set Master mode
2812:lib_AT91SAM7S64.h **** 	pTWI->TWI_CR = AT91C_TWI_MSEN;
2813:lib_AT91SAM7S64.h **** 
2814:lib_AT91SAM7S64.h **** }
2815:lib_AT91SAM7S64.h **** 
2816:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2817:lib_AT91SAM7S64.h **** //* \fn    AT91F_TWI_GetInterruptMaskStatus
2818:lib_AT91SAM7S64.h **** //* \brief Return TWI Interrupt Mask Status
2819:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2820:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_TWI_GetInterruptMaskStatus( // \return TWI Interrupt Mask Status
2821:lib_AT91SAM7S64.h ****         AT91PS_TWI pTwi) // \arg  pointer to a TWI controller
2822:lib_AT91SAM7S64.h **** {
2823:lib_AT91SAM7S64.h ****         return pTwi->TWI_IMR;
2824:lib_AT91SAM7S64.h **** }
2825:lib_AT91SAM7S64.h **** 
2826:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2827:lib_AT91SAM7S64.h **** //* \fn    AT91F_TWI_IsInterruptMasked
2828:lib_AT91SAM7S64.h **** //* \brief Test if TWI Interrupt is Masked 
2829:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2830:lib_AT91SAM7S64.h **** __inline int AT91F_TWI_IsInterruptMasked(
2831:lib_AT91SAM7S64.h ****         AT91PS_TWI pTwi,   // \arg  pointer to a TWI controller
2832:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2833:lib_AT91SAM7S64.h **** {
2834:lib_AT91SAM7S64.h ****         return (AT91F_TWI_GetInterruptMaskStatus(pTwi) & flag);
2835:lib_AT91SAM7S64.h **** }
2836:lib_AT91SAM7S64.h **** 
2837:lib_AT91SAM7S64.h **** /* *****************************************************************************
2838:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR TC
2839:lib_AT91SAM7S64.h ****    ***************************************************************************** */
2840:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2841:lib_AT91SAM7S64.h **** //* \fn    AT91F_TC_InterruptEnable
2842:lib_AT91SAM7S64.h **** //* \brief Enable TC Interrupt
2843:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2844:lib_AT91SAM7S64.h **** __inline void AT91F_TC_InterruptEnable(
2845:lib_AT91SAM7S64.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2846:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  TC interrupt to be enabled
2847:lib_AT91SAM7S64.h **** {
2848:lib_AT91SAM7S64.h ****         pTc->TC_IER = flag;
2849:lib_AT91SAM7S64.h **** }
2850:lib_AT91SAM7S64.h **** 
2851:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2852:lib_AT91SAM7S64.h **** //* \fn    AT91F_TC_InterruptDisable
2853:lib_AT91SAM7S64.h **** //* \brief Disable TC Interrupt
2854:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2855:lib_AT91SAM7S64.h **** __inline void AT91F_TC_InterruptDisable(
2856:lib_AT91SAM7S64.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2857:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  TC interrupt to be disabled
2858:lib_AT91SAM7S64.h **** {
2859:lib_AT91SAM7S64.h ****         pTc->TC_IDR = flag;
2860:lib_AT91SAM7S64.h **** }
2861:lib_AT91SAM7S64.h **** 
2862:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2863:lib_AT91SAM7S64.h **** //* \fn    AT91F_TC_GetInterruptMaskStatus
2864:lib_AT91SAM7S64.h **** //* \brief Return TC Interrupt Mask Status
2865:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2866:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_TC_GetInterruptMaskStatus( // \return TC Interrupt Mask Status
2867:lib_AT91SAM7S64.h ****         AT91PS_TC pTc) // \arg  pointer to a TC controller
2868:lib_AT91SAM7S64.h **** {
2869:lib_AT91SAM7S64.h ****         return pTc->TC_IMR;
2870:lib_AT91SAM7S64.h **** }
2871:lib_AT91SAM7S64.h **** 
2872:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2873:lib_AT91SAM7S64.h **** //* \fn    AT91F_TC_IsInterruptMasked
2874:lib_AT91SAM7S64.h **** //* \brief Test if TC Interrupt is Masked 
2875:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2876:lib_AT91SAM7S64.h **** __inline int AT91F_TC_IsInterruptMasked(
2877:lib_AT91SAM7S64.h ****         AT91PS_TC pTc,   // \arg  pointer to a TC controller
2878:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2879:lib_AT91SAM7S64.h **** {
2880:lib_AT91SAM7S64.h ****         return (AT91F_TC_GetInterruptMaskStatus(pTc) & flag);
2881:lib_AT91SAM7S64.h **** }
2882:lib_AT91SAM7S64.h **** 
2883:lib_AT91SAM7S64.h **** /* *****************************************************************************
2884:lib_AT91SAM7S64.h ****                 SOFTWARE API FOR PWMC
2885:lib_AT91SAM7S64.h ****    ***************************************************************************** */
2886:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2887:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_GetStatus
2888:lib_AT91SAM7S64.h **** //* \brief Return PWM Interrupt Status
2889:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2890:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PWMC_GetStatus( // \return PWM Interrupt Status
2891:lib_AT91SAM7S64.h **** 	AT91PS_PWMC pPWM) // pointer to a PWM controller
2892:lib_AT91SAM7S64.h **** {
2893:lib_AT91SAM7S64.h **** 	return pPWM->PWMC_SR;
2894:lib_AT91SAM7S64.h **** }
2895:lib_AT91SAM7S64.h **** 
2896:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2897:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_InterruptEnable
2898:lib_AT91SAM7S64.h **** //* \brief Enable PWM Interrupt
2899:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2900:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_InterruptEnable(
2901:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPwm,   // \arg  pointer to a PWM controller
2902:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  PWM interrupt to be enabled
2903:lib_AT91SAM7S64.h **** {
2904:lib_AT91SAM7S64.h ****         pPwm->PWMC_IER = flag;
2905:lib_AT91SAM7S64.h **** }
2906:lib_AT91SAM7S64.h **** 
2907:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2908:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_InterruptDisable
2909:lib_AT91SAM7S64.h **** //* \brief Disable PWM Interrupt
2910:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2911:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_InterruptDisable(
2912:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPwm,   // \arg  pointer to a PWM controller
2913:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  PWM interrupt to be disabled
2914:lib_AT91SAM7S64.h **** {
2915:lib_AT91SAM7S64.h ****         pPwm->PWMC_IDR = flag;
 864              		.loc 1 2915 0
 865 02e0 6C4A9FE5 		ldr	r4, .L152+8
 866              	.LBE513:
 867              	.LBE512:
 868              	.LBB514:
 869              	.LBB515:
 870              		.loc 1 496 0
 871 02e4 0080A0E3 		mov	r8, #0
 872              		.loc 1 495 0
 873 02e8 0160A0E3 		mov	r6, #1
 874              	.LBE515:
 875              	.LBE514:
 876              	.LBB516:
 877              	.LBB517:
 878 02ec 0270A0E3 		mov	r7, #2
 879              	.LBE517:
 880              	.LBE516:
 881              	.LBB518:
 882              	.LBB519:
 883 02f0 04A0A0E3 		mov	sl, #4
 884              	.LBE519:
 885              	.LBE518:
 886              	.LBE509:
 887              	.LBE508:
 888              		.loc 2 265 0
 889 02f4 3E0000EB 		bl	InitPIO
 890              		.loc 2 266 0
 891 02f8 FEFFFFEB 		bl	InitADC
 892              	.LBB520:
 893              	.LBB521:
 894              	.LBB522:
 895              	.LBB523:
 896              		.loc 1 495 0
 897 02fc 8030A0E3 		mov	r3, #128
 898              	.LBE523:
 899              	.LBE522:
 900              	.LBB524:
 901              	.LBB525:
 902 0300 8F6005E5 		str	r6, [r5, #-143]
 903              	.LBE525:
 904              	.LBE524:
 905              	.LBB526:
 906              	.LBB527:
 907              		.loc 1 1044 0
 908 0304 032CE0E3 		mvn	r2, #768
 909              	.LBE527:
 910              	.LBE526:
 911              	.LBB528:
 912              	.LBB529:
 913              		.loc 1 496 0
 914 0308 8B8005E5 		str	r8, [r5, #-139]
 915              	.LBE529:
 916              	.LBE528:
 917              	.LBB530:
 918              	.LBB531:
 919              		.loc 1 2915 0
 920 030c 0890A0E3 		mov	r9, #8
 921              	.LBE531:
 922              	.LBE530:
 923              	.LBB532:
 924              	.LBB533:
 925              		.loc 1 497 0
 926 0310 FB6005E5 		str	r6, [r5, #-251]
 927              	.LBE533:
 928              	.LBE532:
 929              	.LBB534:
 930              	.LBB535:
 931              		.loc 1 495 0
 932 0314 8F7005E5 		str	r7, [r5, #-143]
 933              		.loc 1 496 0
 934 0318 8B8005E5 		str	r8, [r5, #-139]
 935              		.loc 1 497 0
 936 031c FB7005E5 		str	r7, [r5, #-251]
 937              	.LBE535:
 938              	.LBE534:
 939              	.LBB536:
 940              	.LBB537:
 941              		.loc 1 495 0
 942 0320 8FA005E5 		str	sl, [r5, #-143]
 943              		.loc 1 496 0
 944 0324 8B8005E5 		str	r8, [r5, #-139]
 945              		.loc 1 497 0
 946 0328 FBA005E5 		str	sl, [r5, #-251]
 947              	.LBE537:
 948              	.LBE536:
 949              	.LBB538:
 950              	.LBB539:
 951              		.loc 1 495 0
 952 032c 8F3005E5 		str	r3, [r5, #-143]
 953              		.loc 1 496 0
 954 0330 8B8005E5 		str	r8, [r5, #-139]
 955              		.loc 1 497 0
 956 0334 FB3005E5 		str	r3, [r5, #-251]
 957              	.LBE539:
 958              	.LBE538:
 959              	.LBB540:
 960              	.LBB541:
 961              	.LBB542:
 962              	.LBB543:
 963              		.loc 1 1044 0
 964 0338 0E3D83E2 		add	r3, r3, #896
 965              	.LBE543:
 966              	.LBE542:
 967              	.LBE541:
 968              	.LBE540:
 969              	.LBB544:
 970              	.LBB545:
 971              		.loc 1 2915 0
 972 033c EB6004E5 		str	r6, [r4, #-235]
 973              	.LBE545:
 974              	.LBE544:
 975              		.loc 2 133 0
 976 0340 7D1DA0E3 		mov	r1, #8000
 977              	.LBB546:
 978              	.LBB547:
 979              		.loc 1 2915 0
 980 0344 EB7004E5 		str	r7, [r4, #-235]
 981              	.LBE547:
 982              	.LBE546:
 983              		.loc 2 133 0
 984 0348 0800A0E1 		mov	r0, r8
 985              	.LBB548:
 986              	.LBB549:
 987              		.loc 1 2915 0
 988 034c EBA004E5 		str	sl, [r4, #-235]
 989              	.LBE549:
 990              	.LBE548:
 991              	.LBB550:
 992              	.LBB551:
 993 0350 EB9004E5 		str	r9, [r4, #-235]
 994              	.LBE551:
 995              	.LBE550:
 996              	.LBB552:
 997              	.LBB553:
 998              		.loc 1 1044 0
 999 0354 EFA002E5 		str	sl, [r2, #-239]
 1000              	.LBE553:
 1001              	.LBE552:
 1002              	.LBB554:
 1003              	.LBB555:
 1004              	.LBB556:
 1005              	.LBB557:
 1006 0358 EF3002E5 		str	r3, [r2, #-239]
 1007              	.LBE557:
 1008              	.LBE556:
 1009              	.LBE555:
 1010              	.LBE554:
 1011              	.LBB558:
 1012              	.LBB559:
2916:lib_AT91SAM7S64.h **** }
2917:lib_AT91SAM7S64.h **** 
2918:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2919:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_GetInterruptMaskStatus
2920:lib_AT91SAM7S64.h **** //* \brief Return PWM Interrupt Mask Status
2921:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2922:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PWMC_GetInterruptMaskStatus( // \return PWM Interrupt Mask Status
2923:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPwm) // \arg  pointer to a PWM controller
2924:lib_AT91SAM7S64.h **** {
2925:lib_AT91SAM7S64.h ****         return pPwm->PWMC_IMR;
2926:lib_AT91SAM7S64.h **** }
2927:lib_AT91SAM7S64.h **** 
2928:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2929:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_IsInterruptMasked
2930:lib_AT91SAM7S64.h **** //* \brief Test if PWM Interrupt is Masked
2931:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2932:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PWMC_IsInterruptMasked(
2933:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2934:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2935:lib_AT91SAM7S64.h **** {
2936:lib_AT91SAM7S64.h **** 	return (AT91F_PWMC_GetInterruptMaskStatus(pPWM) & flag);
2937:lib_AT91SAM7S64.h **** }
2938:lib_AT91SAM7S64.h **** 
2939:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2940:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_IsStatusSet
2941:lib_AT91SAM7S64.h **** //* \brief Test if PWM Interrupt is Set
2942:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2943:lib_AT91SAM7S64.h **** __inline unsigned int AT91F_PWMC_IsStatusSet(
2944:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2945:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  flag to be tested
2946:lib_AT91SAM7S64.h **** {
2947:lib_AT91SAM7S64.h **** 	return (AT91F_PWMC_GetStatus(pPWM) & flag);
2948:lib_AT91SAM7S64.h **** }
2949:lib_AT91SAM7S64.h **** 
2950:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2951:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_CfgChannel
2952:lib_AT91SAM7S64.h **** //* \brief Test if PWM Interrupt is Set
2953:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2954:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_CfgChannel(
2955:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2956:lib_AT91SAM7S64.h ****         unsigned int channelId, // \arg PWM channel ID
2957:lib_AT91SAM7S64.h ****         unsigned int mode, // \arg  PWM mode
2958:lib_AT91SAM7S64.h ****         unsigned int period, // \arg PWM period
2959:lib_AT91SAM7S64.h ****         unsigned int duty) // \arg PWM duty cycle
2960:lib_AT91SAM7S64.h **** {
2961:lib_AT91SAM7S64.h **** 	pPWM->PWMC_CH[channelId].PWMC_CMR = mode;
2962:lib_AT91SAM7S64.h **** 	pPWM->PWMC_CH[channelId].PWMC_CDTYR = duty;
2963:lib_AT91SAM7S64.h **** 	pPWM->PWMC_CH[channelId].PWMC_CPRDR = period;
2964:lib_AT91SAM7S64.h **** }
2965:lib_AT91SAM7S64.h **** 
2966:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2967:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_StartChannel
2968:lib_AT91SAM7S64.h **** //* \brief Enable channel
2969:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2970:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_StartChannel(
2971:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2972:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  Channels IDs to be enabled
2973:lib_AT91SAM7S64.h **** {
2974:lib_AT91SAM7S64.h **** 	pPWM->PWMC_ENA = flag;
2975:lib_AT91SAM7S64.h **** }
2976:lib_AT91SAM7S64.h **** 
2977:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2978:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_StopChannel
2979:lib_AT91SAM7S64.h **** //* \brief Disable channel
2980:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2981:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_StopChannel(
2982:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2983:lib_AT91SAM7S64.h ****         unsigned int flag) // \arg  Channels IDs to be enabled
2984:lib_AT91SAM7S64.h **** {
2985:lib_AT91SAM7S64.h **** 	pPWM->PWMC_DIS = flag;
 1013              		.loc 1 2985 0
 1014 035c F76004E5 		str	r6, [r4, #-247]
 1015              	.LBE559:
 1016              	.LBE558:
 1017              	.LBB560:
 1018              	.LBB561:
 1019 0360 F77004E5 		str	r7, [r4, #-247]
 1020              	.LBE561:
 1021              	.LBE560:
 1022              	.LBB562:
 1023              	.LBB563:
 1024 0364 F7A004E5 		str	sl, [r4, #-247]
 1025              	.LBE563:
 1026              	.LBE562:
 1027              	.LBB564:
 1028              	.LBB565:
 1029 0368 F79004E5 		str	r9, [r4, #-247]
 1030              	.LBE565:
 1031              	.LBE564:
 1032              		.loc 2 133 0
 1033 036c FEFFFFEB 		bl	pwmFreqSet
 1034              		.loc 2 134 0
 1035 0370 7D1DA0E3 		mov	r1, #8000
 1036 0374 0600A0E1 		mov	r0, r6
 1037 0378 FEFFFFEB 		bl	pwmFreqSet
 1038              		.loc 2 135 0
 1039 037c 3C10A0E3 		mov	r1, #60
 1040 0380 0700A0E1 		mov	r0, r7
 1041 0384 FEFFFFEB 		bl	pwmFreqSet
 1042              		.loc 2 136 0
 1043 0388 7D1DA0E3 		mov	r1, #8000
 1044 038c 0300A0E3 		mov	r0, #3
 1045 0390 FEFFFFEB 		bl	pwmFreqSet
 1046              		.loc 2 138 0
 1047 0394 0800A0E1 		mov	r0, r8
 1048 0398 0610A0E1 		mov	r1, r6
 1049 039c FEFFFFEB 		bl	pwmDutySet_u8
 1050              		.loc 2 139 0
 1051 03a0 0600A0E1 		mov	r0, r6
 1052 03a4 0610A0E1 		mov	r1, r6
 1053 03a8 FEFFFFEB 		bl	pwmDutySet_u8
 1054              		.loc 2 140 0
 1055 03ac 0700A0E1 		mov	r0, r7
 1056 03b0 0610A0E1 		mov	r1, r6
 1057 03b4 FEFFFFEB 		bl	pwmDutySet_u8
 1058              		.loc 2 141 0
 1059 03b8 0300A0E3 		mov	r0, #3
 1060 03bc 0610A0E1 		mov	r1, r6
 1061 03c0 FEFFFFEB 		bl	pwmDutySet_u8
 1062              	.LBE521:
 1063              	.LBE520:
 1064              	.LBB566:
 1065              	.LBB567:
 1066              	.LBB568:
 1067              	.LBB569:
 1068              		.loc 1 495 0
 1069 03c4 01C6A0E3 		mov	ip, #1048576
 1070              	.LBE569:
 1071              	.LBE568:
 1072              	.LBE567:
 1073              	.LBE566:
 1074              	.LBB570:
 1075              	.LBB571:
 1076              	.LBB572:
 1077              	.LBB573:
2986:lib_AT91SAM7S64.h **** }
2987:lib_AT91SAM7S64.h **** 
2988:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2989:lib_AT91SAM7S64.h **** //* \fn    AT91F_PWM_UpdateChannel
2990:lib_AT91SAM7S64.h **** //* \brief Update Period or Duty Cycle
2991:lib_AT91SAM7S64.h **** //*----------------------------------------------------------------------------
2992:lib_AT91SAM7S64.h **** __inline void AT91F_PWMC_UpdateChannel(
2993:lib_AT91SAM7S64.h ****         AT91PS_PWMC pPWM,   // \arg  pointer to a PWM controller
2994:lib_AT91SAM7S64.h ****         unsigned int channelId, // \arg PWM channel ID
2995:lib_AT91SAM7S64.h ****         unsigned int update) // \arg  Channels IDs to be enabled
2996:lib_AT91SAM7S64.h **** {
2997:lib_AT91SAM7S64.h **** 	pPWM->PWMC_CH[channelId].PWMC_CUPDR = update;
 1078              		.loc 1 2997 0
 1079 03c8 116184E5 		str	r6, [r4, #273]
 1080              	.LBE573:
 1081              	.LBE572:
 1082              	.LBB574:
 1083              	.LBB575:
 1084 03cc 317184E5 		str	r7, [r4, #305]
 1085              	.LBE575:
 1086              	.LBE574:
 1087              	.LBB576:
 1088              	.LBB577:
 1089 03d0 51A184E5 		str	sl, [r4, #337]
 1090              	.LBE577:
 1091              	.LBE576:
 1092              	.LBB578:
 1093              	.LBB579:
 1094 03d4 719184E5 		str	r9, [r4, #369]
 1095              	.LBE579:
 1096              	.LBE578:
 1097              	.LBB580:
 1098              	.LBB581:
 1099              		.loc 1 2985 0
 1100 03d8 F76004E5 		str	r6, [r4, #-247]
 1101              	.LBE581:
 1102              	.LBE580:
 1103              	.LBB582:
 1104              	.LBB583:
 1105 03dc F77004E5 		str	r7, [r4, #-247]
 1106              	.LBE583:
 1107              	.LBE582:
 1108              	.LBB584:
 1109              	.LBB585:
 1110 03e0 F7A004E5 		str	sl, [r4, #-247]
 1111              	.LBE585:
 1112              	.LBE584:
 1113              	.LBB586:
 1114              	.LBB587:
 1115 03e4 F79004E5 		str	r9, [r4, #-247]
 1116              	.LBE587:
 1117              	.LBE586:
 1118              	.LBE571:
 1119              	.LBE570:
 1120              	.LBB588:
 1121              	.LBB589:
 1122              	.LBB590:
 1123              	.LBB591:
 1124              		.loc 1 495 0
 1125 03e8 8FC005E5 		str	ip, [r5, #-143]
 1126              		.loc 1 496 0
 1127 03ec 8B8005E5 		str	r8, [r5, #-139]
 1128              		.loc 1 497 0
 1129 03f0 FBC005E5 		str	ip, [r5, #-251]
 1130              	.LBE591:
 1131              	.LBE590:
 1132              		.loc 2 230 0
 1133 03f4 5CC99FE5 		ldr	ip, .L152+12
 1134 03f8 1E10A0E3 		mov	r1, #30
 1135 03fc 0720A0E3 		mov	r2, #7
 1136 0400 2030A0E3 		mov	r3, #32
 1137 0404 50099FE5 		ldr	r0, .L152+16
 1138 0408 00C08DE5 		str	ip, [sp, #0]
 1139 040c FEFFFFEB 		bl	AT91F_AIC_ConfigureIt
 1140              	.LBB592:
 1141              	.LBB593:
 1142              		.loc 1 495 0
 1143 0410 01C1A0E3 		mov	ip, #1073741824
 1144 0414 8FC005E5 		str	ip, [r5, #-143]
 1145              		.loc 1 496 0
 1146 0418 8B8005E5 		str	r8, [r5, #-139]
 1147              		.loc 1 497 0
 1148 041c FBC005E5 		str	ip, [r5, #-251]
 1149              	.LBE593:
 1150              	.LBE592:
 1151              		.loc 2 235 0
 1152 0420 38C99FE5 		ldr	ip, .L152+20
 1153 0424 1F10A0E3 		mov	r1, #31
 1154 0428 0720A0E3 		mov	r2, #7
 1155 042c 2030A0E3 		mov	r3, #32
 1156 0430 24099FE5 		ldr	r0, .L152+16
 1157 0434 00C08DE5 		str	ip, [sp, #0]
 1158 0438 FEFFFFEB 		bl	AT91F_AIC_ConfigureIt
 1159              	.LBB594:
 1160              	.LBB595:
 1161              		.loc 1 495 0
 1162 043c 02C7A0E3 		mov	ip, #524288
 1163 0440 8FC005E5 		str	ip, [r5, #-143]
 1164              		.loc 1 496 0
 1165 0444 8B8005E5 		str	r8, [r5, #-139]
 1166              		.loc 1 497 0
 1167 0448 FBC005E5 		str	ip, [r5, #-251]
 1168              	.LBE595:
 1169              	.LBE594:
 1170              		.loc 2 240 0
 1171 044c 10C99FE5 		ldr	ip, .L152+24
 1172 0450 04099FE5 		ldr	r0, .L152+16
 1173 0454 0810A0E1 		mov	r1, r8
 1174 0458 0820A0E1 		mov	r2, r8
 1175 045c 6030A0E3 		mov	r3, #96
 1176 0460 00C08DE5 		str	ip, [sp, #0]
 1177 0464 FEFFFFEB 		bl	AT91F_AIC_ConfigureIt
 1178              	.LVL8:
 1179 0468 08A0A0E1 		mov	sl, r8
 1180              	.LVL9:
 1181              	.LVL10:
 1182              	.L151:
 1183              	.LBE589:
 1184              	.LBE588:
 1185              	.LBE507:
 1186              	.LBE503:
 277:main.c        ****     struct cdcMessage cdcMessageObj;
 278:main.c        **** 
 279:main.c        ****     unsigned int input1Channel = 0;
 280:main.c        ****     unsigned int input1Readings = 0;
 281:main.c        ****     unsigned int input1Reading = 0;
 282:main.c        ****     unsigned int cameraServoDuty = 1;
 283:main.c        ****     unsigned int link1DriveDuty = 1;
 284:main.c        ****     unsigned int link2DriveDuty = 1;
 285:main.c        ****     unsigned int gripperRotateDriveDuty = 1;
 286:main.c        ****     unsigned int parallelDemo = 0;
 287:main.c        ****     unsigned int serialDemo = 0;
 288:main.c        **** 
 289:main.c        ****     DeviceInit();
 290:main.c        **** 
 291:main.c        ****     while (1)
 292:main.c        ****     {
 293:main.c        ****         cdcMessageObj = getCDCMEssage();
 1187              		.loc 2 293 0
 1188 046c 0C408DE2 		add	r4, sp, #12
 1189              	.LVL11:
 1190 0470 084044E2 		sub	r4, r4, #8
 1191 0474 0400A0E1 		mov	r0, r4
 1192 0478 825F8DE2 		add	r5, sp, #520
 1193 047c FEFFFFEB 		bl	getCDCMEssage
 1194 0480 0410A0E1 		mov	r1, r4
 1195 0484 0500A0E1 		mov	r0, r5
 1196 0488 812FA0E3 		mov	r2, #516
 1197 048c FEFFFFEB 		bl	memcpy
 294:main.c        ****         if (cdcMessageObj.length > 0)
 1198              		.loc 2 294 0
 1199 0490 08349DE5 		ldr	r3, [sp, #1032]
 1200 0494 000053E3 		cmp	r3, #0
 1201 0498 3D03000A 		beq	.L28
 1202              	.LBB596:
 295:main.c        ****         {
 296:main.c        ****             sprintf((char *)msg,"MSG:%s\n", cdcMessageObj.data);
 1203              		.loc 2 296 0
 1204 049c C4189FE5 		ldr	r1, .L152+28
 1205 04a0 0520A0E1 		mov	r2, r5
 1206 04a4 C0089FE5 		ldr	r0, .L152+32
 1207 04a8 FEFFFFEB 		bl	sprintf
 297:main.c        ****             pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 1208              		.loc 2 297 0
 1209 04ac B8089FE5 		ldr	r0, .L152+32
 1210 04b0 FEFFFFEB 		bl	strlen
 1211 04b4 94689FE5 		ldr	r6, .L152+4
 1212 04b8 0020A0E1 		mov	r2, r0
 1213 04bc A8189FE5 		ldr	r1, .L152+32
 1214 04c0 0600A0E1 		mov	r0, r6
 1215 04c4 10C096E5 		ldr	ip, [r6, #16]
 1216 04c8 0FE0A0E1 		mov	lr, pc
 1217 04cc 1CFF2FE1 		bx	ip
 298:main.c        **** 
 299:main.c        ****             char *cmdParts;
 300:main.c        ****             cmdParts = strtok((char*) cdcMessageObj.data, "#" );
 1218              		.loc 2 300 0
 1219 04d0 98189FE5 		ldr	r1, .L152+36
 1220 04d4 0500A0E1 		mov	r0, r5
 1221 04d8 FEFFFFEB 		bl	strtok
 301:main.c        **** 
 302:main.c        ****             if (strcmp((char*) cmdParts, "DCDC24VENABLEON") == 0)
 1222              		.loc 2 302 0
 1223 04dc 90189FE5 		ldr	r1, .L152+40
 1224              		.loc 2 300 0
 1225 04e0 0040A0E1 		mov	r4, r0
 1226              	.LVL12:
 1227              		.loc 2 302 0
 1228 04e4 FEFFFFEB 		bl	strcmp
 1229 04e8 000050E3 		cmp	r0, #0
 1230 04ec 4301001A 		bne	.L30
 1231              	.LBB597:
 1232              	.LBB598:
 1233              		.loc 1 609 0
 1234 04f0 0231A0E3 		mov	r3, #-2147483648
 1235 04f4 0B2CE0E3 		mvn	r2, #2816
 1236              	.LBE598:
 1237              	.LBE597:
 303:main.c        ****             {
 304:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA31);
 305:main.c        ****                 sprintf((char *)msg,"24V DCDC Voltage Regulator is ON\n");
 1238              		.loc 2 305 0
 1239 04f8 78189FE5 		ldr	r1, .L152+44
 1240              	.LBB599:
 1241              	.LBB600:
 1242              		.loc 1 609 0
 1243 04fc CF3002E5 		str	r3, [r2, #-207]
 1244              	.LBE600:
 1245              	.LBE599:
 1246              		.loc 2 305 0
 1247 0500 64089FE5 		ldr	r0, .L152+32
 1248 0504 FEFFFFEB 		bl	strcpy
 306:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 1249              		.loc 2 306 0
 1250 0508 5C089FE5 		ldr	r0, .L152+32
 1251 050c FEFFFFEB 		bl	strlen
 1252 0510 500100EA 		b	.L125
 1253              	.L30:
 307:main.c        ****                 continue;
 308:main.c        ****             }
 309:main.c        ****             if (strcmp((char*) cmdParts, "DCDC24VENABLEOFF") == 0)
 1254              		.loc 2 309 0
 1255 0514 0400A0E1 		mov	r0, r4
 1256 0518 5C189FE5 		ldr	r1, .L152+48
 1257 051c FEFFFFEB 		bl	strcmp
 1258 0520 000050E3 		cmp	r0, #0
 1259 0524 5701001A 		bne	.L32
 1260              	.LBB601:
 1261              	.LBB602:
 1262              		.loc 1 620 0
 1263 0528 0231A0E3 		mov	r3, #-2147483648
 1264 052c 0B2CE0E3 		mvn	r2, #2816
 1265              	.LBE602:
 1266              	.LBE601:
 310:main.c        ****             {
 311:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA31);
 312:main.c        ****                 sprintf((char *)msg,"24V DCDC Voltage Regulator is OFF\n");
 1267              		.loc 2 312 0
 1268 0530 48189FE5 		ldr	r1, .L152+52
 1269 0534 30089FE5 		ldr	r0, .L152+32
 1270              	.LBB603:
 1271              	.LBB604:
 1272              		.loc 1 620 0
 1273 0538 CB3002E5 		str	r3, [r2, #-203]
 1274              	.LBE604:
 1275              	.LBE603:
 1276              		.loc 2 312 0
 1277 053c FEFFFFEB 		bl	strcpy
 313:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 1278              		.loc 2 313 0
 1279 0540 24089FE5 		ldr	r0, .L152+32
 1280 0544 FEFFFFEB 		bl	strlen
 1281              	.L125:
 1282 0548 0020A0E1 		mov	r2, r0
 1283 054c 18189FE5 		ldr	r1, .L152+32
 1284 0550 0600A0E1 		mov	r0, r6
 1285 0554 10C096E5 		ldr	ip, [r6, #16]
 1286 0558 0FE0A0E1 		mov	lr, pc
 1287 055c 1CFF2FE1 		bx	ip
 1288 0560 190100EA 		b	.L151
 1289              	.L32:
 314:main.c        ****                 continue;
 315:main.c        ****             }
 316:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL0") == 0)
 1290              		.loc 2 316 0
 1291 0564 0400A0E1 		mov	r0, r4
 1292 0568 14189FE5 		ldr	r1, .L152+56
 1293 056c FEFFFFEB 		bl	strcmp
 1294 0570 000050E3 		cmp	r0, #0
 1295              	.LBB605:
 1296              	.LBB606:
 1297              		.loc 1 620 0
 1298 0574 0B2CE003 		mvneq	r2, #2816
 1299 0578 0133A003 		moveq	r3, #67108864
 1300              	.LBE606:
 1301              	.LBE605:
 1302              	.LBB607:
 1303              	.LBB608:
 1304 057c 0080A001 		moveq	r8, r0
 1305              	.LBE608:
 1306              	.LBE607:
 1307              	.LBB609:
 1308              	.LBB610:
 1309 0580 CB300205 		streq	r3, [r2, #-203]
 1310 0584 6901000A 		beq	.L126
 1311              	.L34:
 1312              	.LBE610:
 1313              	.LBE609:
 317:main.c        ****             {
 318:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 319:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 320:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 321:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 322:main.c        ****                 input1Channel = 0;
 323:main.c        ****                 continue;
 324:main.c        ****             }
 325:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL1") == 0)
 1314              		.loc 2 325 0
 1315 0588 0400A0E1 		mov	r0, r4
 1316 058c F4179FE5 		ldr	r1, .L152+60
 1317 0590 FEFFFFEB 		bl	strcmp
 1318 0594 000050E3 		cmp	r0, #0
 1319 0598 7001001A 		bne	.L36
 1320              	.LBB611:
 1321              	.LBB612:
 1322              		.loc 1 609 0
 1323 059c 0B2CE0E3 		mvn	r2, #2816
 1324 05a0 0133A0E3 		mov	r3, #67108864
 1325 05a4 CF3002E5 		str	r3, [r2, #-207]
 1326              	.LBE612:
 1327              	.LBE611:
 1328              	.LBB613:
 1329              	.LBB614:
 1330              		.loc 1 620 0
 1331 05a8 0180A0E3 		mov	r8, #1
 1332              	.L126:
 1333              	.LBE614:
 1334              	.LBE613:
 1335              	.LBB615:
 1336              	.LBB616:
 1337 05ac FE3483E2 		add	r3, r3, #-33554432
 1338 05b0 CB3002E5 		str	r3, [r2, #-203]
 1339              	.L127:
 1340              	.LBE616:
 1341              	.LBE615:
 1342              	.LBB617:
 1343              	.LBB618:
 1344 05b4 FF3483E2 		add	r3, r3, #-16777216
 1345 05b8 CB3002E5 		str	r3, [r2, #-203]
 1346              	.L137:
 1347              	.LBE618:
 1348              	.LBE617:
 1349              	.LBB619:
 1350              	.LBB620:
 1351 05bc 0139A0E3 		mov	r3, #16384
 1352              	.L129:
 1353 05c0 CB3002E5 		str	r3, [r2, #-203]
 1354 05c4 190100EA 		b	.L151
 1355              	.L36:
 1356              	.LBE620:
 1357              	.LBE619:
 326:main.c        ****             {
 327:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 328:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 329:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 330:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 331:main.c        ****                 input1Channel = 1;
 332:main.c        ****                 continue;
 333:main.c        ****             }
 334:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL2") == 0)
 1358              		.loc 2 334 0
 1359 05c8 0400A0E1 		mov	r0, r4
 1360 05cc B8179FE5 		ldr	r1, .L152+64
 1361 05d0 FEFFFFEB 		bl	strcmp
 1362 05d4 000050E3 		cmp	r0, #0
 1363              	.LBB621:
 1364              	.LBB622:
 1365              		.loc 1 620 0
 1366 05d8 0B2CE003 		mvneq	r2, #2816
 1367 05dc 0133A003 		moveq	r3, #67108864
 1368              	.LBE622:
 1369              	.LBE621:
 1370              	.LBB623:
 1371              	.LBB624:
 1372 05e0 0280A003 		moveq	r8, #2
 1373              	.LBE624:
 1374              	.LBE623:
 1375              	.LBB625:
 1376              	.LBB626:
 1377 05e4 CB300205 		streq	r3, [r2, #-203]
 1378 05e8 8201000A 		beq	.L136
 1379              	.L38:
 1380              	.LBE626:
 1381              	.LBE625:
 335:main.c        ****             {
 336:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 337:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 338:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 339:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 340:main.c        ****                 input1Channel = 2;
 341:main.c        ****                 continue;
 342:main.c        ****             }
 343:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL3") == 0)
 1382              		.loc 2 343 0
 1383 05ec 0400A0E1 		mov	r0, r4
 1384 05f0 98179FE5 		ldr	r1, .L152+68
 1385 05f4 FEFFFFEB 		bl	strcmp
 1386 05f8 000050E3 		cmp	r0, #0
 1387 05fc 8501001A 		bne	.L40
 1388              	.LBB627:
 1389              	.LBB628:
 1390              		.loc 1 609 0
 1391 0600 0B2CE0E3 		mvn	r2, #2816
 1392 0604 0133A0E3 		mov	r3, #67108864
 1393 0608 CF3002E5 		str	r3, [r2, #-207]
 1394              	.LBE628:
 1395              	.LBE627:
 1396              	.LBB629:
 1397              	.LBB630:
 1398              		.loc 1 620 0
 1399 060c 0380A0E3 		mov	r8, #3
 1400              	.L136:
 1401              	.LBE630:
 1402              	.LBE629:
 1403              	.LBB631:
 1404              	.LBB632:
 1405              		.loc 1 609 0
 1406 0610 FE3483E2 		add	r3, r3, #-33554432
 1407 0614 CF3002E5 		str	r3, [r2, #-207]
 1408 0618 6B0100EA 		b	.L127
 1409              	.L40:
 1410              	.LBE632:
 1411              	.LBE631:
 344:main.c        ****             {
 345:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 346:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 347:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 348:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 349:main.c        ****                 input1Channel = 3;
 350:main.c        ****                 continue;
 351:main.c        ****             }
 352:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL4") == 0)
 1412              		.loc 2 352 0
 1413 061c 0400A0E1 		mov	r0, r4
 1414 0620 6C179FE5 		ldr	r1, .L152+72
 1415 0624 FEFFFFEB 		bl	strcmp
 1416 0628 000050E3 		cmp	r0, #0
 1417              	.LBB633:
 1418              	.LBB634:
 1419              		.loc 1 620 0
 1420 062c 0B2CE003 		mvneq	r2, #2816
 1421 0630 0133A003 		moveq	r3, #67108864
 1422              	.LBE634:
 1423              	.LBE633:
 1424              	.LBB635:
 1425              	.LBB636:
 1426 0634 0480A003 		moveq	r8, #4
 1427              	.LBE636:
 1428              	.LBE635:
 1429              	.LBB637:
 1430              	.LBB638:
 1431 0638 CB300205 		streq	r3, [r2, #-203]
 1432 063c 9701000A 		beq	.L143
 1433              	.L42:
 1434              	.LBE638:
 1435              	.LBE637:
 353:main.c        ****             {
 354:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 355:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 356:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 357:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 358:main.c        ****                 input1Channel = 4;
 359:main.c        ****                 continue;
 360:main.c        ****             }
 361:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL5") == 0)
 1436              		.loc 2 361 0
 1437 0640 0400A0E1 		mov	r0, r4
 1438 0644 4C179FE5 		ldr	r1, .L152+76
 1439 0648 FEFFFFEB 		bl	strcmp
 1440 064c 000050E3 		cmp	r0, #0
 1441 0650 9A01001A 		bne	.L44
 1442              	.LBB639:
 1443              	.LBB640:
 1444              		.loc 1 609 0
 1445 0654 0B2CE0E3 		mvn	r2, #2816
 1446 0658 0133A0E3 		mov	r3, #67108864
 1447 065c CF3002E5 		str	r3, [r2, #-207]
 1448              	.LBE640:
 1449              	.LBE639:
 1450              	.LBB641:
 1451              	.LBB642:
 1452              		.loc 1 620 0
 1453 0660 0580A0E3 		mov	r8, #5
 1454              	.L143:
 1455              	.LBE642:
 1456              	.LBE641:
 1457              	.LBB643:
 1458              	.LBB644:
 1459 0664 FE3483E2 		add	r3, r3, #-33554432
 1460 0668 CB3002E5 		str	r3, [r2, #-203]
 1461 066c AE0100EA 		b	.L142
 1462              	.L44:
 1463              	.LBE644:
 1464              	.LBE643:
 362:main.c        ****             {
 363:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 364:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 365:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 366:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 367:main.c        ****                 input1Channel = 5;
 368:main.c        ****                 continue;
 369:main.c        ****             }
 370:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL6") == 0)
 1465              		.loc 2 370 0
 1466 0670 0400A0E1 		mov	r0, r4
 1467 0674 20179FE5 		ldr	r1, .L152+80
 1468 0678 FEFFFFEB 		bl	strcmp
 1469 067c 000050E3 		cmp	r0, #0
 1470              	.LBB645:
 1471              	.LBB646:
 1472              		.loc 1 620 0
 1473 0680 0B2CE003 		mvneq	r2, #2816
 1474 0684 0133A003 		moveq	r3, #67108864
 1475              	.LBE646:
 1476              	.LBE645:
 1477              	.LBB647:
 1478              	.LBB648:
 1479 0688 0680A003 		moveq	r8, #6
 1480              	.LBE648:
 1481              	.LBE647:
 1482              	.LBB649:
 1483              	.LBB650:
 1484 068c CB300205 		streq	r3, [r2, #-203]
 1485 0690 AC01000A 		beq	.L144
 1486              	.L46:
 1487              	.LBE650:
 1488              	.LBE649:
 371:main.c        ****             {
 372:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 373:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 374:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 375:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 376:main.c        ****                 input1Channel = 6;
 377:main.c        ****                 continue;
 378:main.c        ****             }
 379:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL7") == 0)
 1489              		.loc 2 379 0
 1490 0694 0400A0E1 		mov	r0, r4
 1491 0698 00179FE5 		ldr	r1, .L152+84
 1492 069c FEFFFFEB 		bl	strcmp
 1493 06a0 000050E3 		cmp	r0, #0
 1494 06a4 B101001A 		bne	.L48
 1495              	.LBB651:
 1496              	.LBB652:
 1497              		.loc 1 609 0
 1498 06a8 0B2CE0E3 		mvn	r2, #2816
 1499 06ac 0133A0E3 		mov	r3, #67108864
 1500 06b0 CF3002E5 		str	r3, [r2, #-207]
 1501              	.LBE652:
 1502              	.LBE651:
 1503              	.LBB653:
 1504              	.LBB654:
 1505              		.loc 1 620 0
 1506 06b4 0780A0E3 		mov	r8, #7
 1507              	.L144:
 1508              	.LBE654:
 1509              	.LBE653:
 1510              	.LBB655:
 1511              	.LBB656:
 1512              		.loc 1 609 0
 1513 06b8 FE3483E2 		add	r3, r3, #-33554432
 1514 06bc CF3002E5 		str	r3, [r2, #-207]
 1515              	.L142:
 1516              	.LBE656:
 1517              	.LBE655:
 1518              	.LBB657:
 1519              	.LBB658:
 1520 06c0 FF3483E2 		add	r3, r3, #-16777216
 1521 06c4 CF3002E5 		str	r3, [r2, #-207]
 1522 06c8 6D0100EA 		b	.L137
 1523              	.L48:
 1524              	.LBE658:
 1525              	.LBE657:
 380:main.c        ****             {
 381:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 382:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 383:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 384:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);  //U4   D
 385:main.c        ****                 input1Channel = 7;
 386:main.c        ****                 continue;
 387:main.c        ****             }
 388:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL8") == 0)
 1526              		.loc 2 388 0
 1527 06cc 0400A0E1 		mov	r0, r4
 1528 06d0 CC169FE5 		ldr	r1, .L152+88
 1529 06d4 FEFFFFEB 		bl	strcmp
 1530 06d8 000050E3 		cmp	r0, #0
 1531              	.LBB659:
 1532              	.LBB660:
 1533              		.loc 1 620 0
 1534 06dc 0B2CE003 		mvneq	r2, #2816
 1535 06e0 0133A003 		moveq	r3, #67108864
 1536              	.LBE660:
 1537              	.LBE659:
 1538              	.LBB661:
 1539              	.LBB662:
 1540              		.loc 1 609 0
 1541 06e4 0880A003 		moveq	r8, #8
 1542              	.LBE662:
 1543              	.LBE661:
 1544              	.LBB663:
 1545              	.LBB664:
 1546              		.loc 1 620 0
 1547 06e8 CB300205 		streq	r3, [r2, #-203]
 1548 06ec C301000A 		beq	.L149
 1549              	.L50:
 1550              	.LBE664:
 1551              	.LBE663:
 389:main.c        ****             {
 390:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 391:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 392:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 393:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 394:main.c        ****                 input1Channel = 8;
 395:main.c        ****                 continue;
 396:main.c        ****             }
 397:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL9") == 0)
 1552              		.loc 2 397 0
 1553 06f0 0400A0E1 		mov	r0, r4
 1554 06f4 AC169FE5 		ldr	r1, .L152+92
 1555 06f8 FEFFFFEB 		bl	strcmp
 1556 06fc 000050E3 		cmp	r0, #0
 1557 0700 C601001A 		bne	.L52
 1558              	.LBB665:
 1559              	.LBB666:
 1560              		.loc 1 609 0
 1561 0704 0B2CE0E3 		mvn	r2, #2816
 1562 0708 0133A0E3 		mov	r3, #67108864
 1563 070c CF3002E5 		str	r3, [r2, #-207]
 1564              	.LBE666:
 1565              	.LBE665:
 1566              	.LBB667:
 1567              	.LBB668:
 1568 0710 0980A0E3 		mov	r8, #9
 1569              	.L149:
 1570              	.LBE668:
 1571              	.LBE667:
 1572              	.LBB669:
 1573              	.LBB670:
 1574              		.loc 1 620 0
 1575 0714 FE3483E2 		add	r3, r3, #-33554432
 1576 0718 CB3002E5 		str	r3, [r2, #-203]
 1577 071c DA0100EA 		b	.L146
 1578              	.L52:
 1579              	.LBE670:
 1580              	.LBE669:
 398:main.c        ****             {
 399:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 400:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 401:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 402:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 403:main.c        ****                 input1Channel = 9;
 404:main.c        ****                 continue;
 405:main.c        ****             }
 406:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL10") == 0)
 1581              		.loc 2 406 0
 1582 0720 0400A0E1 		mov	r0, r4
 1583 0724 80169FE5 		ldr	r1, .L152+96
 1584 0728 FEFFFFEB 		bl	strcmp
 1585 072c 000050E3 		cmp	r0, #0
 1586              	.LBB671:
 1587              	.LBB672:
 1588              		.loc 1 620 0
 1589 0730 0B2CE003 		mvneq	r2, #2816
 1590 0734 0133A003 		moveq	r3, #67108864
 1591              	.LBE672:
 1592              	.LBE671:
 1593              	.LBB673:
 1594              	.LBB674:
 1595              		.loc 1 609 0
 1596 0738 0A80A003 		moveq	r8, #10
 1597              	.LBE674:
 1598              	.LBE673:
 1599              	.LBB675:
 1600              	.LBB676:
 1601              		.loc 1 620 0
 1602 073c CB300205 		streq	r3, [r2, #-203]
 1603 0740 D801000A 		beq	.L145
 1604              	.L54:
 1605              	.LBE676:
 1606              	.LBE675:
 407:main.c        ****             {
 408:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 409:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 410:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 411:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 412:main.c        ****                 input1Channel = 10;
 413:main.c        ****                 continue;
 414:main.c        ****             }
 415:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL11") == 0)
 1607              		.loc 2 415 0
 1608 0744 0400A0E1 		mov	r0, r4
 1609 0748 60169FE5 		ldr	r1, .L152+100
 1610 074c FEFFFFEB 		bl	strcmp
 1611 0750 000050E3 		cmp	r0, #0
 1612 0754 DD01001A 		bne	.L56
 1613              	.LBB677:
 1614              	.LBB678:
 1615              		.loc 1 609 0
 1616 0758 0B2CE0E3 		mvn	r2, #2816
 1617 075c 0133A0E3 		mov	r3, #67108864
 1618 0760 CF3002E5 		str	r3, [r2, #-207]
 1619              	.LBE678:
 1620              	.LBE677:
 1621              	.LBB679:
 1622              	.LBB680:
 1623 0764 0B80A0E3 		mov	r8, #11
 1624              	.L145:
 1625              	.LBE680:
 1626              	.LBE679:
 1627              	.LBB681:
 1628              	.LBB682:
 1629 0768 FE3483E2 		add	r3, r3, #-33554432
 1630 076c CF3002E5 		str	r3, [r2, #-207]
 1631              	.L146:
 1632              	.LBE682:
 1633              	.LBE681:
 1634              	.LBB683:
 1635              	.LBB684:
 1636              		.loc 1 620 0
 1637 0770 FF3483E2 		add	r3, r3, #-16777216
 1638 0774 CB3002E5 		str	r3, [r2, #-203]
 1639 0778 080200EA 		b	.L141
 1640              	.L56:
 1641              	.LBE684:
 1642              	.LBE683:
 416:main.c        ****             {
 417:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 418:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 419:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);  //U4   C
 420:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 421:main.c        ****                 input1Channel = 11;
 422:main.c        ****                 continue;
 423:main.c        ****             }
 424:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL12") == 0)
 1643              		.loc 2 424 0
 1644 077c 0400A0E1 		mov	r0, r4
 1645 0780 2C169FE5 		ldr	r1, .L152+104
 1646 0784 FEFFFFEB 		bl	strcmp
 1647 0788 000050E3 		cmp	r0, #0
 1648              	.LBB685:
 1649              	.LBB686:
 1650              		.loc 1 620 0
 1651 078c 0B2CE003 		mvneq	r2, #2816
 1652 0790 0133A003 		moveq	r3, #67108864
 1653              	.LBE686:
 1654              	.LBE685:
 1655              	.LBB687:
 1656              	.LBB688:
 1657              		.loc 1 609 0
 1658 0794 0C80A003 		moveq	r8, #12
 1659              	.LBE688:
 1660              	.LBE687:
 1661              	.LBB689:
 1662              	.LBB690:
 1663              		.loc 1 620 0
 1664 0798 CB300205 		streq	r3, [r2, #-203]
 1665 079c EF01000A 		beq	.L150
 1666              	.L58:
 1667              	.LBE690:
 1668              	.LBE689:
 425:main.c        ****             {
 426:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 427:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 428:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 429:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 430:main.c        ****                 input1Channel = 12;
 431:main.c        ****                 continue;
 432:main.c        ****             }
 433:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL13") == 0)
 1669              		.loc 2 433 0
 1670 07a0 0400A0E1 		mov	r0, r4
 1671 07a4 0C169FE5 		ldr	r1, .L152+108
 1672 07a8 FEFFFFEB 		bl	strcmp
 1673 07ac 000050E3 		cmp	r0, #0
 1674 07b0 F201001A 		bne	.L60
 1675              	.LBB691:
 1676              	.LBB692:
 1677              		.loc 1 609 0
 1678 07b4 0B2CE0E3 		mvn	r2, #2816
 1679 07b8 0133A0E3 		mov	r3, #67108864
 1680 07bc CF3002E5 		str	r3, [r2, #-207]
 1681              	.LBE692:
 1682              	.LBE691:
 1683              	.LBB693:
 1684              	.LBB694:
 1685 07c0 0D80A0E3 		mov	r8, #13
 1686              	.L150:
 1687              	.LBE694:
 1688              	.LBE693:
 1689              	.LBB695:
 1690              	.LBB696:
 1691              		.loc 1 620 0
 1692 07c4 FE3483E2 		add	r3, r3, #-33554432
 1693 07c8 CB3002E5 		str	r3, [r2, #-203]
 1694 07cc 060200EA 		b	.L148
 1695              	.L60:
 1696              	.LBE696:
 1697              	.LBE695:
 434:main.c        ****             {
 435:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 436:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);  //U4   B
 437:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 438:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 439:main.c        ****                 input1Channel = 13;
 440:main.c        ****                 continue;
 441:main.c        ****             }
 442:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL14") == 0)
 1698              		.loc 2 442 0
 1699 07d0 0400A0E1 		mov	r0, r4
 1700 07d4 E0159FE5 		ldr	r1, .L152+112
 1701 07d8 FEFFFFEB 		bl	strcmp
 1702 07dc 000050E3 		cmp	r0, #0
 1703              	.LBB697:
 1704              	.LBB698:
 1705              		.loc 1 620 0
 1706 07e0 0B2CE003 		mvneq	r2, #2816
 1707 07e4 0133A003 		moveq	r3, #67108864
 1708              	.LBE698:
 1709              	.LBE697:
 1710              	.LBB699:
 1711              	.LBB700:
 1712              		.loc 1 609 0
 1713 07e8 0E80A003 		moveq	r8, #14
 1714              	.LBE700:
 1715              	.LBE699:
 1716              	.LBB701:
 1717              	.LBB702:
 1718              		.loc 1 620 0
 1719 07ec CB300205 		streq	r3, [r2, #-203]
 1720 07f0 0402000A 		beq	.L147
 1721              	.L62:
 1722              	.LBE702:
 1723              	.LBE701:
 443:main.c        ****             {
 444:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);  //U4   A
 445:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 446:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 447:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 448:main.c        ****                 input1Channel = 14;
 449:main.c        ****                 continue;
 450:main.c        ****             }
 451:main.c        ****             if (strcmp((char*) cmdParts, "SETINPUT1CHANNEL15") == 0)
 1724              		.loc 2 451 0
 1725 07f4 0400A0E1 		mov	r0, r4
 1726 07f8 C0159FE5 		ldr	r1, .L152+116
 1727 07fc FEFFFFEB 		bl	strcmp
 1728 0800 000050E3 		cmp	r0, #0
 1729 0804 0A02001A 		bne	.L64
 1730              	.LBB703:
 1731              	.LBB704:
 1732              		.loc 1 609 0
 1733 0808 0B2CE0E3 		mvn	r2, #2816
 1734 080c 0133A0E3 		mov	r3, #67108864
 1735 0810 CF3002E5 		str	r3, [r2, #-207]
 1736              	.LBE704:
 1737              	.LBE703:
 1738              	.LBB705:
 1739              	.LBB706:
 1740 0814 0F80A0E3 		mov	r8, #15
 1741              	.L147:
 1742              	.LBE706:
 1743              	.LBE705:
 1744              	.LBB707:
 1745              	.LBB708:
 1746 0818 FE3483E2 		add	r3, r3, #-33554432
 1747 081c CF3002E5 		str	r3, [r2, #-207]
 1748              	.L148:
 1749              	.LBE708:
 1750              	.LBE707:
 1751              	.LBB709:
 1752              	.LBB710:
 1753 0820 FF3483E2 		add	r3, r3, #-16777216
 1754 0824 CF3002E5 		str	r3, [r2, #-207]
 1755              	.L141:
 1756              	.LBE710:
 1757              	.LBE709:
 1758              	.LBB711:
 1759              	.LBB712:
 1760 0828 0139A0E3 		mov	r3, #16384
 1761 082c F90200EA 		b	.L131
 1762              	.L64:
 1763              	.LBE712:
 1764              	.LBE711:
 452:main.c        ****             {
 453:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA26);    //U4   A
 454:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA25);    //U4   B
 455:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA24);    //U4   C
 456:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA14);    //U4   D
 457:main.c        ****                 input1Channel = 15;
 458:main.c        ****                 continue;
 459:main.c        ****             }
 460:main.c        ****             if (strcmp((char*) cmdParts, "STARTINPUT1READINGS") == 0)
 1765              		.loc 2 460 0
 1766 0830 0400A0E1 		mov	r0, r4
 1767 0834 88159FE5 		ldr	r1, .L152+120
 1768 0838 FEFFFFEB 		bl	strcmp
 1769 083c 000050E3 		cmp	r0, #0
 1770              	.LBE596:
 1771              	.LBB713:
 1772              	.LBB714:
 1773              	.LBB715:
 1774              	.LBB716:
 1775              		.loc 2 240 0
 1776 0840 01A0A003 		moveq	sl, #1
 1777              	.LBE716:
 1778              	.LBE715:
 1779              	.LBE714:
 1780              	.LBE713:
 1781              	.LBB717:
 1782              		.loc 2 460 0
 1783 0844 1901000A 		beq	.L151
 461:main.c        ****             {
 462:main.c        ****                 input1Readings = 1;
 463:main.c        ****                 continue;
 464:main.c        ****             }
 465:main.c        ****             if (strcmp((char*) cmdParts, "STOPINPUT1READINGS") == 0)
 1784              		.loc 2 465 0
 1785 0848 0400A0E1 		mov	r0, r4
 1786 084c 74159FE5 		ldr	r1, .L152+124
 1787 0850 FEFFFFEB 		bl	strcmp
 1788 0854 000050E3 		cmp	r0, #0
 1789 0858 00A0A001 		moveq	sl, r0
 1790 085c 1901000A 		beq	.L151
 466:main.c        ****             {
 467:main.c        ****                 input1Readings = 0;
 468:main.c        ****                 continue;
 469:main.c        ****             }
 470:main.c        ****             //SETCAMERASERVODUTY#5
 471:main.c        ****             //SETCAMERASERVODUTY#8
 472:main.c        ****             //SETCAMERASERVODUTY#20
 473:main.c        ****             //SETCAMERASERVODUTY#40
 474:main.c        ****             if (strcmp((char*) cmdParts, "SETCAMERASERVODUTY") == 0)
 1791              		.loc 2 474 0
 1792 0860 0400A0E1 		mov	r0, r4
 1793 0864 60159FE5 		ldr	r1, .L152+128
 1794 0868 FEFFFFEB 		bl	strcmp
 1795 086c 007050E2 		subs	r7, r0, #0
 1796 0870 3102001A 		bne	.L69
 475:main.c        ****             {
 476:main.c        ****                 cameraServoDuty = atoi(strtok( NULL, "#" ));
 1797              		.loc 2 476 0
 1798 0874 F4149FE5 		ldr	r1, .L152+36
 1799 0878 FEFFFFEB 		bl	strtok
 1800 087c FEFFFFEB 		bl	atoi
 1801              	.LBB718:
 1802              	.LBB719:
 1803              		.loc 1 2915 0
 1804 0880 CC649FE5 		ldr	r6, .L152+8
 1805              	.LBE719:
 1806              	.LBE718:
 1807              	.LBB720:
 1808              	.LBB721:
 1809              		.loc 1 495 0
 1810 0884 0440A0E3 		mov	r4, #4
 1811              	.LVL13:
 1812 0888 0B3CE0E3 		mvn	r3, #2816
 1813              	.LBE721:
 1814              	.LBE720:
 1815              		.loc 2 476 0
 1816 088c 0050A0E1 		mov	r5, r0
 1817              	.LBB722:
 1818              	.LBB723:
 1819              		.loc 1 495 0
 1820 0890 8F4003E5 		str	r4, [r3, #-143]
 1821              	.LBE723:
 1822              	.LBE722:
 477:main.c        **** 
 478:main.c        ****                 AT91F_PIO_CfgPeriph(AT91C_BASE_PIOA, AT91C_PA2_PWM2, 0);
 479:main.c        ****                 AT91F_PWMC_InterruptDisable(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 480:main.c        ****                 AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 481:main.c        ****                 AT91F_PWMC_UpdateChannel(AT91C_BASE_PWMC, 2, AT91C_PWMC_CHID2);
 482:main.c        ****                 pwmFreqSet(2, 60);
 1823              		.loc 2 482 0
 1824 0894 3C10A0E3 		mov	r1, #60
 1825              	.LBB724:
 1826              	.LBB725:
 1827              		.loc 1 496 0
 1828 0898 8B7003E5 		str	r7, [r3, #-139]
 1829              	.LBE725:
 1830              	.LBE724:
 1831              		.loc 2 482 0
 1832 089c 0200A0E3 		mov	r0, #2
 1833              	.LBB726:
 1834              	.LBB727:
 1835              		.loc 1 497 0
 1836 08a0 FB4003E5 		str	r4, [r3, #-251]
 1837              	.LBE727:
 1838              	.LBE726:
 483:main.c        ****                 pwmDutySet_u8(2, cameraServoDuty);
 1839              		.loc 2 483 0
 1840 08a4 0558A0E1 		mov	r5, r5, asl #16
 1841              	.LBB728:
 1842              	.LBB729:
 1843              		.loc 1 2915 0
 1844 08a8 EB4006E5 		str	r4, [r6, #-235]
 1845              	.LBE729:
 1846              	.LBE728:
 1847              	.LBB730:
 1848              	.LBB731:
 1849              		.loc 1 2985 0
 1850 08ac F74006E5 		str	r4, [r6, #-247]
 1851              	.LBE731:
 1852              	.LBE730:
 1853              	.LBB732:
 1854              	.LBB733:
 1855              		.loc 1 2997 0
 1856 08b0 514186E5 		str	r4, [r6, #337]
 1857              	.LBE733:
 1858              	.LBE732:
 1859              		.loc 2 482 0
 1860 08b4 FEFFFFEB 		bl	pwmFreqSet
 1861              		.loc 2 483 0
 1862 08b8 2518A0E1 		mov	r1, r5, lsr #16
 1863 08bc 0200A0E3 		mov	r0, #2
 1864 08c0 FEFFFFEB 		bl	pwmDutySet_u8
 1865              	.LBB734:
 1866              	.LBB735:
 1867              		.loc 1 2974 0
 1868 08c4 FB4006E5 		str	r4, [r6, #-251]
 1869 08c8 190100EA 		b	.L151
 1870              	.LVL14:
 1871              	.L69:
 1872              	.LBE735:
 1873              	.LBE734:
 484:main.c        ****                 AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 485:main.c        ****                 continue;
 486:main.c        ****             }
 487:main.c        ****             if (strcmp((char*) cmdParts, "DISABLECAMERASERVO") == 0)
 1874              		.loc 2 487 0
 1875 08cc 0400A0E1 		mov	r0, r4
 1876 08d0 F8149FE5 		ldr	r1, .L152+132
 1877 08d4 FEFFFFEB 		bl	strcmp
 1878 08d8 000050E3 		cmp	r0, #0
 1879 08dc 4002001A 		bne	.L71
 1880              	.LBB736:
 1881              	.LBB737:
 1882              		.loc 1 2985 0
 1883 08e0 6C349FE5 		ldr	r3, .L152+8
 1884 08e4 0420A0E3 		mov	r2, #4
 1885              	.LBE737:
 1886              	.LBE736:
 488:main.c        ****             {
 489:main.c        ****                 AT91F_PWMC_StopChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID2);
 490:main.c        ****                 sprintf((char *)msg,"CAMERA SERVO DISABLED\n");
 1887              		.loc 2 490 0
 1888 08e8 E4149FE5 		ldr	r1, .L152+136
 1889              	.LBB738:
 1890              	.LBB739:
 1891              		.loc 1 2985 0
 1892 08ec F72003E5 		str	r2, [r3, #-247]
 1893              	.LBE739:
 1894              	.LBE738:
 1895              		.loc 2 490 0
 1896 08f0 74049FE5 		ldr	r0, .L152+32
 1897 08f4 FEFFFFEB 		bl	strcpy
 491:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 1898              		.loc 2 491 0
 1899 08f8 6C049FE5 		ldr	r0, .L152+32
 1900 08fc 4C449FE5 		ldr	r4, .L152+4
 1901              	.LVL15:
 1902 0900 FEFFFFEB 		bl	strlen
 1903 0904 360300EA 		b	.L128
 1904              	.LVL16:
 1905              	.L71:
 492:main.c        ****                 continue;
 493:main.c        ****             }
 494:main.c        ****             //SETLINK1DRIVEDUTY#1
 495:main.c        ****             //SETLINK1DRIVEDUTY#5
 496:main.c        ****             //SETLINK1DRIVEDUTY#10
 497:main.c        ****             //SETLINK1DRIVEDUTY#20
 498:main.c        ****             //SETLINK1DRIVEDUTY#30
 499:main.c        ****             //SETLINK1DRIVEDUTY#40
 500:main.c        ****             //SETLINK1DRIVEDUTY#50
 501:main.c        ****             //SETLINK1DRIVEDUTY#60
 502:main.c        ****             //SETLINK1DRIVEDUTY#70
 503:main.c        ****             //SETLINK1DRIVEDUTY#80
 504:main.c        ****             //SETLINK1DRIVEDUTY#90
 505:main.c        ****             //SETLINK1DRIVEDUTY#100
 506:main.c        ****             if (strcmp((char*) cmdParts, "SETLINK1DRIVEDUTY") == 0)
 1906              		.loc 2 506 0
 1907 0908 0400A0E1 		mov	r0, r4
 1908 090c C4149FE5 		ldr	r1, .L152+140
 1909 0910 FEFFFFEB 		bl	strcmp
 1910 0914 005050E2 		subs	r5, r0, #0
 1911 0918 4E02001A 		bne	.L73
 507:main.c        ****             {
 508:main.c        ****                 link1DriveDuty = atoi(strtok( NULL, "#" ));
 1912              		.loc 2 508 0
 1913 091c 4C149FE5 		ldr	r1, .L152+36
 1914 0920 FEFFFFEB 		bl	strtok
 1915 0924 FEFFFFEB 		bl	atoi
 509:main.c        ****                 pwmDutySetPercent(0, link1DriveDuty);
 1916              		.loc 2 509 0
 1917 0928 0018A0E1 		mov	r1, r0, asl #16
 1918 092c 2118A0E1 		mov	r1, r1, lsr #16
 1919 0930 0500A0E1 		mov	r0, r5
 1920 0934 FEFFFFEB 		bl	pwmDutySetPercent
 1921              	.LBB740:
 1922              	.LBB741:
 1923              		.loc 1 2974 0
 1924 0938 0120A0E3 		mov	r2, #1
 1925 093c 9F0200EA 		b	.L135
 1926              	.L73:
 1927              	.LBE741:
 1928              	.LBE740:
 510:main.c        ****                 AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID0);
 511:main.c        ****                 continue;
 512:main.c        ****             }
 513:main.c        ****             if (strcmp((char*) cmdParts, "LINK1GETUP") == 0)
 1929              		.loc 2 513 0
 1930 0940 0400A0E1 		mov	r0, r4
 1931 0944 90149FE5 		ldr	r1, .L152+144
 1932 0948 FEFFFFEB 		bl	strcmp
 1933 094c 000050E3 		cmp	r0, #0
 1934              	.LBB742:
 1935              	.LBB743:
 1936              		.loc 1 620 0
 1937 0950 0820A003 		moveq	r2, #8
 1938 0954 0B3CE003 		mvneq	r3, #2816
 1939 0958 CB200305 		streq	r2, [r3, #-203]
 1940              	.LBE743:
 1941              	.LBE742:
 1942              	.LBB744:
 1943              	.LBB745:
 1944              		.loc 1 609 0
 1945 095c 0222A003 		moveq	r2, #536870912
 1946 0960 AB02000A 		beq	.L134
 1947              	.L75:
 1948              	.LBE745:
 1949              	.LBE744:
 514:main.c        ****             {
 515:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA3);  //link1DriveINa
 516:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA29);   //link1DriveINb
 517:main.c        ****                 continue;
 518:main.c        ****             }
 519:main.c        ****             if (strcmp((char*) cmdParts, "LINK1GETDOWN") == 0)
 1950              		.loc 2 519 0
 1951 0964 0400A0E1 		mov	r0, r4
 1952 0968 70149FE5 		ldr	r1, .L152+148
 1953 096c FEFFFFEB 		bl	strcmp
 1954 0970 000050E3 		cmp	r0, #0
 1955              	.LBB746:
 1956              	.LBB747:
 1957              		.loc 1 609 0
 1958 0974 0B3CE003 		mvneq	r3, #2816
 1959 0978 0820A003 		moveq	r2, #8
 1960 097c CF200305 		streq	r2, [r3, #-207]
 1961              	.LBE747:
 1962              	.LBE746:
 1963              		.loc 2 519 0
 1964 0980 6702000A 		beq	.L139
 520:main.c        ****             {
 521:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA3);    //link1DriveINa
 522:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA29); //link1DriveINb
 523:main.c        ****                 continue;
 524:main.c        ****             }
 525:main.c        ****             if (strcmp((char*) cmdParts, "LINK1STOP") == 0)
 1965              		.loc 2 525 0
 1966 0984 0400A0E1 		mov	r0, r4
 1967 0988 54149FE5 		ldr	r1, .L152+152
 1968 098c FEFFFFEB 		bl	strcmp
 1969 0990 000050E3 		cmp	r0, #0
 1970 0994 6902001A 		bne	.L79
 1971              	.LBB748:
 1972              	.LBB749:
 1973              		.loc 1 620 0
 1974 0998 0B3CE0E3 		mvn	r3, #2816
 1975 099c 0820A0E3 		mov	r2, #8
 1976 09a0 CB2003E5 		str	r2, [r3, #-203]
 1977              	.L139:
 1978              	.LBE749:
 1979              	.LBE748:
 1980              	.LBB750:
 1981              	.LBB751:
 1982 09a4 0222A0E3 		mov	r2, #536870912
 1983 09a8 BE0200EA 		b	.L133
 1984              	.L79:
 1985              	.LBE751:
 1986              	.LBE750:
 526:main.c        ****             {
 527:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA3);  //link1DriveINa
 528:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA29); //link1DriveINb
 529:main.c        ****                 continue;
 530:main.c        ****             }
 531:main.c        ****             //SETLINK2DRIVEDUTY#1
 532:main.c        ****             //SETLINK2DRIVEDUTY#5
 533:main.c        ****             //SETLINK2DRIVEDUTY#10
 534:main.c        ****             //SETLINK2DRIVEDUTY#20
 535:main.c        ****             //SETLINK2DRIVEDUTY#30
 536:main.c        ****             //SETLINK2DRIVEDUTY#40
 537:main.c        ****             //SETLINK2DRIVEDUTY#50
 538:main.c        ****             //SETLINK2DRIVEDUTY#60
 539:main.c        ****             //SETLINK2DRIVEDUTY#70
 540:main.c        ****             //SETLINK2DRIVEDUTY#80
 541:main.c        ****             //SETLINK2DRIVEDUTY#90
 542:main.c        ****             //SETLINK2DRIVEDUTY#100
 543:main.c        ****             if (strcmp((char*) cmdParts, "SETLINK2DRIVEDUTY") == 0)
 1987              		.loc 2 543 0
 1988 09ac 0400A0E1 		mov	r0, r4
 1989 09b0 30149FE5 		ldr	r1, .L152+156
 1990 09b4 FEFFFFEB 		bl	strcmp
 1991 09b8 000050E3 		cmp	r0, #0
 1992 09bc 7702001A 		bne	.L81
 544:main.c        ****             {
 545:main.c        ****                 link2DriveDuty = atoi(strtok( NULL, "#" ));
 1993              		.loc 2 545 0
 1994 09c0 A8139FE5 		ldr	r1, .L152+36
 1995 09c4 FEFFFFEB 		bl	strtok
 1996 09c8 FEFFFFEB 		bl	atoi
 546:main.c        ****                 pwmDutySetPercent(1, link2DriveDuty);
 1997              		.loc 2 546 0
 1998 09cc 0018A0E1 		mov	r1, r0, asl #16
 1999 09d0 2118A0E1 		mov	r1, r1, lsr #16
 2000 09d4 0100A0E3 		mov	r0, #1
 2001 09d8 FEFFFFEB 		bl	pwmDutySetPercent
 2002              	.LBB752:
 2003              	.LBB753:
 2004              		.loc 1 2974 0
 2005 09dc 0220A0E3 		mov	r2, #2
 2006 09e0 9F0200EA 		b	.L135
 2007              	.L81:
 2008              	.LBE753:
 2009              	.LBE752:
 547:main.c        ****                 AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID1);
 548:main.c        ****                 continue;
 549:main.c        ****             }
 550:main.c        ****             if (strcmp((char*) cmdParts, "LINK2GETUP") == 0)
 2010              		.loc 2 550 0
 2011 09e4 0400A0E1 		mov	r0, r4
 2012 09e8 FC139FE5 		ldr	r1, .L152+160
 2013 09ec FEFFFFEB 		bl	strcmp
 2014 09f0 000050E3 		cmp	r0, #0
 2015              	.LBB754:
 2016              	.LBB755:
 2017              		.loc 1 620 0
 2018 09f4 0122A003 		moveq	r2, #268435456
 2019 09f8 0B3CE003 		mvneq	r3, #2816
 2020 09fc CB200305 		streq	r2, [r3, #-203]
 2021              	.LBE755:
 2022              	.LBE754:
 2023              	.LBB756:
 2024              	.LBB757:
 2025              		.loc 1 609 0
 2026 0a00 3E238202 		addeq	r2, r2, #-134217728
 2027 0a04 AB02000A 		beq	.L134
 2028              	.L83:
 2029              	.LBE757:
 2030              	.LBE756:
 551:main.c        ****             {
 552:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA28);  //link2DriveINa
 553:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA27);    //link2DriveINb
 554:main.c        ****                 continue;
 555:main.c        ****             }
 556:main.c        ****             if (strcmp((char*) cmdParts, "LINK2GETDOWN") == 0)
 2031              		.loc 2 556 0
 2032 0a08 0400A0E1 		mov	r0, r4
 2033 0a0c DC139FE5 		ldr	r1, .L152+164
 2034 0a10 FEFFFFEB 		bl	strcmp
 2035 0a14 000050E3 		cmp	r0, #0
 2036              	.LBB758:
 2037              	.LBB759:
 2038              		.loc 1 609 0
 2039 0a18 0B3CE003 		mvneq	r3, #2816
 2040 0a1c 0122A003 		moveq	r2, #268435456
 2041 0a20 CF200305 		streq	r2, [r3, #-207]
 2042              	.LBE759:
 2043              	.LBE758:
 2044              		.loc 2 556 0
 2045 0a24 9002000A 		beq	.L138
 557:main.c        ****             {
 558:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA28);   //link2DriveINa
 559:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA27); //link2DriveINb
 560:main.c        ****                 continue;
 561:main.c        ****             }
 562:main.c        ****             if (strcmp((char*) cmdParts, "LINK2STOP") == 0)
 2046              		.loc 2 562 0
 2047 0a28 0400A0E1 		mov	r0, r4
 2048 0a2c C0139FE5 		ldr	r1, .L152+168
 2049 0a30 FEFFFFEB 		bl	strcmp
 2050 0a34 000050E3 		cmp	r0, #0
 2051 0a38 9202001A 		bne	.L87
 2052              	.LBB760:
 2053              	.LBB761:
 2054              		.loc 1 620 0
 2055 0a3c 0B3CE0E3 		mvn	r3, #2816
 2056 0a40 0122A0E3 		mov	r2, #268435456
 2057 0a44 CB2003E5 		str	r2, [r3, #-203]
 2058              	.L138:
 2059              	.LBE761:
 2060              	.LBE760:
 2061              	.LBB762:
 2062              	.LBB763:
 2063 0a48 3E2382E2 		add	r2, r2, #-134217728
 2064 0a4c BE0200EA 		b	.L133
 2065              	.L87:
 2066              	.LBE763:
 2067              	.LBE762:
 563:main.c        ****             {
 564:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA28); //link2DriveINa
 565:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA27); //link2DriveINb
 566:main.c        ****                 continue;
 567:main.c        ****             }
 568:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#1
 569:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#5
 570:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#10
 571:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#20
 572:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#30
 573:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#40
 574:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#50
 575:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#60
 576:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#70
 577:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#80
 578:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#90
 579:main.c        ****             //SETGRIPPERROTATEDRIVEDUTY#100
 580:main.c        ****             if (strcmp((char*) cmdParts, "SETGRIPPERROTATEDRIVEDUTY") == 0)
 2068              		.loc 2 580 0
 2069 0a50 0400A0E1 		mov	r0, r4
 2070 0a54 9C139FE5 		ldr	r1, .L152+172
 2071 0a58 FEFFFFEB 		bl	strcmp
 2072 0a5c 000050E3 		cmp	r0, #0
 2073 0a60 A202001A 		bne	.L89
 581:main.c        ****             {
 582:main.c        ****                 gripperRotateDriveDuty = atoi(strtok( NULL, "#" ));
 2074              		.loc 2 582 0
 2075 0a64 04139FE5 		ldr	r1, .L152+36
 2076 0a68 FEFFFFEB 		bl	strtok
 2077 0a6c FEFFFFEB 		bl	atoi
 583:main.c        ****                 pwmDutySetPercent(3, gripperRotateDriveDuty);
 2078              		.loc 2 583 0
 2079 0a70 0018A0E1 		mov	r1, r0, asl #16
 2080 0a74 2118A0E1 		mov	r1, r1, lsr #16
 2081 0a78 0300A0E3 		mov	r0, #3
 2082 0a7c FEFFFFEB 		bl	pwmDutySetPercent
 2083              	.LBB764:
 2084              	.LBB765:
 2085              		.loc 1 2974 0
 2086 0a80 0820A0E3 		mov	r2, #8
 2087              	.L135:
 2088 0a84 C8329FE5 		ldr	r3, .L152+8
 2089 0a88 FB2003E5 		str	r2, [r3, #-251]
 2090 0a8c 190100EA 		b	.L151
 2091              	.L89:
 2092              	.LBE765:
 2093              	.LBE764:
 584:main.c        ****                 AT91F_PWMC_StartChannel(AT91C_BASE_PWMC, AT91C_PWMC_CHID3);
 585:main.c        ****                 continue;
 586:main.c        ****             }
 587:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERROTATECW") == 0)
 2094              		.loc 2 587 0
 2095 0a90 0400A0E1 		mov	r0, r4
 2096 0a94 60139FE5 		ldr	r1, .L152+176
 2097 0a98 FEFFFFEB 		bl	strcmp
 2098 0a9c 000050E3 		cmp	r0, #0
 2099 0aa0 AD02001A 		bne	.L91
 2100              	.LBB766:
 2101              	.LBB767:
 2102              		.loc 1 620 0
 2103 0aa4 1020A0E3 		mov	r2, #16
 2104 0aa8 0B3CE0E3 		mvn	r3, #2816
 2105 0aac CB2003E5 		str	r2, [r3, #-203]
 2106              	.LBE767:
 2107              	.LBE766:
 2108              	.LBB768:
 2109              	.LBB769:
 2110              		.loc 1 609 0
 2111 0ab0 022082E0 		add	r2, r2, r2
 2112              	.L134:
 2113 0ab4 CF2003E5 		str	r2, [r3, #-207]
 2114 0ab8 190100EA 		b	.L151
 2115              	.L91:
 2116              	.LBE769:
 2117              	.LBE768:
 588:main.c        ****             {
 589:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA4);  //gripperRotate IN1
 590:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA5);    //gripperRotate IN2
 591:main.c        ****                 continue;
 592:main.c        ****             }
 593:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERROTATECCW") == 0)
 2118              		.loc 2 593 0
 2119 0abc 0400A0E1 		mov	r0, r4
 2120 0ac0 38139FE5 		ldr	r1, .L152+180
 2121 0ac4 FEFFFFEB 		bl	strcmp
 2122 0ac8 000050E3 		cmp	r0, #0
 2123              	.LBB770:
 2124              	.LBB771:
 2125              		.loc 1 609 0
 2126 0acc 0B3CE003 		mvneq	r3, #2816
 2127 0ad0 1020A003 		moveq	r2, #16
 2128 0ad4 CF200305 		streq	r2, [r3, #-207]
 2129              	.LBE771:
 2130              	.LBE770:
 2131              		.loc 2 593 0
 2132 0ad8 BD02000A 		beq	.L132
 594:main.c        ****             {
 595:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA4);    //gripperRotate IN1
 596:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA5);  //gripperRotate IN2
 597:main.c        ****                 continue;
 598:main.c        ****             }
 599:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERROTATESTOP") == 0)
 2133              		.loc 2 599 0
 2134 0adc 0400A0E1 		mov	r0, r4
 2135 0ae0 1C139FE5 		ldr	r1, .L152+184
 2136 0ae4 FEFFFFEB 		bl	strcmp
 2137 0ae8 000050E3 		cmp	r0, #0
 2138 0aec C002001A 		bne	.L95
 2139              	.LBB772:
 2140              	.LBB773:
 2141              		.loc 1 620 0
 2142 0af0 0B3CE0E3 		mvn	r3, #2816
 2143 0af4 1020A0E3 		mov	r2, #16
 2144 0af8 CB2003E5 		str	r2, [r3, #-203]
 2145              	.L132:
 2146              	.LBE773:
 2147              	.LBE772:
 2148              	.LBB774:
 2149              	.LBB775:
 2150 0afc 022082E0 		add	r2, r2, r2
 2151              	.L133:
 2152 0b00 CB2003E5 		str	r2, [r3, #-203]
 2153 0b04 190100EA 		b	.L151
 2154              	.L95:
 2155              	.LBE775:
 2156              	.LBE774:
 600:main.c        ****             {
 601:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA4);  //gripperRotate IN1
 602:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA5);  //gripperRotate IN2
 603:main.c        ****                 continue;
 604:main.c        ****             }
 605:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERTILTGETUP") == 0)
 2157              		.loc 2 605 0
 2158 0b08 0400A0E1 		mov	r0, r4
 2159 0b0c F4129FE5 		ldr	r1, .L152+188
 2160 0b10 FEFFFFEB 		bl	strcmp
 2161 0b14 000050E3 		cmp	r0, #0
 2162 0b18 CB02001A 		bne	.L97
 2163              	.LBB776:
 2164              	.LBB777:
 2165              		.loc 1 620 0
 2166 0b1c 0B2CE0E3 		mvn	r2, #2816
 2167 0b20 013AA0E3 		mov	r3, #4096
 2168 0b24 CB3002E5 		str	r3, [r2, #-203]
 2169              	.LBE777:
 2170              	.LBE776:
 2171              	.LBB778:
 2172              	.LBB779:
 2173              		.loc 1 609 0
 2174 0b28 023B43E2 		sub	r3, r3, #2048
 2175 0b2c CF3002E5 		str	r3, [r2, #-207]
 2176 0b30 D50200EA 		b	.L140
 2177              	.L97:
 2178              	.LBE779:
 2179              	.LBE778:
 606:main.c        ****             {
 607:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA12); //gripperTilt IN1
 608:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA11);   //gripperTilt IN2
 609:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA6);    //gripperTilt ENA
 610:main.c        ****                 continue;
 611:main.c        ****             }
 612:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERTILTGETDOWN") == 0)
 2180              		.loc 2 612 0
 2181 0b34 0400A0E1 		mov	r0, r4
 2182 0b38 CC129FE5 		ldr	r1, .L152+192
 2183 0b3c FEFFFFEB 		bl	strcmp
 2184 0b40 000050E3 		cmp	r0, #0
 2185 0b44 D702001A 		bne	.L99
 2186              	.LBB780:
 2187              	.LBB781:
 2188              		.loc 1 609 0
 2189 0b48 0B2CE0E3 		mvn	r2, #2816
 2190 0b4c 013AA0E3 		mov	r3, #4096
 2191 0b50 CF3002E5 		str	r3, [r2, #-207]
 2192              	.LBE781:
 2193              	.LBE780:
 2194              	.LBB782:
 2195              	.LBB783:
 2196              		.loc 1 620 0
 2197 0b54 023B43E2 		sub	r3, r3, #2048
 2198 0b58 CB3002E5 		str	r3, [r2, #-203]
 2199              	.L140:
 2200              	.LBE783:
 2201              	.LBE782:
 2202              	.LBB784:
 2203              	.LBB785:
 2204              		.loc 1 609 0
 2205 0b5c 1F3D43E2 		sub	r3, r3, #1984
 2206 0b60 F90200EA 		b	.L131
 2207              	.L99:
 2208              	.LBE785:
 2209              	.LBE784:
 613:main.c        ****             {
 614:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA12);   //gripperTilt IN1
 615:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA11); //gripperTilt IN2
 616:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA6);    //gripperTilt ENA
 617:main.c        ****                 continue;
 618:main.c        ****             }
 619:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERTILTSTOP") == 0)
 2210              		.loc 2 619 0
 2211 0b64 0400A0E1 		mov	r0, r4
 2212 0b68 A0129FE5 		ldr	r1, .L152+196
 2213 0b6c FEFFFFEB 		bl	strcmp
 2214 0b70 000050E3 		cmp	r0, #0
 2215 0b74 E302001A 		bne	.L101
 2216              	.LBB786:
 2217              	.LBB787:
 2218              		.loc 1 620 0
 2219 0b78 0B2CE0E3 		mvn	r2, #2816
 2220 0b7c 013AA0E3 		mov	r3, #4096
 2221 0b80 CB3002E5 		str	r3, [r2, #-203]
 2222              	.LBE787:
 2223              	.LBE786:
 2224              	.LBB788:
 2225              	.LBB789:
 2226 0b84 023B43E2 		sub	r3, r3, #2048
 2227 0b88 CB3002E5 		str	r3, [r2, #-203]
 2228              	.LBE789:
 2229              	.LBE788:
 2230              	.LBB790:
 2231              	.LBB791:
 2232 0b8c 1F3D43E2 		sub	r3, r3, #1984
 2233 0b90 6E0100EA 		b	.L129
 2234              	.L101:
 2235              	.LBE791:
 2236              	.LBE790:
 620:main.c        ****             {
 621:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA12); //gripperTilt IN1
 622:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA11); //gripperTilt IN2
 623:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA6);  //gripperTilt ENA
 624:main.c        ****                 continue;
 625:main.c        ****             }
 626:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERPOSITIONCLOSE") == 0)
 2237              		.loc 2 626 0
 2238 0b94 0400A0E1 		mov	r0, r4
 2239 0b98 74129FE5 		ldr	r1, .L152+200
 2240 0b9c FEFFFFEB 		bl	strcmp
 2241 0ba0 000050E3 		cmp	r0, #0
 2242 0ba4 EE02001A 		bne	.L103
 2243              	.LBB792:
 2244              	.LBB793:
 2245              		.loc 1 620 0
 2246 0ba8 0B2CE0E3 		mvn	r2, #2816
 2247 0bac 023CA0E3 		mov	r3, #512
 2248 0bb0 CB3002E5 		str	r3, [r2, #-203]
 2249              	.LBE793:
 2250              	.LBE792:
 2251              	.LBB794:
 2252              	.LBB795:
 2253              		.loc 1 609 0
 2254 0bb4 033083E0 		add	r3, r3, r3
 2255 0bb8 CF3002E5 		str	r3, [r2, #-207]
 2256 0bbc F80200EA 		b	.L130
 2257              	.L103:
 2258              	.LBE795:
 2259              	.LBE794:
 627:main.c        ****             {
 628:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA9); //gripperPosition IN3
 629:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA10);   //gripperPosition IN4
 630:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA8);    //gripperPosition ENB
 631:main.c        ****                 continue;
 632:main.c        ****             }
 633:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERPOSITIONOPEN") == 0)
 2260              		.loc 2 633 0
 2261 0bc0 0400A0E1 		mov	r0, r4
 2262 0bc4 4C129FE5 		ldr	r1, .L152+204
 2263 0bc8 FEFFFFEB 		bl	strcmp
 2264 0bcc 000050E3 		cmp	r0, #0
 2265 0bd0 FB02001A 		bne	.L105
 2266              	.LBB796:
 2267              	.LBB797:
 2268              		.loc 1 609 0
 2269 0bd4 0B2CE0E3 		mvn	r2, #2816
 2270 0bd8 023CA0E3 		mov	r3, #512
 2271 0bdc CF3002E5 		str	r3, [r2, #-207]
 2272              	.LBE797:
 2273              	.LBE796:
 2274              	.LBB798:
 2275              	.LBB799:
 2276              		.loc 1 620 0
 2277 0be0 033083E0 		add	r3, r3, r3
 2278 0be4 CB3002E5 		str	r3, [r2, #-203]
 2279              	.L130:
 2280              	.LBE799:
 2281              	.LBE798:
 2282              	.LBB800:
 2283              	.LBB801:
 2284              		.loc 1 609 0
 2285 0be8 033C43E2 		sub	r3, r3, #768
 2286              	.L131:
 2287 0bec CF3002E5 		str	r3, [r2, #-207]
 2288 0bf0 190100EA 		b	.L151
 2289              	.L105:
 2290              	.LBE801:
 2291              	.LBE800:
 634:main.c        ****             {
 635:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA9);    //gripperPosition IN3
 636:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA10); //gripperPosition IN4
 637:main.c        ****                 AT91F_PIO_SetOutput(AT91C_BASE_PIOA, AT91C_PIO_PA8);    //gripperPosition ENB
 638:main.c        ****                 continue;
 639:main.c        ****             }
 640:main.c        ****             if (strcmp((char*) cmdParts, "GRIPPERPOSITIONSTOP") == 0)
 2292              		.loc 2 640 0
 2293 0bf4 0400A0E1 		mov	r0, r4
 2294 0bf8 1C129FE5 		ldr	r1, .L152+208
 2295 0bfc FEFFFFEB 		bl	strcmp
 2296 0c00 000050E3 		cmp	r0, #0
 2297 0c04 0703001A 		bne	.L107
 2298              	.LBB802:
 2299              	.LBB803:
 2300              		.loc 1 620 0
 2301 0c08 0B2CE0E3 		mvn	r2, #2816
 2302 0c0c 023CA0E3 		mov	r3, #512
 2303 0c10 CB3002E5 		str	r3, [r2, #-203]
 2304              	.LBE803:
 2305              	.LBE802:
 2306              	.LBB804:
 2307              	.LBB805:
 2308 0c14 033083E0 		add	r3, r3, r3
 2309 0c18 CB3002E5 		str	r3, [r2, #-203]
 2310              	.LBE805:
 2311              	.LBE804:
 2312              	.LBB806:
 2313              	.LBB807:
 2314 0c1c 033C43E2 		sub	r3, r3, #768
 2315 0c20 6E0100EA 		b	.L129
 2316              	.L107:
 2317              	.LBE807:
 2318              	.LBE806:
 641:main.c        ****             {
 642:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA9);  //gripperPosition IN3
 643:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA10); //gripperPosition IN4
 644:main.c        ****                 AT91F_PIO_ClearOutput(AT91C_BASE_PIOA, AT91C_PIO_PA8);  //gripperPosition ENB
 645:main.c        ****                 continue;
 646:main.c        ****             }
 647:main.c        ****             if (strcmp((char*) cmdParts, "DEMOPSTART") == 0)
 2319              		.loc 2 647 0
 2320 0c24 0400A0E1 		mov	r0, r4
 2321 0c28 F0119FE5 		ldr	r1, .L152+212
 2322 0c2c FEFFFFEB 		bl	strcmp
 2323 0c30 000050E3 		cmp	r0, #0
 2324 0c34 1303001A 		bne	.L109
 648:main.c        ****             {
 649:main.c        ****                 parallelDemo = 1;
 650:main.c        ****                 sprintf((char *)msg,"PARALLEL EXECUTION MANIPULATOR DEMO STARTED\n");
 2325              		.loc 2 650 0
 2326 0c38 E4119FE5 		ldr	r1, .L152+216
 2327 0c3c 28019FE5 		ldr	r0, .L152+32
 2328 0c40 FEFFFFEB 		bl	strcpy
 651:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 2329              		.loc 2 651 0
 2330 0c44 20019FE5 		ldr	r0, .L152+32
 2331 0c48 00419FE5 		ldr	r4, .L152+4
 2332              	.LVL17:
 2333 0c4c FEFFFFEB 		bl	strlen
 2334 0c50 360300EA 		b	.L128
 2335              	.LVL18:
 2336              	.L109:
 652:main.c        ****                 continue;
 653:main.c        ****             }
 654:main.c        ****             if (strcmp((char*) cmdParts, "DEMOPSTOP") == 0)
 2337              		.loc 2 654 0
 2338 0c54 0400A0E1 		mov	r0, r4
 2339 0c58 C8119FE5 		ldr	r1, .L152+220
 2340 0c5c FEFFFFEB 		bl	strcmp
 2341 0c60 000050E3 		cmp	r0, #0
 2342 0c64 1F03001A 		bne	.L111
 655:main.c        ****             {
 656:main.c        ****                 parallelDemo = 0;
 657:main.c        ****                 sprintf((char *)msg,"PARALLEL EXECUTION MANIPULATOR DEMO STOPPED\n");
 2343              		.loc 2 657 0
 2344 0c68 BC119FE5 		ldr	r1, .L152+224
 2345 0c6c F8009FE5 		ldr	r0, .L152+32
 2346 0c70 FEFFFFEB 		bl	strcpy
 658:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 2347              		.loc 2 658 0
 2348 0c74 F0009FE5 		ldr	r0, .L152+32
 2349 0c78 D0409FE5 		ldr	r4, .L152+4
 2350              	.LVL19:
 2351 0c7c FEFFFFEB 		bl	strlen
 2352 0c80 360300EA 		b	.L128
 2353              	.LVL20:
 2354              	.L111:
 659:main.c        ****                 continue;
 660:main.c        ****             }
 661:main.c        ****             if (strcmp((char*) cmdParts, "DEMOSSTART") == 0)
 2355              		.loc 2 661 0
 2356 0c84 0400A0E1 		mov	r0, r4
 2357 0c88 A0119FE5 		ldr	r1, .L152+228
 2358 0c8c FEFFFFEB 		bl	strcmp
 2359 0c90 000050E3 		cmp	r0, #0
 2360 0c94 2B03001A 		bne	.L113
 662:main.c        ****             {
 663:main.c        ****                 serialDemo = 1;
 664:main.c        ****                 sprintf((char *)msg,"SERIAL EXECUTION MANIPULATOR DEMO STARTED\n");
 2361              		.loc 2 664 0
 2362 0c98 94119FE5 		ldr	r1, .L152+232
 2363 0c9c C8009FE5 		ldr	r0, .L152+32
 2364 0ca0 FEFFFFEB 		bl	strcpy
 665:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 2365              		.loc 2 665 0
 2366 0ca4 C0009FE5 		ldr	r0, .L152+32
 2367 0ca8 A0409FE5 		ldr	r4, .L152+4
 2368              	.LVL21:
 2369 0cac FEFFFFEB 		bl	strlen
 2370 0cb0 360300EA 		b	.L128
 2371              	.LVL22:
 2372              	.L113:
 666:main.c        ****                 continue;
 667:main.c        ****             }
 668:main.c        ****             if (strcmp((char*) cmdParts, "DEMOSSTOP") == 0)
 2373              		.loc 2 668 0
 2374 0cb4 0400A0E1 		mov	r0, r4
 2375 0cb8 78119FE5 		ldr	r1, .L152+236
 2376 0cbc FEFFFFEB 		bl	strcmp
 2377 0cc0 000050E3 		cmp	r0, #0
 2378 0cc4 3D03001A 		bne	.L28
 669:main.c        ****             {
 670:main.c        ****                 serialDemo = 0;
 671:main.c        ****                 sprintf((char *)msg,"SERIAL EXECUTION MANIPULATOR DEMO STOPPED\n");
 2379              		.loc 2 671 0
 2380 0cc8 6C119FE5 		ldr	r1, .L152+240
 2381 0ccc 98009FE5 		ldr	r0, .L152+32
 2382 0cd0 FEFFFFEB 		bl	strcpy
 672:main.c        ****                 pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 2383              		.loc 2 672 0
 2384 0cd4 90009FE5 		ldr	r0, .L152+32
 2385 0cd8 70409FE5 		ldr	r4, .L152+4
 2386              	.LVL23:
 2387 0cdc FEFFFFEB 		bl	strlen
 2388              	.L128:
 2389 0ce0 0020A0E1 		mov	r2, r0
 2390 0ce4 80109FE5 		ldr	r1, .L152+32
 2391 0ce8 0400A0E1 		mov	r0, r4
 2392 0cec 10C094E5 		ldr	ip, [r4, #16]
 2393 0cf0 0FE0A0E1 		mov	lr, pc
 2394 0cf4 1CFF2FE1 		bx	ip
 2395 0cf8 190100EA 		b	.L151
 2396              	.LVL24:
 2397              	.L28:
 2398              	.LBE717:
 673:main.c        ****                 continue;
 674:main.c        ****             }
 675:main.c        ****         }
 676:main.c        ****         if (input1Readings)
 2399              		.loc 2 676 0
 2400 0cfc 00005AE3 		cmp	sl, #0
 2401 0d00 1901000A 		beq	.L151
 677:main.c        ****         {
 678:main.c        ****             input1Reading = getValueChannel6();
 2402              		.loc 2 678 0
 2403 0d04 FEFFFFEB 		bl	getValueChannel6
 679:main.c        ****             sprintf((char *)msg,"INPUT1 CHANNEL [%u]: %u\n", input1Channel, input1Reading);
 2404              		.loc 2 679 0
 2405 0d08 0820A0E1 		mov	r2, r8
 2406              		.loc 2 678 0
 2407 0d0c 0030A0E1 		mov	r3, r0
 2408              	.LVL25:
 2409              		.loc 2 679 0
 2410 0d10 28119FE5 		ldr	r1, .L152+244
 2411 0d14 50009FE5 		ldr	r0, .L152+32
 2412 0d18 FEFFFFEB 		bl	sprintf
 2413              	.LVL26:
 680:main.c        ****             pCDC.Write(&pCDC, (char *)msg, strlen((char *)msg));
 2414              		.loc 2 680 0
 2415 0d1c 48009FE5 		ldr	r0, .L152+32
 2416 0d20 FEFFFFEB 		bl	strlen
 2417 0d24 24409FE5 		ldr	r4, .L152+4
 2418              	.LVL27:
 2419 0d28 0020A0E1 		mov	r2, r0
 2420 0d2c 38109FE5 		ldr	r1, .L152+32
 2421 0d30 0400A0E1 		mov	r0, r4
 2422 0d34 10C094E5 		ldr	ip, [r4, #16]
 2423 0d38 0FE0A0E1 		mov	lr, pc
 2424 0d3c 1CFF2FE1 		bx	ip
 681:main.c        ****             delay_ms(100);
 2425              		.loc 2 681 0
 2426 0d40 6400A0E3 		mov	r0, #100
 2427 0d44 FEFFFFEB 		bl	delay_ms
 2428 0d48 190100EA 		b	.L151
 2429              	.L153:
 2430              		.align	2
 2431              	.L152:
 2432 0d4c 010400A5 		.word	-1526725631
 2433 0d50 00000000 		.word	pCDC
 2434 0d54 FFC0FCFF 		.word	-212737
 2435 0d58 00000000 		.word	IRQ0Handler
 2436 0d5c 00F0FFFF 		.word	-4096
 2437 0d60 00000000 		.word	IRQ1Handler
 2438 0d64 00000000 		.word	FIQHandler
 2439 0d68 00000000 		.word	.LC0
 2440 0d6c 00000000 		.word	msg
 2441 0d70 08000000 		.word	.LC1
 2442 0d74 0C000000 		.word	.LC2
 2443 0d78 1C000000 		.word	.LC3
 2444 0d7c 40000000 		.word	.LC4
 2445 0d80 54000000 		.word	.LC5
 2446 0d84 78000000 		.word	.LC6
 2447 0d88 8C000000 		.word	.LC7
 2448 0d8c A0000000 		.word	.LC8
 2449 0d90 B4000000 		.word	.LC9
 2450 0d94 C8000000 		.word	.LC10
 2451 0d98 DC000000 		.word	.LC11
 2452 0d9c F0000000 		.word	.LC12
 2453 0da0 04010000 		.word	.LC13
 2454 0da4 18010000 		.word	.LC14
 2455 0da8 2C010000 		.word	.LC15
 2456 0dac 40010000 		.word	.LC16
 2457 0db0 54010000 		.word	.LC17
 2458 0db4 68010000 		.word	.LC18
 2459 0db8 7C010000 		.word	.LC19
 2460 0dbc 90010000 		.word	.LC20
 2461 0dc0 A4010000 		.word	.LC21
 2462 0dc4 B8010000 		.word	.LC22
 2463 0dc8 CC010000 		.word	.LC23
 2464 0dcc E0010000 		.word	.LC24
 2465 0dd0 F4010000 		.word	.LC25
 2466 0dd4 08020000 		.word	.LC26
 2467 0dd8 20020000 		.word	.LC27
 2468 0ddc 34020000 		.word	.LC28
 2469 0de0 40020000 		.word	.LC29
 2470 0de4 50020000 		.word	.LC30
 2471 0de8 5C020000 		.word	.LC31
 2472 0dec 70020000 		.word	.LC32
 2473 0df0 7C020000 		.word	.LC33
 2474 0df4 8C020000 		.word	.LC34
 2475 0df8 98020000 		.word	.LC35
 2476 0dfc B4020000 		.word	.LC36
 2477 0e00 C4020000 		.word	.LC37
 2478 0e04 D8020000 		.word	.LC38
 2479 0e08 EC020000 		.word	.LC39
 2480 0e0c 00030000 		.word	.LC40
 2481 0e10 14030000 		.word	.LC41
 2482 0e14 24030000 		.word	.LC42
 2483 0e18 3C030000 		.word	.LC43
 2484 0e1c 50030000 		.word	.LC44
 2485 0e20 64030000 		.word	.LC45
 2486 0e24 70030000 		.word	.LC46
 2487 0e28 A0030000 		.word	.LC47
 2488 0e2c AC030000 		.word	.LC48
 2489 0e30 DC030000 		.word	.LC49
 2490 0e34 E8030000 		.word	.LC50
 2491 0e38 14040000 		.word	.LC51
 2492 0e3c 20040000 		.word	.LC52
 2493 0e40 4C040000 		.word	.LC53
 2494              	.LFE299:
 2496              		.comm	pCDC,24,4
 2497              		.comm	msg,2048,4
 2498              		.comm	cmd,2048,4
 2659              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/cc0BuXbX.s:12     .text:00000000 AT91F_AIC_ConfigureIt
     /tmp/cc0BuXbX.s:21     .text:00000000 $a
     /tmp/cc0BuXbX.s:55     .text:00000038 IRQ0Handler
     /tmp/cc0BuXbX.s:71     .text:0000003c IRQ1Handler
     /tmp/cc0BuXbX.s:86     .text:00000040 FIQHandler
     /tmp/cc0BuXbX.s:101    .text:00000044 getCDCMEssage
     /tmp/cc0BuXbX.s:154    .text:000000a8 $d
                            *COM*:00000018 pCDC
     /tmp/cc0BuXbX.s:160    .text:000000ac AT91FUSBOpen
     /tmp/cc0BuXbX.s:167    .text:000000ac $a
     /tmp/cc0BuXbX.s:223    .text:000000f8 $d
     /tmp/cc0BuXbX.s:229    .text:00000100 InitPIO
     /tmp/cc0BuXbX.s:238    .text:00000100 $a
     /tmp/cc0BuXbX.s:813    .text:00000294 main
     /tmp/cc0BuXbX.s:2432   .text:00000d4c $d
                            *COM*:00000800 msg
                            *COM*:00000800 cmd

UNDEFINED SYMBOLS
memcpy
AT91F_CDC_Open
InitADC
pwmFreqSet
pwmDutySet_u8
sprintf
strlen
strtok
strcmp
strcpy
atoi
pwmDutySetPercent
getValueChannel6
delay_ms
