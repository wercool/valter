"undefined"===typeof STIPPLE&&(STIPPLE={},this.JSON||(this.JSON={}),function(){function s(c){return 10>c?"0"+c:c}function C(h){c.lastIndex=0;return c.test(h)?'"'+h.replace(c,function(c){var h=J[c];return"string"===typeof h?h:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function n(c,s){var l,t,B,E,F=h,A,p=s[c];p&&("object"===typeof p&&"function"===typeof p.toJSON)&&(p=p.toJSON(c));"function"===typeof u&&(p=u.call(s,c,p));switch(typeof p){case "string":return C(p);case "number":return isFinite(p)?
String(p):"null";case "boolean":case "null":return String(p);case "object":if(!p)return"null";h+=x;A=[];if("[object Array]"===Object.prototype.toString.apply(p)){E=p.length;for(l=0;l<E;l+=1)A[l]=n(l,p)||"null";B=0===A.length?"[]":h?"[\n"+h+A.join(",\n"+h)+"\n"+F+"]":"["+A.join(",")+"]";h=F;return B}if(u&&"object"===typeof u){E=u.length;for(l=0;l<E;l+=1)t=u[l],"string"===typeof t&&(B=n(t,p))&&A.push(C(t)+(h?": ":":")+B)}else for(t in p)Object.hasOwnProperty.call(p,t)&&(B=n(t,p))&&A.push(C(t)+(h?": ":
":")+B);B=0===A.length?"{}":h?"{\n"+h+A.join(",\n"+h)+"\n"+F+"}":"{"+A.join(",")+"}";h=F;return B}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(c){return this.valueOf()});var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h,x,J={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;"function"!==typeof JSON.stringify&&(JSON.stringify=function(c,s,l){var t;x=h="";if("number"===typeof l)for(t=0;t<l;t+=1)x+=" ";else"string"===typeof l&&(x=l);if((u=s)&&"function"!==typeof s&&("object"!==typeof s||"number"!==typeof s.length))throw Error("JSON.stringify");return n("",{"":c})})}(),function(){var s=location.protocol+"//",C="stipple.com",n=15,c,h={},x,J,u=0,D,M,l=null,t=!0,B=!0,E=!1,F=!1,A=!1,p=!1,
X=!1,Y,K,w=!1,O,P,H,Z,$,aa,ba,L,N,Q,R,ca,da,S,T,U,I,y,G,ea,fa,ga,ha,ia,V,W;if(H=document.getElementById("stipple-meta-loader"))try{eval(H.content)}catch(ka){}H=function(){var c=[],a={};this.register=function(b,d){d?(delete a[d],a[d]=b):c.push(b)};this.execute=function(b,d){var f;for(f=0;f<c.length;f+=1)c[f](b,d);for(f in a)if(a.hasOwnProperty(f))a[f](b,d)}};STIPPLE.callbacks={onDotCreate:{success:new H,error:new H},onDotDelete:{success:new H}};(function(){h=h||{};var c=function(a){return new Function("obj",
"var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(b,d){return"',"+d.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(b,d){return"');"+d.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');")};h.ajax_spinner=c('<div class="stipple-ajax-spinner-background stipple-centered" style="display: none;">\n  <img style="height: 19px; width: 19px;" src="<%= staticHostname %>/external/spinner.gif" />\n</div>\n');
h.autocomplete_add_product=c('<li class="stipple-autocomplete-item stipple-autocomplete-add-product">\n  <div class="stipple-autocomplete-add-product-prompt">Don\'t see what you are looking for?</div>\n  <%= JST.button({elementType: \'a\', link: \'#\', cssClass: "stipple-autocomplete-add-product-button", newWindow: false, text: "Add a product"}) %>\n</li>');h.autocomplete_box=c('<div class="stipple-autocomplete-box">\n  <div class="stipple-autocomplete-no-results" style="display: none;">\n    <div class="stipple-autocomplete-add-product-prompt">\n      No results for "<span class="stipple-autocomplete-no-results-search-term"></span>"\n    </div>\n    <%= JST.button({elementType: \'a\', link: \'#\', cssClass: "stipple-autocomplete-add-product-button", newWindow: false, text: "Add a product"}) %>\n  </div>\n  \n  <div class="stipple-autocomplete-ajax-loader" style="display: none;">\n    <img class="stipple-ajax-spinner" src="<%= staticHostname %>/external/spinner-white.gif" alt="ajax spinner"/>\n  </div>\n  \n  <ul class="stipple-autocomplete-items">\n\n  </ul>\n</div>');
h.autocomplete_item=c('<li class="stipple-autocomplete-item">\n  <span class="stipple-autocomplete-partial-match"><%= text.substr(0, boldLength) %></span><%= text.substr(boldLength) %>\n</li>');h.autocomplete_item_product=c('<li class="stipple-autocomplete-item stipple-autocomplete-item-product">\n  <img src="<%= data.image_url %>" class="stipple-autocomplete-product-image" />\n  <div class="stipple-autocomplete-names">\n    <div class="stipple-autocomplete-name">\n      <%= data.name %>\n    </div>\n    <div class="stipple-autocomplete-brand-name">\n      <% if (data.brand && data.brand.length) { %>\n        by <%= data.brand %>\n      <% } %>\n      <% if (data.brand && data.brand.length && data.price && data.price.length) { %>\n        &bull;\n      <% } %>\n      <% if (data.price && data.price.length) { %>\n        <%= data.price %>\n      <% } %>\n    </div>\n  </div>\n</li>');
h.button=c("<% var styleString = typeof style === 'undefined' ? '' : 'style=\"' + style + '\"'; %>\n<% if (elementType === 'input') { %>\n  <input type=\"<%= inputType %>\" class=\"<%= cssClass %> stipple-button stipple-toolbar-button\" <%= newWindow ? 'target=\"_blank\"' : '' %> value=\"<%= text %>\" <%= styleString %> />\n<% } else { %>\n  <a href=\"<%= link %>\" class=\"<%= cssClass %> stipple-button stipple-toolbar-button\" <%= newWindow ? 'target=\"_blank\"' : '' %>><%= text %></a>\n<% } %>\n");
h.call_to_action=c('<div class="stipple-call-to-action <%= visible ? "" : "stipple-hidden" %>"></div> ');h.dot=c('<div class="stipple-dot" data-stipple-creator-id="<%= creator_id %>"></div>\n');h.dot_box_button=c('<a href="<%= link %>" class="<%= cssClass %> stipple-dot-box-button" target="_stippleNewWindow" >\n  <div class="stipple-button-label"><%= label %></div>\n</a>\n');h.dot_box_edit_drawer=c('<div class="stipple-dot-box-edit-drawer" style="display: none;">\n  <div class="stipple-dot-edit-link-container">\n    <a class="stipple-dot-edit-link" href="#">Edit tag</a>\n  </div>\n  <div class="stipple-dot-delete-link-container">\n    <a class="stipple-dot-delete-link" href="#">Delete tag</a>\n  </div>\n</div>\n');
h.dot_box_edit_toggler=c('<% if (userCanEdit) { %>\n  <div class="stipple-dot-box-edit-toggler stipple-toggler-off">\n        \n  </div>\n<% } %>\n');h.dot_info=c('<% var extra_class = (typeof link_data === \'object\' && link_data) ? \'stipple-dot-box-info-\' + link_data.name.toLowerCase() : \'\'; %>\n<div class="stipple-dot-box stipple-dot-box-info <%= extra_class %>">\n  <h1 class="stipple-dot-box-title stipple-info-dot-box-title">\n    <div class="stipple-dot-box-title-text">\n      <% if (link && link.length) { %>\n        <a href="<%= link %>" target="_blank">\n          <%= title %>\n        </a>\n      <% } else { %>\n        <%= title %>\n      <% } %>\n    </div>\n      \n    <div class="stipple-dot-box-close-button"></div>\n    <div style="clear: both;"></div>\n  </h1>\n  \n  <div class="stipple-dot-box-inner">\n    <% if (typeof link_data === \'object\' && link_data) { %>\n      <%= JST[\'info_dot_\' + helpers.infoDotTemplateType(link_data.name)]({JST: JST, link: link, title: title, note: note, link_data: link_data, staticHostname: staticHostname}) %>\n    <% } else { %>\n      <%= JST.info_dot_content({JST: JST, link: link, title: title, note: note, link_data: null, staticHostname: staticHostname}) %>\n    <% } %>\n    <%= JST.dot_box_edit_toggler({userCanEdit: userCanEdit}) %>\n  </div>\n\n  <%= JST.dot_box_edit_drawer({}) %>\n</div>\n');
h.dot_product=c('<div class="stipple-dot-box stipple-dot-box-product" <% if (has_product) { %> data-product-id="<%= product_id %>" <% } %>>\n  <h1 class="stipple-dot-box-title">\n    <div class="stipple-dot-box-title-text">\n      <%= title %>\n    </div>\n    <div class="stipple-dot-box-close-button"></div>\n    <div style="clear: both;"></div>\n  </h1>\n\n  <div class="stipple-dot-box-inner">\n\n    <% if (has_offer && campaigned) { %>\n      <a href="<%= buy_now_link %>" class="stipple-dot-box-popup-link" target="_stippleNewWindow" style="background-color: #FFF;">\n        <div class="stipple-product-dot-image-container">\n          <img class="stipple-product-dot-image" src="<%= image_url %>" title="<%= title %>" alt="Image for <%= title %>" />\n        </div>\n      </a>\n    <% } else { %>\n      <div class="stipple-product-dot-image-container">\n        <img class="stipple-product-dot-image" src="<%= image_url %>" title="<%= title %>" alt="Image for <%= title %>" />\n      </div>\n    <% } %>\n    \n    <div class="stipple-product-info">\n      <div style="clear: both;"></div>\n      \n      <div class="stipple-price-and-links">\n        <% if (rental_price) { %>\n          <span class="stipple-price"><%= rental_price %></span>\n        <% } else if (price) { %>\n          <span class="stipple-price"><%= price %></span>\n        <% } %>\n\n        <% if (price && brand && brand.length) { %>\n          <span class="stipple-product-price-separator">&bull;</span>\n        <% } %>\n            \n        <% if (brand && brand.length) { %>\n          <span class="stipple-product-brand">By <%= brand %></span>\n        <% } %>\n            \n        <div class="stipple-product-dot-button-container">\n          <% if (buy_now_link && has_offer) { %>\n            <% var shop_text = rental_price ? "Rent" : "Shop"; %>\n            <a href="<%= buy_now_link %>" class="stipple-shop" target="_blank"><%= shop_text %></a>\n          <% } %>\n        </div>\n\n        <div style="clear: both;"></div>\n      </div>\n    </div>\n\n    <div style="clear: both;"></div>\n    <%= JST.dot_box_edit_toggler({userCanEdit: userCanEdit}) %>\n  </div>\n\n  <%= JST.dot_box_edit_drawer({}) %>\n</div>\n');
h.dot_wrapper=c('<div class="stipple-dottable-wrapper">\n</div>');h.external_css=c('<style type="text/css">\n.stipple-dot-box,.stipple-new-dot-container,.stipple-dottable-wrapper{-moz-box-sizing:content-box!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important}.stipple-dot-box div,.stipple-dot-box span,.stipple-dot-box object,.stipple-dot-box iframe,.stipple-dot-box h1,.stipple-dot-box h2,.stipple-dot-box h3,.stipple-dot-box h4,.stipple-dot-box h5,.stipple-dot-box h6,.stipple-dot-box p,.stipple-dot-box pre,.stipple-dot-box a,.stipple-dot-box abbr,.stipple-dot-box acronym,.stipple-dot-box address,.stipple-dot-box code,.stipple-dot-box del,.stipple-dot-box dfn,.stipple-dot-box em,.stipple-dot-box img,.stipple-dot-box dl,.stipple-dot-box dt,.stipple-dot-box dd,.stipple-dot-box ol,.stipple-dot-box ul,.stipple-dot-box li,.stipple-dot-box fieldset,.stipple-dot-box form,.stipple-dot-box label,.stipple-dot-box legend,.stipple-dot-box caption,.stipple-dot-box tbody,.stipple-dot-box tfoot,.stipple-dot-box thead,.stipple-dot-box tr,.stipple-new-dot-container div,.stipple-new-dot-container span,.stipple-new-dot-container object,.stipple-new-dot-container iframe,.stipple-new-dot-container h1,.stipple-new-dot-container h2,.stipple-new-dot-container h3,.stipple-new-dot-container h4,.stipple-new-dot-container h5,.stipple-new-dot-container h6,.stipple-new-dot-container p,.stipple-new-dot-container pre,.stipple-new-dot-container a,.stipple-new-dot-container abbr,.stipple-new-dot-container acronym,.stipple-new-dot-container address,.stipple-new-dot-container code,.stipple-new-dot-container del,.stipple-new-dot-container dfn,.stipple-new-dot-container em,.stipple-new-dot-container img,.stipple-new-dot-container dl,.stipple-new-dot-container dt,.stipple-new-dot-container dd,.stipple-new-dot-container ol,.stipple-new-dot-container ul,.stipple-new-dot-container li,.stipple-new-dot-container fieldset,.stipple-new-dot-container form,.stipple-new-dot-container label,.stipple-new-dot-container legend,.stipple-new-dot-container caption,.stipple-new-dot-container tbody,.stipple-new-dot-container tfoot,.stipple-new-dot-container thead,.stipple-new-dot-container tr,.stipple-dottable-wrapper div,.stipple-dottable-wrapper span,.stipple-dottable-wrapper object,.stipple-dottable-wrapper iframe,.stipple-dottable-wrapper h1,.stipple-dottable-wrapper h2,.stipple-dottable-wrapper h3,.stipple-dottable-wrapper h4,.stipple-dottable-wrapper h5,.stipple-dottable-wrapper h6,.stipple-dottable-wrapper p,.stipple-dottable-wrapper pre,.stipple-dottable-wrapper a,.stipple-dottable-wrapper abbr,.stipple-dottable-wrapper acronym,.stipple-dottable-wrapper address,.stipple-dottable-wrapper code,.stipple-dottable-wrapper del,.stipple-dottable-wrapper dfn,.stipple-dottable-wrapper em,.stipple-dottable-wrapper img,.stipple-dottable-wrapper dl,.stipple-dottable-wrapper dt,.stipple-dottable-wrapper dd,.stipple-dottable-wrapper ol,.stipple-dottable-wrapper ul,.stipple-dottable-wrapper li,.stipple-dottable-wrapper fieldset,.stipple-dottable-wrapper form,.stipple-dottable-wrapper label,.stipple-dottable-wrapper legend,.stipple-dottable-wrapper caption,.stipple-dottable-wrapper tbody,.stipple-dottable-wrapper tfoot,.stipple-dottable-wrapper thead,.stipple-dottable-wrapper tr{margin:0!important;padding:0!important;border:0!important;outline:0!important;text-index:0!important;position:static;font-weight:inherit!important;font-style:inherit!important;font-size:100%!important;font-family:inherit!important;vertical-align:baseline!important;-moz-transition:all 0 ease-in 0!important;-webkit-transition:all 0 ease-in 0!important;transition:all 0 ease-in 0!important}.stipple-dot-box table,.stipple-new-dot-container table,.stipple-dottable-wrapper table{border-collapse:separate!important;border-spacing:0!important;vertical-align:middle!important}.stipple-dot-box caption,.stipple-dot-box th,.stipple-dot-box td,.stipple-new-dot-container caption,.stipple-new-dot-container th,.stipple-new-dot-container td,.stipple-dottable-wrapper caption,.stipple-dottable-wrapper th,.stipple-dottable-wrapper td{text-align:left!important;font-weight:normal!important;vertical-align:middle!important}.stipple-dot-box q,.stipple-dot-box blockquote,.stipple-new-dot-container q,.stipple-new-dot-container blockquote,.stipple-dottable-wrapper q,.stipple-dottable-wrapper blockquote{quotes:"" ""!important}.stipple-dot-box q:before,.stipple-dot-box q:after,.stipple-dot-box blockquote:before,.stipple-dot-box blockquote:after,.stipple-new-dot-container q:before,.stipple-new-dot-container q:after,.stipple-new-dot-container blockquote:before,.stipple-new-dot-container blockquote:after,.stipple-dottable-wrapper q:before,.stipple-dottable-wrapper q:after,.stipple-dottable-wrapper blockquote:before,.stipple-dottable-wrapper blockquote:after{content:""!important}.stipple-dot-box a img,.stipple-new-dot-container a img,.stipple-dottable-wrapper a img{border:none!important}.stipple-dot-box button,.stipple-dot-box input[type="button"],.stipple-new-dot-container button,.stipple-new-dot-container input[type="button"],.stipple-dottable-wrapper button,.stipple-dottable-wrapper input[type="button"]{text-transform:none!important}.stipple-dot-box *,.stipple-new-dot-container *,.stipple-dottable-wrapper *{-moz-box-sizing:content-box!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important}div.stipple-dot,.stipple-new-dot{display:block;z-index:155000!important;width:31px!important;height:31px!important;background-image:url(//stipple.cachefly.net/production/dots/sprite.png)!important;background-position:-248px 0!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important;border:none!important;padding:0!important;margin:0!important;-moz-box-shadow:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;position:absolute!important}.stipple-mobile div.stipple-dot,.stipple-mobile .stipple-new-dot{width:45px!important;height:45px!important;background-image:url(//stipple.cachefly.net/production/dots/mobile/sprite.png)!important;background-position:-450px 0!important}div.stipple-dot-type-product{background-position:-279px 0!important}div.stipple-dot-type-audio{background-position:0 0!important}div.stipple-dot-type-event{background-position:-62px 0!important}div.stipple-dot-type-image{background-position:-93px 0!important}div.stipple-dot-type-info{background-position:-124px 0!important}div.stipple-dot-type-link{background-position:-155px 0!important}div.stipple-dot-type-location{background-position:-186px 0!important}div.stipple-dot-type-person{background-position:-217px 0!important}div.stipple-dot-type-video{background-position:-310px 0!important}div.stipple-dot-type-close,.stipple-dottable-wrapper .stipple-call-to-action.stipple-dot-type-close{background-position:-31px 0!important}.stipple-mobile div.stipple-dot-type-product{background-position:-495px 0!important}.stipple-mobile div.stipple-dot-type-audio{background-position:0 0!important}.stipple-mobile div.stipple-dot-type-event{background-position:-135px 0!important}.stipple-mobile div.stipple-dot-type-image{background-position:-180px 0!important}.stipple-mobile div.stipple-dot-type-info{background-position:-225px 0!important}.stipple-mobile div.stipple-dot-type-link{background-position:-270px 0!important}.stipple-mobile div.stipple-dot-type-location{background-position:-315px 0!important}.stipple-mobile div.stipple-dot-type-person{background-position:-405px 0!important}.stipple-mobile div.stipple-dot-type-video{background-position:-540px 0!important}.stipple-mobile div.stipple-dot-type-close,.stipple-mobile .stipple-dottable-wrapper .stipple-call-to-action.stipple-dot-type-close,.stipple-dottable-wrapper .stipple-mobile .stipple-call-to-action.stipple-dot-type-close,.stipple-dottable-wrapper.stipple-mobile .stipple-call-to-action.stipple-dot-type-close{background-position:-90px 0!important}.stipple-dottable-wrapper .stipple-status-box-container{width:100%!important;position:absolute!important;top:50px!important;text-align:center!important}.stipple-dottable-wrapper .stipple-status-box{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;border-radius:10px!important;-moz-border-radius:10px!important;-webkit-border-radius:10px!important;color:white!important;background-color:black!important;background-color:rgba(0,0,0,0.75)!important;padding:15px!important;font-size:18px!important;font-weight:bold!important;text-align:center!important;margin:0 auto!important}.stipple-new-dot-overlay,.stipple-mobile-overlay{z-index:150000!important;position:absolute!important;left:0!important;top:0!important;height:100%!important;width:100%!important;background-color:transparent;cursor:crosshair!important}.stipple-mobile-overlay{cursor:auto!important}.stipple-new-dot-overlay.stipple-inactive,.stipple-inactive.stipple-mobile-overlay{cursor:auto!important}.stipple-new-dot-container{-moz-border-radius:4px!important;-webkit-border-radius:4px!important;border-radius:4px!important;background:white!important;width:270px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;line-height:1!important;z-index:300000!important;color:#1e1e1e!important;-moz-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;-webkit-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;box-shadow:0 1px 7px rgba(0,0,0,0.4)!important}.stipple-new-dot-container input{float:none!important}.stipple-new-dot-container .stipple-dot-specific-fields{margin-left:15px!important;margin-right:15px!important;margin-bottom:15px!important}.stipple-new-dot-container .stipple-link-providers{border-top:1px solid #bebebe!important;text-align:center!important;margin-top:10px!important;margin-bottom:10px!important;padding-top:10px!important;padding-left:13px!important;padding-right:13px!important;font-size:11px!important;line-height:14px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;color:#666!important;font-style:italic!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons{margin-top:10px!important;margin-left:auto!important;margin-right:auto!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-icon{display:inline-block!important;width:16px!important;height:16px!important;margin-right:5px!important;background-image:url(//stipple.cachefly.net/production/external/link_providers/icon/sprite.png)!important;background-repeat:no-repeat!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-eventbrite{background-position:0 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-facebook{background-position:-16px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-flickr{background-position:-32px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-foursquare{background-position:-48px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-google-maps{background-position:-64px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-soundcloud{background-position:-80px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-twitter{background-position:-96px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-vimeo{background-position:-112px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-wikipedia{background-position:-128px 0!important}.stipple-new-dot-container .stipple-link-providers .stipple-link-providers-icons .stipple-provider-youtube{background-position:-144px 0!important}.stipple-new-dot-container .stipple-new-dot-buttons{text-align:right!important;margin-top:0!important;margin-bottom:5px!important;background-color:transparent!important;padding:10px 13px 5px!important;height:24px!important;border-top:1px solid #bebebe!important}.stipple-new-dot-container .stipple-new-dot-buttons input:active,.stipple-new-dot-container .stipple-new-dot-buttons img:active{position:relative!important;top:1px!important}.stipple-new-dot-container .stipple-new-dot-buttons .stipple-new-dot-save-button,.stipple-new-dot-container .stipple-new-dot-buttons .stipple-new-dot-edit-button{height:24px!important}.stipple-new-dot-container .stipple-new-dot-buttons .stipple-new-dot-cancel-button{height:24px!important;float:left!important}.stipple-new-dot-container form input[type="text"],.stipple-new-dot-container form input[type="url"],.stipple-new-dot-container form textarea,.stipple-new-dot-container form select{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;margin:6px auto!important;display:block;width:230px!important;height:auto!important;padding:2px 5px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;color:black!important;border:1px solid #d3d3d3!important;text-transform:none!important}.stipple-new-dot-container form input[type="text"],.stipple-new-dot-container form input[type="url"],.stipple-new-dot-container form textarea{border:1px solid black!important;border:1px solid rgba(0,0,0,0.29297)!important;background-color:white!important;-moz-box-shadow:0 2px 0 #fff,0 1px 1px rgba(0,0,0,0.2) inset!important;-webkit-box-shadow:0 2px 0 #fff,0 1px 1px rgba(0,0,0,0.2) inset!important;box-shadow:0 2px 0 #fff,0 1px 1px rgba(0,0,0,0.2) inset!important}.stipple-new-dot-container form input[type="text"].stipple-empty-input,.stipple-new-dot-container form input[type="url"].stipple-empty-input,.stipple-new-dot-container form textarea.stipple-empty-input{color:#a7a7a7!important;font-style:italic!important}.stipple-new-dot-container form textarea{padding-top:5px!important;padding-bottom:5px!important;border:1px solid #999!important;box-shadow:0 1px 0 #e7e7e7 inset!important}.stipple-new-dot-container form select{font-size:11px!important;background-color:#f7f7f7!important;width:242px!important;-moz-box-shadow:0 2px 0 #FFF!important;-webkit-box-shadow:0 2px 0 #FFF!important;box-shadow:0 2px 0 #FFF!important;margin-bottom:10px!important;margin-top:6px!important}.stipple-new-dot-container form label{display:inline!important;color:#666!important;font-size:11px!important}.stipple-new-dot-container form label .stipple-validation-error{float:right!important;color:#fc4a4a!important}.stipple-new-dot-container form .stipple-new-dot-main-prompt{display:block!important;text-align:center!important;width:auto!important;float:none!important;padding:0!important}.stipple-new-dot-container form .stipple-fetching-link{height:140px!important;text-align:center!important}.stipple-new-dot-container form .stipple-fetching-link .stipple-ajax-spinner{text-align:center!important;position:relative!important;top:60px!important}.stipple-new-dot-container form .stipple-fetching-link img{height:20px!important;width:20px!important}.stipple-new-dot-container form .stipple-info-preview{padding:0 13px 5px!important}.stipple-new-dot-container form .stipple-info-preview .stipple-dot-box-title{background-image:none!important;height:auto!important;width:auto!important;text-indent:0!important;margin:auto!important;color:black!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;font-weight:bold!important;line-height:normal!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;margin:0!important;word-wrap:break-word!important;max-width:270px!important}.stipple-new-dot-container form .stipple-info-preview .stipple-dot-box-title .stipple-dot-box-title-text{padding:15px 10px 5px!important;float:left!important;word-wrap:break-word!important;max-width:75%!important}.stipple-new-dot-container form .stipple-info-preview .stipple-dot-box-title .stipple-dot-box-close-button{position:absolute!important;top:0!important;right:0!important;height:45px!important;width:45px!important;cursor:pointer!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important;background-position:-18px 0!important}.stipple-new-dot-container form .stipple-info-preview .stipple-dot-box-title a{color:#262626!important;text-decoration:none!important;border-bottom:1px dotted #ccc!important}.stipple-new-dot-container form .stipple-info-preview .stipple-note{margin-top:10px!important;word-wrap:break-word!important}.stipple-new-dot-container form .stipple-info-preview .stipple-note b,.stipple-new-dot-container form .stipple-info-preview .stipple-note strong{font-weight:bold!important}.stipple-new-dot-container form .stipple-link-previews{padding:0 13px 5px!important;margin-top:10px!important;margin-bottom:10px!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data{margin-top:0!important;word-wrap:break-word!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data:first-child{margin-top:0!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-image{display:inline-block!important;margin-left:2px!important;margin-right:10px!important;text-align:center!important;float:left!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-image img{display:block!important;max-width:60px!important;max-height:60px!important;margin:auto!important;height:auto!important;width:auto!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-description-container{display:inline-block!important;font-size:12px!important;line-height:16px!important;color:#666!important;max-width:170px!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-description-container strong{font-weight:bold!important;color:#666!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-description-wide-container{display:inline-block!important;font-size:12px!important;line-height:16px!important;color:#666!important;max-width:250px!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-link-data-description-wide-container strong{font-weight:bold!important;color:#666!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-itunes-audio-preview{margin-top:20px!important;width:250px!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-embed-container{margin:10px 0 0!important;padding:0!important;min-height:32px!important;background-repeat:no-repeat!important;background-position:center!important;text-align:center!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-embed-container:first-child{margin-top:0!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-embed-container .stipple-embedded-image{width:auto!important;height:auto!important;max-width:250px!important;max-height:none!important}.stipple-new-dot-container form .stipple-link-previews .stipple-link-data .stipple-embed-container .stipple-embed-click-to-play{height:100%!important;width:100%!important;cursor:pointer!important}.stipple-new-dot-container .stipple-new-product-dot-form .stipple-selected-product{padding:5px 5px 9px!important}.stipple-new-dot-container .stipple-new-product-dot-form .stipple-selected-product li{list-style-type:none!important}.stipple-new-dot-container .stipple-new-product-dot-form .stipple-selected-product .stipple-autocomplete-product-image{height:auto!important;width:auto!important;max-width:60px!important;max-height:60px!important;border:1px solid #989898!important;margin-left:10px!important}.stipple-new-dot-container .stipple-new-product-dot-form .stipple-selected-product .stipple-autocomplete-name{font-weight:bold!important}.stipple-new-dot-container .stipple-new-dot-chooser{width:100%!important;background-color:transparent!important;color:black!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;font-size:11px!important;font-weight:bold!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-style:normal!important;height:45px!important;-moz-border-radius-topleft:4px!important;-moz-border-radius-topright:4px!important;-webkit-border-top-left-radius:4px!important;-webkit-border-top-right-radius:4px!important;border-top-left-radius:4px!important;border-top-right-radius:4px!important}.stipple-new-dot-container .stipple-new-dot-chooser .stipple-new-dot-choice{width:135px!important;height:30px!important;line-height:30px!important;margin:0!important;padding:0!important;background-color:#e6e6e6!important;display:inline-block!important;text-align:center!important;cursor:pointer!important;border-bottom:1px solid #bebebe!important}.stipple-new-dot-container .stipple-new-dot-chooser .stipple-new-dot-choice.stipple-selected{display:inline-block!important;background-color:transparent!important;border-bottom:none!important}.stipple-new-dot-container .stipple-new-dot-chooser .stipple-new-dot-choice:first-child{-moz-border-radius-topleft:4px!important;-webkit-border-top-left-radius:4px!important;border-top-left-radius:4px!important}.stipple-new-dot-container .stipple-new-dot-chooser .stipple-new-dot-choice:last-child{-moz-border-radius-topright:4px!important;-webkit-border-top-right-radius:4px!important;border-top-right-radius:4px!important;border-left:1px solid #bebebe!important;width:134px!important}a.stipple-button,input.stipple-button{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;height:20px!important;line-height:20px!important;text-align:center!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-weight:bold!important;font-size:10px!important;font-style:normal!important;cursor:pointer!important;text-decoration:none!important;padding:0!important;border:1px solid #b3aaaa!important;color:#404040!important;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#e6e6e6))!important;background:-moz-linear-gradient(top,#fff,#e6e6e6)!important;background:-webkit-linear-gradient(top,#fff,#e6e6e6)!important;height:20px!important;width:50px!important;display:inline-block;line-height:normal!important}a.stipple-button:active,input.stipple-button:active{position:relative!important;top:1px!important}.stipple-dot-box a.stipple-dot-box-button{-moz-border-radius:10px!important;-webkit-border-radius:10px!important;border-radius:10px!important;color:black!important;cursor:pointer!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;font-weight:normal!important;font-style:normal!important;height:20px!important;width:70px!important;text-decoration:none!important;display:inline-block!important;text-align:center!important}.stipple-dot-box a.stipple-dot-box-button .stipple-button-label{display:inline-block!important;vertical-align:top!important;line-height:20px!important}.stipple-dot-box a.stipple-dot-box-button:active .stipple-button-label{margin-top:1px!important}.stipple-dot-box{z-index:210000!important;position:absolute!important;line-height:normal!important;display:none;border:none!important;background-color:white!important;background-color:rgba(255,255,255,0.95)!important;*background-color:white!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;border:none!important;-moz-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;-webkit-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;color:#404040!important}.stipple-dot-box .stipple-dot-box-title{background-image:none!important;height:auto!important;width:auto!important;text-indent:0!important;margin:auto!important;color:black!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;font-weight:bold!important;line-height:normal!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;margin:0!important;word-wrap:break-word!important;max-width:270px!important}.stipple-dot-box .stipple-dot-box-title .stipple-dot-box-title-text{padding:15px 10px 5px!important;float:left!important;word-wrap:break-word!important;max-width:75%!important}.stipple-dot-box .stipple-dot-box-title .stipple-dot-box-close-button{position:absolute!important;top:0!important;right:0!important;height:45px!important;width:45px!important;cursor:pointer!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important;background-position:-18px 0!important}.stipple-dot-box .stipple-dot-box-title a{color:#262626!important;text-decoration:none!important;border-bottom:1px dotted #ccc!important}.stipple-dot-box .stipple-dot-box-inner{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;font-weight:normal!important;font-style:normal!important;line-height:16px!important;text-align:left!important;padding:0 10px 10px!important;border-radius:2px!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;position:relative!important}.stipple-dot-box .stipple-dot-box-inner .stipple-attribution{font-size:11px!important;color:#999!important}.stipple-dot-box .stipple-dot-box-inner span.stipple-attribution{float:left!important}.stipple-dot-box .stipple-dot-box-inner .stipple-provider-logo{border:none!important}.stipple-dot-box .stipple-dot-box-inner .stipple-provider-logo img{height:16px!important;width:16px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-provider-logo-topright{border:none!important;position:absolute!important;top:10px!important;right:10px!important;left:auto!important;bottom:auto!important}.stipple-dot-box .stipple-dot-box-inner .stipple-provider-logo-topright img{height:16px!important;width:16px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-info-dot-box-note{word-wrap:break-word!important}.stipple-dot-box .stipple-dot-box-inner .stipple-external-link{display:inline-block!important;float:right!important;text-align:right!important;width:17px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-dot-box-bottom-ad-container{margin-top:10px!important;text-align:center!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data{margin-top:0!important;word-wrap:break-word!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data:first-child{margin-top:0!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image{display:inline-block!important;margin-left:2px!important;margin-right:10px!important;text-align:center!important;float:left!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image img{display:block!important;max-width:60px!important;max-height:60px!important;margin:auto!important;height:auto!important;width:auto!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-container{display:inline-block!important;font-size:12px!important;line-height:16px!important;color:#666!important;max-width:170px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-container strong{font-weight:bold!important;color:#666!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-wide-container{display:inline-block!important;font-size:12px!important;line-height:16px!important;color:#666!important;max-width:250px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-wide-container strong{font-weight:bold!important;color:#666!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-itunes-audio-preview{margin-top:20px!important;width:250px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-embed-container{margin:10px 0 0!important;padding:0!important;min-height:32px!important;background-repeat:no-repeat!important;background-position:center!important;text-align:center!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-embed-container:first-child{margin-top:0!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-embed-container .stipple-embedded-image{width:auto!important;height:auto!important;max-width:250px!important;max-height:none!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-embed-container .stipple-embed-click-to-play{height:100%!important;width:100%!important;cursor:pointer!important}.stipple-dot-box .stipple-dot-box-inner .stipple-dot-box-edit-toggler{display:block!important;height:10px!important;width:10px!important;position:absolute!important;right:10px!important;bottom:3px!important;cursor:pointer!important}.stipple-dot-box .stipple-dot-box-inner .stipple-dot-box-edit-toggler.stipple-toggler-off{background-image:url(//stipple.cachefly.net/production/external/point-down.png)!important}.stipple-dot-box .stipple-dot-box-inner .stipple-dot-box-edit-toggler.stipple-toggler-on{background-image:url(//stipple.cachefly.net/production/external/point-up.png)!important}.stipple-dot-box .stipple-dot-box-edit-drawer{height:35px!important;border-top:1px solid #d8d8d8!important;background-color:#fcfcfc!important;-moz-border-radius-bottomleft:2px!important;-webkit-border-bottom-left-radius:2px!important;border-bottom-left-radius:2px!important;-moz-border-radius-bottomright:2px!important;-webkit-border-bottom-right-radius:2px!important;border-bottom-right-radius:2px!important;overflow:hidden}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-edit-link-container,.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-delete-link-container{text-align:center!important;height:25px!important;padding-top:10px!important;line-height:10px!important}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-edit-link-container{border-right:1px solid #d8d8d8!important;width:50%!important;float:left!important}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-delete-link-container{overflow:hidden!important}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-edit-link,.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-delete-link{border:none!important;text-decoration:underline!important;font-size:11px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-edit-link{color:#666!important}.stipple-dot-box .stipple-dot-box-edit-drawer .stipple-dot-delete-link{color:#bf0000!important}.stipple-dot-box-info .stipple-dot-box-inner{width:250px!important}.stipple-dot-box-info.stipple-dot-box-info-youtube .stipple-dot-box-title,.stipple-dot-box-info.stipple-dot-box-info-vimeo .stipple-dot-box-title,.stipple-dot-box-info.stipple-dot-box-info-mlbvideo .stipple-dot-box-title,.stipple-dot-box-info.stipple-dot-box-info-genericvideo .stipple-dot-box-title,.stipple-dot-box-info.stipple-dot-box-info-rcs .stipple-dot-box-title{max-width:341px!important}.stipple-dot-box-info.stipple-dot-box-info-youtube .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info.stipple-dot-box-info-vimeo .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info.stipple-dot-box-info-mlbvideo .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info.stipple-dot-box-info-genericvideo .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info.stipple-dot-box-info-rcs .stipple-dot-box-title .stipple-dot-box-title-text{max-width:75%!important}.stipple-dot-box-info.stipple-dot-box-info-youtube .stipple-dot-box-inner,.stipple-dot-box-info.stipple-dot-box-info-vimeo .stipple-dot-box-inner,.stipple-dot-box-info.stipple-dot-box-info-mlbvideo .stipple-dot-box-inner,.stipple-dot-box-info.stipple-dot-box-info-genericvideo .stipple-dot-box-inner,.stipple-dot-box-info.stipple-dot-box-info-rcs .stipple-dot-box-inner{width:321px!important}.stipple-dot-box-info .stipple-note{margin-top:0!important}.stipple-dot-box-info .stipple-note b,.stipple-dot-box-info .stipple-note strong{font-weight:bold!important}.stipple-dot-box-info-eventbrite .stipple-dot-box-inner span.stipple-attribution{float:none!important;margin-left:0!important;display:block!important;clear:both!important}.stipple-dot-box-info-facebook .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-twitter .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-foursquare .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-soundcloud .stipple-dot-box-title .stipple-dot-box-title-text{padding:15px 10px 0!important}.stipple-dot-box-info-facebook span.stipple-attribution,.stipple-dot-box-info-twitter span.stipple-attribution,.stipple-dot-box-info-foursquare span.stipple-attribution,.stipple-dot-box-info-soundcloud span.stipple-attribution{margin-bottom:10px!important;max-width:205px!important}.stipple-dot-box-info-facebook .stipple-info-dot-box-note,.stipple-dot-box-info-twitter .stipple-info-dot-box-note,.stipple-dot-box-info-foursquare .stipple-info-dot-box-note,.stipple-dot-box-info-soundcloud .stipple-info-dot-box-note{margin-bottom:10px!important}.stipple-dot-box-info-googlemaps .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-itunes .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-wikipedia .stipple-dot-box-title .stipple-dot-box-title-text{padding:15px 10px 10px!important}.stipple-dot-box-info-youtube .stipple-dot-box-title .stipple-dot-box-title-text,.stipple-dot-box-info-vimeo .stipple-dot-box-title .stipple-dot-box-title-text{padding-bottom:0!important}.stipple-dot-box-info-itunes .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image{margin-left:0!important;margin-right:5px!important}.stipple-dot-box-info-itunes .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image img{max-width:100px!important;max-height:100px!important}.stipple-dot-box-info-itunes .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-container{position:relative!important;top:36px!important}.stipple-dot-box-info-itunes .stipple-dot-box-inner .stipple-link-data .stipple-buy-button{cursor:pointer!important;vertical-align:middle!important;color:white!important;background-color:#35aaf0!important;background:-webkit-linear-gradient(#35aaf0 0,#258de4 100%)!important;background:-moz-linear-gradient(#35aaf0 0,#258de4 100%)!important;background:-ms-linear-gradient(#35aaf0 0,#258de4 100%)!important;background:linear-gradient(#35aaf0 0,#258de4 100%)!important;border:none;-moz-border-radius:3px!important;-webkit-border-radius:3px!important;border-radius:3px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;-moz-text-shadow:rgba(0,0,0,0.5) 0 1px 0!important;-webkit-text-shadow:rgba(0,0,0,0.5) 0 1px 0!important;text-shadow:rgba(0,0,0,0.5) 0 1px 0!important;width:auto!important;font-weight:400!important;height:26px!important;font-size:13px!important;padding:0 22px!important}.stipple-dot-box a,.stipple-link-previews .stipple-link-data a{color:#666!important;text-decoration:none!important;border-bottom:1px dotted #ccc!important}.stipple-dot-box a.stipple-linked-image,.stipple-link-previews .stipple-link-data a.stipple-linked-image{border-bottom:none!important}.stipple-dot-box-product .stipple-dot-box-title{display:block!important}.stipple-dot-box-product .stipple-product-brand{font-size:12px!important}.stipple-dot-box-product .stipple-price-and-links{display:block!important;vertical-align:top!important}.stipple-dot-box-product .stipple-price-and-links .stipple-price{font-size:12px!important;word-wrap:break-word!important}.stipple-dot-box-product .stipple-price-and-links .stipple-product-price-separator{font-size:9px!important}.stipple-dot-box-product .stipple-product-info{float:left!important;margin-left:10px!important;min-width:130px!important;max-width:230px!important}.stipple-dot-box-product .stipple-dot-box-inner{min-width:200px!important;min-height:60px!important;max-width:300px!important;padding:0 10px 10px!important;-moz-border-radius-bottomleft:0!important;-webkit-border-bottom-left-radius:0!important;border-bottom-left-radius:0!important;-moz-border-radius-bottomright:0!important;-webkit-border-bottom-right-radius:0!important;border-bottom-right-radius:0!important}.stipple-dot-box-product .stipple-dot-box-inner img.stipple-product-dot-image{width:inherit!important;height:auto!important;display:block!important;max-width:60px!important;max-height:60px!important;margin-left:auto!important;margin-right:auto!important;-webkit-border-radius:2px!important;border-radius:2px!important}.stipple-dot-box-product .stipple-dot-box-inner .stipple-product-dot-image-container{max-width:60px!important;max-height:60px!important;float:left!important;word-wrap:break-word!important;margin:0!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;position:relative}.stipple-dot-box-product .stipple-dot-box-inner .stipple-product-dot-image-container:after{-webkit-border-radius:2px!important;border-radius:2px!important;-moz-box-shadow:1px 1px 0 rgba(0,0,0,0.3) inset,-1px -1px 0 rgba(0,0,0,0.3) inset,0 1px 0 rgba(255,255,255,0.75)!important;-webkit-box-shadow:1px 1px 0 rgba(0,0,0,0.3) inset,-1px -1px 0 rgba(0,0,0,0.3) inset,0 1px 0 rgba(255,255,255,0.75)!important;box-shadow:1px 1px 0 rgba(0,0,0,0.3) inset,-1px -1px 0 rgba(0,0,0,0.3) inset,0 1px 0 rgba(255,255,255,0.75)!important;position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;content:""!important}.stipple-dot-box-product .stipple-dot-box-inner .stipple-product-dot-image-container .stipple-dot-box-popup-link{width:60px!important;display:block!important;float:left!important;margin:0!important;overflow:hidden!important;-moz-box-shadow:0 1px 0 white!important;-webkit-box-shadow:0 1px 0 white!important;box-shadow:0 1px 0 white!important}.stipple-dot-box-product .stipple-dot-box-inner .stipple-product-dot-image-container .stipple-dot-box-popup-link>div{float:none!important}.stipple-dot-box-product .stipple-dot-box-inner .stipple-product-dot-button-container{margin-top:9px!important}.stipple-dot-box-product .stipple-local-offers-container{max-width:300px!important;font-size:12px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-prompt{color:#efefef!important;-moz-text-shadow:0 -1px 0 black!important;-webkit-text-shadow:0 -1px 0 black!important;text-shadow:0 -1px 0 black!important;-moz-box-shadow:0 1px 0 #b2b2b2 inset,0 1px 6px rgba(0,0,0,0.2)!important;-webkit-box-shadow:0 1px 0 #b2b2b2 inset,0 1px 6px rgba(0,0,0,0.2)!important;box-shadow:0 1px 0 #b2b2b2 inset,0 1px 6px rgba(0,0,0,0.2)!important;-webkit-text-stroke:1px solid #202020!important;background-color:#262626!important;cursor:pointer!important;text-align:center!important;height:25px!important;-moz-border-radius-bottomleft:2px!important;-webkit-border-bottom-left-radius:2px!important;border-bottom-left-radius:2px!important;-moz-border-radius-bottomright:2px!important;-webkit-border-bottom-right-radius:2px!important;border-bottom-right-radius:2px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-prompt .stipple-local-offers-prompt-inner{padding-top:4px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-prompt img,.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-prompt .stipple-local-offers-text{vertical-align:middle!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list{background-color:white!important;padding:3px 6px 3px 6px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list a,.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list a:hover{color:#09f!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-container{padding:3px 0!important;text-align:left!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-container .stipple-local-offer-content{vertical-align:middle!important;display:inline-block!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-container .stipple-local-offer-image ~ .stipple-local-offer-content{max-width:263px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-container .stipple-local-offer-image{width:20px!important;vertical-align:middle!important;word-wrap:break-word!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-provider,.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-price{font-weight:bold!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-address{font-size:10px!important}.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-address a,.stipple-dot-box-product .stipple-local-offers-container .stipple-local-offers-list .stipple-local-offer-address a:hover{color:#333!important}a.stipple-shop{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;height:20px!important;line-height:20px!important;text-align:center!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-weight:bold!important;font-size:10px!important;font-style:normal!important;cursor:pointer!important;text-decoration:none!important;padding:0!important;border:1px solid #b3aaaa!important;color:#404040!important;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#e6e6e6))!important;background:-moz-linear-gradient(top,#fff,#e6e6e6)!important;background:-webkit-linear-gradient(top,#fff,#e6e6e6)!important;display:inline-block!important;height:20px!important;width:48px!important}a.stipple-shop:active{position:relative!important;top:1px!important}a.stipple-shop:active{position:relative!important;top:1px!important}.stipple-new-dot-container form .stipple-product-fields .stipple-autocomplete-box{position:absolute!important;border-top:none!important}.stipple-new-dot-container form .stipple-product-fields .stipple-autocomplete-box .stipple-autocomplete-item{width:220px!important}.stipple-new-dot-container .stipple-autocomplete-box{border-top:1px solid #bebebe!important;padding:5px 0!important;z-index:125000!important;display:none;height:140px!important;overflow-x:hidden!important;overflow-y:auto!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-add-product-button{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;height:20px!important;line-height:20px!important;text-align:center!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-weight:bold!important;font-size:10px!important;font-style:normal!important;cursor:pointer!important;text-decoration:none!important;padding:0!important;border:1px solid #b3aaaa!important;color:#404040!important;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(#e6e6e6))!important;background:-moz-linear-gradient(top,#fff,#e6e6e6)!important;background:-webkit-linear-gradient(top,#fff,#e6e6e6)!important;margin-bottom:5px!important;margin-top:10px!important;width:100px!important;margin-top:4px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-add-product-button:active{position:relative!important;top:1px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-add-product-prompt{color:#666!important;font-style:italic!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results{height:140px!important;text-align:center!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader .stipple-autocomplete-add-product-button,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader .stipple-autocomplete-add-product-prompt,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader .stipple-ajax-spinner,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results .stipple-autocomplete-add-product-button,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results .stipple-autocomplete-add-product-prompt,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results .stipple-ajax-spinner{text-align:center!important;position:relative!important;top:60px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader .stipple-autocomplete-add-product-button:active,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results .stipple-autocomplete-add-product-button:active{top:61px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-ajax-loader img,.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-no-results img{height:20px!important;width:20px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-items{list-style:none!important;padding:0!important;margin:0!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-items .stipple-autocomplete-add-product-prompt{text-align:center!important;margin-top:10px!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-item{cursor:pointer!important;padding:5px 0 5px 10px!important;font-style:normal!important;font-weight:normal!important;background-color:transparent!important;color:#666!important;margin:0!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-add-product{text-align:center!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-selected{background-color:#f1f1f1!important}.stipple-new-dot-container .stipple-autocomplete-box .stipple-autocomplete-partial-match{text-decoration:underline!important;font-weight:bold!important}.stipple-new-dot-container .stipple-autocomplete-provider-photo,.stipple-new-dot-container .stipple-autocomplete-names{display:inline-block!important;vertical-align:top!important;-moz-box-shadow:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:none!important}.stipple-new-dot-container .stipple-autocomplete-provider-photo .stipple-autocomplete-brand-name,.stipple-new-dot-container .stipple-autocomplete-names .stipple-autocomplete-brand-name{max-width:190px!important;margin-top:4px!important}.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-friend-avatar,.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-provider-photo,.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-product-image{width:32px!important;height:32px!important;padding:0!important}.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-product-image{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;border:1px solid #989898!important;margin-left:6px!important}.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-names{margin-left:9px!important;max-width:190px!important}.stipple-dottable-wrapper.stipple-static-photo-top .stipple-photo-top{display:block!important;opacity:1!important}.stipple-photo-top,.stipple-photo-actions{z-index:175000!important;min-height:30px!important;position:absolute!important;background:-webkit-linear-gradient(rgba(76,76,76,0.6) 0,rgba(44,44,44,0.6) 50%,rgba(0,0,0,0.6) 50%,rgba(19,19,19,0.6) 100%)!important;background:-moz-linear-gradient(rgba(76,76,76,0.6) 0,rgba(44,44,44,0.6) 50%,rgba(0,0,0,0.6) 50%,rgba(19,19,19,0.6) 100%)!important;background:-ms-linear-gradient(rgba(76,76,76,0.6) 0,rgba(44,44,44,0.6) 50%,rgba(0,0,0,0.6) 50%,rgba(19,19,19,0.6) 100%)!important;background:linear-gradient(rgba(76,76,76,0.6) 0,rgba(44,44,44,0.6) 50%,rgba(0,0,0,0.6) 50%,rgba(19,19,19,0.6) 100%)!important;-webkit-box-shadow:rgba(0,0,0,0.25) 0 1px 0 inset!important;-moz-box-shadow:rgba(0,0,0,0.25) 0 1px 0 inset!important;box-shadow:rgba(0,0,0,0.25) 0 1px 0 inset!important}.stipple-photo-top{left:0!important;top:0!important;width:100%!important;border-bottom:1px solid rgba(0,0,0,0.5)!important;height:30px!important;line-height:normal!important}.stipple-photo-top .stipple-show-product-container{overflow:hidden!important;text-align:left!important;margin:0 5px 0 10px!important}.stipple-photo-top .stipple-show-product-container{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;line-height:30px!important;color:#f1f1f1;font-weight:normal!important;white-space:nowrap!important;text-overflow:ellipsis!important;-moz-text-shadow:rgba(0,0,0,0.75) 0 1px 0!important;-webkit-text-shadow:rgba(0,0,0,0.75) 0 1px 0!important;text-shadow:rgba(0,0,0,0.75) 0 1px 0!important}.stipple-photo-top .stipple-show-product-container>*{vertical-align:middle!important}.stipple-photo-top .stipple-show-product-container .stipple-product-name{background-image:none!important;height:auto!important;width:auto!important;text-indent:0!important;margin:auto!important;color:black!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:12px!important;font-weight:bold!important;line-height:normal!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;margin:0!important;word-wrap:break-word!important;max-width:270px!important;color:#f1f1f1!important;-moz-text-shadow:rgba(0,0,0,0.75) 0 1px 0!important;-webkit-text-shadow:rgba(0,0,0,0.75) 0 1px 0!important;text-shadow:rgba(0,0,0,0.75) 0 1px 0!important;float:none!important;margin-left:3px!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;display:inline-block!important;height:16px!important;line-height:16px!important}.stipple-photo-top .stipple-show-product-container .stipple-product-name .stipple-dot-box-title-text{padding:15px 10px 5px!important;float:left!important;word-wrap:break-word!important;max-width:75%!important}.stipple-photo-top .stipple-show-product-container .stipple-product-name .stipple-dot-box-close-button{position:absolute!important;top:0!important;right:0!important;height:45px!important;width:45px!important;cursor:pointer!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important;background-position:-18px 0!important}.stipple-photo-top .stipple-show-product-container .stipple-product-name a{color:#262626!important;text-decoration:none!important;border-bottom:1px dotted #ccc!important}.stipple-photo-top .stipple-show-product-container .stipple-product-brand,.stipple-photo-top .stipple-show-product-container .stipple-price,.stipple-photo-top .stipple-show-product-container .stipple-product-name{margin-left:3px!important}.stipple-photo-top .stipple-show-product-container .stipple-bull-separator{font-size:8px!important;margin-left:3px!important}.stipple-photo-top a.stipple-shop,.stipple-photo-top input.stipple-button{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;height:20px!important;line-height:20px!important;text-align:center!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-weight:bold!important;font-size:10px!important;font-style:normal!important;cursor:pointer!important;text-decoration:none!important;padding:0!important;color:white!important;border:1px solid black!important;-moz-text-shadow:black 0 1px 1px!important;-webkit-text-shadow:black 0 1px 1px!important;text-shadow:black 0 1px 1px!important;-moz-box-shadow:rgba(0,0,0,0.15) 0 1px 0,rgba(255,255,255,0.25) 0 1px 0 inset!important;-webkit-box-shadow:rgba(0,0,0,0.15) 0 1px 0,rgba(255,255,255,0.25) 0 1px 0 inset!important;box-shadow:rgba(0,0,0,0.15) 0 1px 0,rgba(255,255,255,0.25) 0 1px 0 inset!important;background:darkgray!important;background:-moz-linear-gradient(#4b4b4b,#242424)!important;background:-webkit-linear-gradient(#4b4b4b,#242424)!important;background:-ms-linear-gradient(#4b4b4b,#242424)!important;background:linear-gradient(#4b4b4b,#242424)!important;font-size:11px!important}.stipple-photo-top a.stipple-shop:active,.stipple-photo-top input.stipple-button:active{position:relative!important;top:1px!important}.stipple-photo-actions{display:inline-block;left:0!important;bottom:0!important;right:auto!important;top:auto!important;height:30px!important;border-top:1px solid black!important;border-right:1px solid black!important;border-top:1px solid rgba(0,0,0,0.5)!important;border-right:1px solid rgba(0,0,0,0.5)!important;-moz-border-top-right-radius:2px!important;-webkit-border-top-right-radius:2px!important;border-top-right-radius:2px!important;-moz-box-shadow:rgba(255,255,255,0.25) 0 1px 0 inset!important;-webkit-box-shadow:rgba(255,255,255,0.25) 0 1px 0 inset!important;box-shadow:rgba(255,255,255,0.25) 0 1px 0 inset!important}.stipple-photo-actions .stipple-photo-action{display:block!important;width:36px!important;height:30px!important;border:none!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-position:center!important;float:left!important}.stipple-photo-actions .stipple-photo-action-tag{background-position:-292px 0!important}.stipple-photo-actions .stipple-photo-action-tag.stipple-active{background-position:-256px 0!important}.stipple-photo-actions .stipple-photo-actions-divider{display:block!important;float:left!important;height:30px!important;width:1px!important;background-color:black!important;background-color:rgba(0,0,0,0.5)!important}.stipple-dottable-wrapper .stipple-mobile-call-to-action{height:45px!important;width:45px!important;display:block;margin:0!important;padding:0!important;position:absolute!important;top:0!important;left:0!important;right:auto!important;bottom:auto!important;background-image:url(//stipple.cachefly.net/production/dots/mobile/sprite.png)!important;background-repeat:no-repeat!important;background-position:-360px 0!important;cursor:pointer!important;z-index:155001!important}.stipple-dottable-wrapper .stipple-mobile-call-to-action.stipple-active{display:none}.stipple-dottable-wrapper .stipple-call-to-action{height:30px!important;width:30px!important;display:block;filter:alpha(opacity=0);opacity:0;margin:0!important;padding:0!important;position:absolute!important;top:10px!important;right:10px!important;left:auto!important;bottom:auto!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-position:-136px 0!important;cursor:pointer!important;z-index:155000!important}.stipple-dottable-wrapper .stipple-call-to-action.stipple-dot-type-close{background-image:url(//stipple.cachefly.net/production/dots/sprite.png)!important}.stipple-dottable-wrapper.stipple-mobile .stipple-call-to-action{top:0!important;right:0!important;height:45px!important;width:45px!important;background-image:url(//stipple.cachefly.net/production/dots/mobile/sprite.png)!important;background-position:-45px 0!important}.stipple-metadata-box,.stipple-shop-box{background-color:white!important;background-color:rgba(255,255,255,0.95)!important;*background-color:white!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;border:none!important;-moz-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;-webkit-box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;box-shadow:0 1px 7px rgba(0,0,0,0.4)!important;color:#666!important;position:absolute!important;margin:0!important;z-index:210000!important;font-size:11px!important;line-height:normal!important;-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important}.stipple-metadata-box input[type="text"],.stipple-metadata-box input[type="url"],.stipple-metadata-box input[type="number"],.stipple-metadata-box textarea,.stipple-shop-box input[type="text"],.stipple-shop-box input[type="url"],.stipple-shop-box input[type="number"],.stipple-shop-box textarea{-moz-border-radius:2px!important;-webkit-border-radius:2px!important;border-radius:2px!important;border:1px solid #ccc!important;font-size:10px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;-moz-box-shadow:0 1px 0 #e7e7e7 inset!important;-webkit-box-shadow:0 1px 0 #e7e7e7 inset!important;box-shadow:0 1px 0 #e7e7e7 inset!important;padding:0 5px!important;color:darkgray!important;padding-top:3px!important}.stipple-metadata-box a,.stipple-shop-box a{-moz-box-shadow:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;display:inline!important;padding:0!important;font-size:11px!important;-moz-text-shadow:0 1px 0 white!important;-webkit-text-shadow:0 1px 0 white!important;text-shadow:0 1px 0 white!important;background:none!important;border:none!important;border-bottom:1px dotted #ccc!important;-moz-border-radius:0!important;-webkit-border-radius:0!important;border-radius:0!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;text-decoration:none!important;color:#666!important}.stipple-metadata-box .stipple-metadata-content,.stipple-shop-box .stipple-metadata-content{margin:2px 0 0!important;word-wrap:break-word!important}.stipple-metadata-box{padding:20px 15px 15px!important;width:245px!important;font-weight:normal!important}.stipple-metadata-box .stipple-metadata-box-first-child,.stipple-metadata-box .stipple-hidden{height:0!important;width:0!important;margin:0!important;padding:0!important}.stipple-metadata-box .stipple-metadata-box-first-child+.stipple-metadata-container,.stipple-metadata-box .stipple-hidden+.stipple-metadata-container{border-top-style:none!important;padding-top:0!important}.stipple-metadata-box .stipple-metadata-container{border-top:1px solid #d8d8d8!important;padding-top:15px!important;margin-bottom:15px!important}.stipple-metadata-box .stipple-metadata-container:last-child{margin-bottom:0!important}.stipple-metadata-box .stipple-metadata-copyright-holder-claim-flag{position:absolute!important;top:0!important;right:15px!important;width:18px!important;height:19px!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-position:0 0!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container{margin-left:auto!important;margin-right:auto!important;padding:0!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-avatar-container{float:left!important;height:50px!important;width:50px!important;margin-right:10px!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-avatar-container a{border:none!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-avatar-container .stipple-metadata-copyright-holder-avatar{width:50px!important;height:50px!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-info{overflow:hidden!important;margin:0!important;text-align:left!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-name{display:block!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:14px!important;color:#3c83b8!important;text-decoration:none!important;border:none!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-website a{display:block!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:10px!important;color:#666!important;text-decoration:underline!important;border:none!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-website .stipple-metadata-copyright-holder-website-icon{display:inline-block!important;margin:0 0 0 5px!important;padding:0!important;height:9px!important;width:9px!important;position:relative!important;top:2px!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-position:-63px 0!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities{margin-top:5px!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities .stipple-identity-provider-link{display:block!important;float:left!important;width:16px!important;height:16px!important;margin-right:5px!important;background-image:url(//stipple.cachefly.net/production/external/icon/sprite.png)!important;background-repeat:no-repeat!important;background-attachment:scroll!important;background-color:transparent!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities .stipple-identity-provider-link-facebook{background-position:-72px 0!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities .stipple-identity-provider-link-flickr{background-position:-88px 0!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities .stipple-identity-provider-link-google-plus{background-position:-104px 0!important}.stipple-metadata-box .stipple-metadata-copyright-holder-container .stipple-metadata-copyright-holder-identities .stipple-identity-provider-link-twitter{background-position:-120px 0!important}.stipple-metadata-box .stipple-metadata-caption{margin-left:auto!important;margin-right:auto!important;color:#666!important;font-weight:normal!important;text-align:left!important;word-wrap:break-word!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:11px!important;line-height:16px!important}.stipple-metadata-box .stipple-metadata-caption a{border-bottom:none!important}.stipple-metadata-box .stipple-metadata-caption a:hover{text-decoration:underline!important}.stipple-metadata-box .stipple-metadata-field-container{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;color:#666!important}.stipple-metadata-box .stipple-metadata-field-container:last-child{margin-bottom:5px!important}.stipple-metadata-box span.stipple-metadata-field-label{display:inline-block!important;float:left!important;text-align:right!important;width:75px!important;color:#80868a!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:11px!important;line-height:16px!important}.stipple-metadata-box span.stipple-metadata-field-value{float:left!important;word-wrap:break-word!important;text-align:left!important;margin-left:5px!important;color:#666!important;display:inline-block!important;max-width:165px!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:11px!important;line-height:16px!important}.stipple-metadata-box .stipple-metadata-source-page-value a,.stipple-metadata-box .stipple-metadata-tagger-name-value a{display:inline-block!important;max-width:165px!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;border:none!important;text-decoration:underline!important}.stipple-metadata-box .stipple-metadata-powered-by{text-align:right!important;color:#666!important;margin:auto!important}.stipple-metadata-box .stipple-metadata-powered-by a{color:#666!important;font-weight:bold!important;border:none!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:11px!important;line-height:16px!important}.stipple-dottable-wrapper .stipple-hidden,.stipple-metadata-box .stipple-hidden,.stipple-new-dot-container .stipple-hidden{display:none}.stipple-ajax-spinner-background{z-index:425000!important;width:107px!important;height:107px!important;background-image:url(//stipple.cachefly.net/production/external/spinner-bg.png)!important;background-repeat:no-repeat!important;position:absolute!important}.stipple-ajax-spinner-background img{position:absolute!important;top:40px!important;left:44px!important}\n</style>\n');
h.external_css_ie=c('\x3c!--[if IE]>\n<style type="text/css">\na.stipple-shop,a.stipple-want,a.stipple-button,.stipple-edit-button{background-color:#f3f3f3!important;width:auto!important;overflow:visible!important}a.stipple-want.stipple-wanted{background-color:#565656!important}.stipple-dot-box .stipple-dot-box-title{width:270px!important}.stipple-dot-box .stipple-dot-box-title .stipple-dot-box-title-text{width:205px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image,.stipple-new-dot-container-form form .stipple-link-previews .stipple-link-data .stipple-link-data-image{width:60px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-container,.stipple-new-dot-container-form form .stipple-link-previews .stipple-link-data .stipple-link-data-description-container{width:160px!important}.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-wide-container,.stipple-new-dot-container-form form .stipple-link-previews .stipple-link-data .stipple-link-data-description-wide-container{width:240px!important}.stipple-photo-top,.stipple-photo-actions{background-color:#303030!important}.stipple-photo-top{border-bottom:1px solid black!important}\n</style>\n<![endif]--\x3e\n');
h.external_css_ie7=c('\x3c!--[if IE 7]>\n<style type="text/css">\na.stipple-toolbar-button,.stipple-dot-box .stipple-dot-box-inner .stipple-info img,.stipple-dot-box .stipple-price-and-links,.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-image,.stipple-dot-box .stipple-dot-box-inner .stipple-link-data .stipple-link-data-description-container,.stipple-new-dot-container .stipple-new-dot-chooser .stipple-new-dot-choice,a.stipple-dot-box-button .stipple-button-label,.stipple-autocomplete-box .stipple-autocomplete-item-person .stipple-autocomplete-provider-photo,.stipple-autocomplete-box .stipple-autocomplete-item-person .stipple-autocomplete-friend-avatar,.stipple-autocomplete-box .stipple-autocomplete-item-person .stipple-autocomplete-names-and-link,.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-product-image,.stipple-new-dot-container .stipple-autocomplete-item-product .stipple-autocomplete-names,.stipple-dot-box-person .stipple-dot-box-person-avatar,.stipple-dot-box-person .stipple-dot-box-person-content,.stipple-dot-box-person .stipple-dot-box-person-byline .stipple-dot-box-person-screen-name,.stipple-dot-box-person .stipple-dot-box-person-byline .stipple-dot-box-person-url,.stipple-call-to-action{display:inline!important;zoom:1!important}.stipple-new-dot-container .stipple-new-dot-forms input{display:block;width:235px!important;margin-top:3px!important;margin-bottom:3px!important}.stipple-new-dot-container .stipple-new-dot-forms .stipple-new-dot-buttons .stipple-button{width:60px!important;display:inline}\n</style>\n<![endif]--\x3e\n');
h.info_dot_content=c("<div>\n  <% if (typeof link_data === 'object' && link_data) { %>\n    <% if (link_data.attribution && link_data.attribution.length) { %>\n      <span class=\"stipple-attribution\">\n        <%= link_data.attribution %>\n      </span>\n    <% } %>\n  <% } %>\n\n  <div style=\"clear: both;\">  </div>\n</div>\n\n<% if (note && note.length) { %>\n  <div class=\"stipple-note stipple-info-dot-box-note\">\n    <%= note %>\n  </div>\n<% } %>\n\n<% if (typeof link_data === 'object' && link_data) { %>\n  <% \n    var name = link_data.name.toLowerCase();\n    link_data.staticHostname = staticHostname;\n  %>\n              \n  <%= JST['link_template_' + name] ? JST['link_template_' + name](link_data) : JST.link_template(link_data) %>\n<% } %>\n");
h.info_dot_media=c("<% if (typeof link_data === 'object' && link_data) { %>\n  <%\n    var name = link_data.name.toLowerCase();\n    link_data.staticHostname = staticHostname;\n  %>\n  <%= JST['link_template_' + name] ? JST['link_template_' + name](link_data) : JST.link_template(link_data) %>\n<% } %>\n\n<div style=\"margin-top: 10px !important;\">\n  \n  <% if (typeof link_data === 'object' && link_data) { %>\n    <% if (link_data.attribution && link_data.attribution.length) { %>\n      <div class=\"stipple-attribution\">\n        <%= link_data.attribution %>\n      </div>\n    <% } %>\n  <% } %>\n\n</div>\n\n<% if (note && note.length) { %>\n  <div class=\"stipple-note stipple-info-dot-box-note\">\n    <%= note %>\n  </div>\n<% } %>\n\n");
h.link_template=c('<div class="stipple-link-data">\n  <% if (image && image.length) { %>\n    <div class="stipple-link-data-image" style="height: 60px;">\n      <a href="<%= url %>" target="_blank">\n        <img src="<%= image %>" />\n      </a>\n    </div>\n  <% } %>\n    \n  <div class="stipple-link-data-description-container <%= (image && image.length) ? \'\' : "stipple-link-data-description-wide-container"%>">\n    <div class="stipple-link-data-description">\n      <%= content %>\n    </div>\n  </div>\n  \n  <div style="clear: both;"></div>\n</div>');
h.link_template_eventbrite=c('<div class="stipple-link-data">\n  <div class="stipple-link-data-image" style="height: 60px;">\n    <a href="<%= url %>" target="_blank">\n      <img src="<%= image %>" />\n    </a>\n  </div>\n  \n  <div class="stipple-link-data-description-container">\n    <div class="stipple-link-data-description">\n      <strong>Location:</strong> <%= content.address %>\n      <br />\n      <strong>Time:</strong> <%= content.datetime %>\n      <br />\n      <strong>Hosted By:</strong> <%= content.host %>\n    </div>\n  </div>\n  \n  <div style="clear: both;"></div>\n</div>');
h.link_template_facebook=c('<div class="stipple-link-data">\n  <% if (image && image.length) { %>\n    <div class="stipple-link-data-image" style="height: 60px;">\n      <a href="<%= url %>" target="_blank">\n        <img src="<%= image %>" />\n      </a>\n    </div>\n  <% } %>\n    \n  <div class="stipple-link-data-description-container <%= (image && image.length) ? \'\' : "stipple-link-data-description-wide-container"%>">\n    <div class="stipple-link-data-description">\n      <% if (typeof type !== \'undefined\' && type === \'user\') { %>\n        \x3c!--<iframe class="stipple-dotbox-fb-follow-button" src="//www.facebook.com/plugins/follow.php?href=<%= encodeURIComponent(url) %>&amp;send=false&amp;layout=button_count&amp;width=180&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:180px; height:20px; margin-top:15px !important; position:relative;" allowTransparency="true"></iframe>--\x3e\n    <% } else { %>\n        <iframe class="stipple-dotbox-fb-like-button" src="//www.facebook.com/plugins/like.php?href=<%= encodeURIComponent(url) %>&amp;send=false&amp;layout=button_count&amp;width=180&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:180px; height:20px; margin-top:15px !important; position:relative;" allowTransparency="true"></iframe>\n      <% } %>\n    </div>\n  </div>\n  \n  <div style="clear: both;"></div>\n</div>');
h.link_template_flickr=c('<div class="stipple-link-data">\n  <div class="stipple-embed-container">\n    <a href="<%= url %>" class="stipple-linked-image" target="_blank">\n      <img class="stipple-embedded-image" src="<%= image %>" alt="<%= url %>" />\n    </a>\n  </div>\n</div>');h.link_template_genericvideo=c('<div class="stipple-link-data">\n  <% width = typeof max_width === "undefined" ? 321 : max_width; %>\n  <% height = typeof max_height === "undefined" ? (240 * width) / 321 : max_height; %>\n  <span class="stipple-flash-toggler" style="display: none;" data-flash-content="<iframe width=\'<%= width %>\' height=\'<%= height %>\' src=\'<%= embed_src %>\'></iframe>" data-click-content="<div class=\'stipple-embed-click-to-play\' data-source=\'<%= link_src %>\'><img width=\'<%= width %>\' src=\'<%= image %>\' alt=\'Click to Play\'/></div>"></span>\n  <div class="stipple-embed-container" style="height: auto;">\n    <div class="stipple-embed-click-to-play" data-source="<%= link_src %>"><img width="<%= width %>" src="<%= image %>" alt="Click to Play"/></div>\n  </div>\n</div>');
h.link_template_googlemaps=c('<div class="stipple-link-data">\n  <div class="stipple-embed-container" style="height: 205px;">\n    <iframe src="<%= url.replace("http:", "https:") %>&amp;t=m&amp;ie=UTF8&amp;output=embed&amp;iwloc=" width="250" height="205" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" webkitAllowFullScreen allowFullScreen></iframe>\n  </div>\n</div>');h.link_template_image=c('<div class="stipple-link-data">\n  <div class="stipple-embed-container">\n    <a href="<%= url %>" class="stipple-linked-image" target="_blank">\n      <img class="stipple-embedded-image" src="<%= image %>" alt="<%= url %>" />\n    </a>\n  </div>\n</div>');
h.link_template_imgur=c('<div class="stipple-link-data">\n  <div class="stipple-embed-container">\n    <a href="<%= url %>" class="stipple-linked-image" target="_blank">\n      <img class="stipple-embedded-image" src="<%= image %>" alt="<%= url %>" />\n    </a>\n  </div>\n</div>');h.link_template_itunes=c('<div class="stipple-link-data">\n  <div class="stipple-link-data-image" style="height: 100px;">\n    <a href="<%= url %>" target="_blank">\n      <img src="<%= image %>" />\n    </a>\n  </div>\n  \n  \n  <div class="stipple-link-data-description-container">\n    <a href="<%= url %>" target="_blank">\n      <button class="stipple-buy-button" type="button">Buy on iTunes &raquo;</button>\n    </a>\n  </div>\n\n  <% if ((typeof content !== \'undefined\') && content && (document.createElement(\'audio\').canPlayType) && (document.createElement(\'audio\').canPlayType(\'audio/mp4\'))) { %>\n    <audio class="stipple-itunes-audio-preview" controls onplay="(typeof CustomEvent !== \'undefined\') ? this.dispatchEvent(new CustomEvent(\'stipplePlay\', {bubbles: true})) : true;" src="<%= content %>"></audio>\n  <% } %>\n  \n  <div style="clear: both;"></div>\n</div> ');
h.link_template_mlbvideo=c("<div class=\"stipple-link-data\">\n  <% width = typeof max_width === \"undefined\" ? 321 : max_width; %>\n  <% height = (180 * width) / 321; %>\n  <span class=\"stipple-flash-toggler\" style=\"display: none;\" data-flash-content=\"<object width='<%= width %>' height='<%= height %>' type='application/x-shockwave-flash' allowscriptaccess='never' allowfullscreen='true' scale='noscale' salign='tl' data='http://mlb.mlb.com/shared/flash/video/share/ObjectEmbedFrame.swf?content_id=<%= id %>&amp;v=1&width=<%= width %>&height=<%= height %>' style='visibility: visible;'><param name='scale' value='showall'><param name='wmode' value='transparent'></object>\" data-click-content=\"<div class='stipple-embed-click-to-play' data-source='mlbvideo'><img height='<%= height %>' src='<%= image %>' alt='Click to Play'/></div>\"></span>\n  <div class=\"stipple-embed-container\" style=\"height: <%= height %>px;\">\n    <div class=\"stipple-embed-click-to-play\" data-source=\"mlbvideo\"><img height=\"<%= height %>\" src=\"<%= image %>\" alt=\"Click to Play\"/></div>\n  </div>\n</div>");
h.link_template_rcs=c("<div class=\"stipple-link-data\">\n  <% width = typeof max_width === \"undefined\" ? 321 : max_width; %>\n  <% height = (190 * width) / 321; %>\n  <span class=\"stipple-flash-toggler\" style=\"display: none;\" data-flash-content=\"<embed width='<%= width %>' height='<%= height %>' align='middle' type='application/x-shockwave-flash' pluginspage='http://www.adobe.com/go/getflashplayer' allowscriptaccess='always' allowfullscreen='true' wmode='transparent' name='polyshowEmbed' quality='high' flashvars='configId=4&configUrl=../content/conf/CorrierePolymediaShow_embedded_640.xml&autostart=false&configAdvLabel=embed&configNielsenLabel=embed&videoId=<%= id %>&videoUrl=http://static2.video.corriereobjects.it/widget/content/video/rss/video_<%= id %>.rss&logo=http://static2.video.corriereobjects.it/widget/img/logocorriere.png&advTemplateUrl=http://video.corriere.it/widget/content/adv/advtemplate_108.xml&newsPaper=corriere&clickUrl=http://video.corriere.it/' src='http://static2.video.corriereobjects.it/widget/swf/CorrierePolymediaShow.swf'/>\" data-click-content=\"<div class='stipple-embed-click-to-play' data-source='rcs'><img height='<%= height %>' src='<%= image %>' alt='Click to Play'/></div>\"></span>\n  <div class=\"stipple-embed-container\" style=\"height: <%= height %>px;\">\n    <div class=\"stipple-embed-click-to-play\" data-source=\"rcs\"><img height=\"<%= height %>\" src=\"<%= image %>\" alt=\"Click to Play\"/></div>\n  </div>\n</div>");
h.link_template_soundcloud=c('<div class="stipple-link-data">\n  <span class="stipple-flash-toggler" style="display: none;" data-flash-content=\'<%= embed_html.replace("\'", "&#39;") %>\' data-click-content="<div class=\'stipple-embed-click-to-play\' data-source=\'soundcloud\'><img style=\'height: auto; max-width: 250px;\' src=\'<%= image %>\' alt=\'Click to Play\'/></div>"></span>\n  <div class="stipple-embed-container" style="height: auto;">\n    <div class="stipple-embed-click-to-play" data-source="soundcloud"><img style="height: auto; max-width: 250px;" src="<%= image %>" alt="Click to Play"/></div>\n  </div>\n</div>');
h.link_template_stipplephoto=c('<div class="stipple-link-data">\n  <div class="stipple-embed-container">\n    <a href="<%= url %>" class="stipple-linked-image" target="_blank">\n      <img class="stipple-embedded-image" src="<%= image %>" alt="<%= url %>" />\n    </a>\n  </div>\n</div>');h.link_template_twitter=c('<div style="position:relative;">\n  <div class="stipple-link-data">\n    <div class="stipple-link-data-image" style="height: 60px;">\n      <a href="<%= url %>" target="_blank">\n        <img src="<%= image %>" />\n      </a>\n    </div>\n\n    <div class="stipple-link-data-description-container">\n      <div>\n        <strong>\n          <%= date %>\n        </strong>\n      </div>\n      <div class="stipple-link-data-description">\n        <%= content %>\n      </div>\n    </div>\n\n    <div style="clear: both;"></div>\n  </div>\n</div>');
h.link_template_vimeo=c('<div class="stipple-link-data">\n  <% width = typeof max_width === "undefined" ? 321 : max_width; %>\n  <% height = (240 * width) / 321; %>\n  <span class="stipple-flash-toggler" style="display: none;" data-flash-content="<iframe width=\'<%= width %>\' height=\'<%= height %>\' src=\'https://player.vimeo.com/video/<%= id %>?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff&amp;autoplay=1\' frameborder=\'0\' webkitAllowFullScreen allowFullScreen></iframe>" data-click-content="<div class=\'stipple-embed-click-to-play\' data-source=\'vimeo\'><img height=\'<%= height %>\' style=\'max-width: <%= width %>px;\' src=\'<%= image %>\' alt=\'Click to Play\'/></div>"></span>\n  <div class="stipple-embed-container" style="height: <%= height %>px;">\n    <div class="stipple-embed-click-to-play" data-source="vimeo"><img height="<%= height %>" style="max-width: <%= width %>px;" src="<%= image %>" alt="Click to Play"/></div>\n  </div>\n</div>');
h.link_template_youtube=c('<div class="stipple-link-data">\n  <% width = typeof max_width === "undefined" ? 321 : max_width; %>\n  <% height = (240 * width) / 321; %>\n  <span class="stipple-flash-toggler" style="display: none;" data-flash-content="<iframe width=\'<%= width %>\' height=\'<%= height %>\' src=\'https://www.youtube.com/embed/<%= id %>?rel=0&autoplay=1&showsearch=0<%= start ? "&start=" + start : "" %>\' frameborder=\'0\' allowfullscreen></iframe>" data-click-content="<div class=\'stipple-embed-click-to-play\' data-source=\'youtube\'><img height=\'<%= height %>\' src=\'<%= image %>\' alt=\'Click to Play\'/></div>"></span>\n  <div class="stipple-embed-container" style="height: <%= height %>px;">\n    <div class="stipple-embed-click-to-play" data-source="youtube"><img height="<%= height %>" src="<%= image %>" alt="Click to Play"/></div>\n  </div>\n</div>');
h.local_offer=c('<div class="stipple-local-offer-container">\n  <% if (product_image) { %>\n    <img src="<%= product_image %>" class="stipple-local-offer-image" alt="Thumbnail for <%= product_name %>" title="<%= product_name %>"/>\n  <% } %>\n  <div class="stipple-local-offer-content">\n    <a href="<%= buy_link %>" target="_blank">\n    <span class="stipple-local-offer-provider">\n      <%= retailer_name %>\n    </span>\n      has <%= product_name %> for <span class="stipple-local-offer-price">$<%= price %></span>\n    </a>\n    <div class="stipple-local-offer-address">\n      <a href="<%= map_link %>" target="_blank">\n        <%= street %>, <%= city %> <%= state %>, <%= zip %>, <%= phone %>\n      </a>\n    </div>\n  </div>\n</div>\n');
h.metadata_box=c('<div class="stipple-metadata-box" style="display: none; opacity: 0;">\n  <div class="stipple-metadata-box-first-child"></div>\n  <% if (metadata && metadata.copyright_holder) { %>\n    <div class="stipple-metadata-copyright-holder-container stipple-metadata-container">\n      <div class="stipple-metadata-copyright-holder-avatar-container">\n        <a href="<%= metadata.copyright_holder.profile_url %>" <%= STIPPLE.stippleApp ? \'\' : \'target="_blank"\' %>>\n          <img class="stipple-metadata-copyright-holder-avatar" src="<%= metadata.copyright_holder.avatar_url %>">\n        </a>\n      </div>\n      <div class="stipple-metadata-copyright-holder-info">\n        <a href="<%= metadata.copyright_holder.profile_url %>" class="stipple-metadata-copyright-holder-name" <%= STIPPLE.stippleApp ? \'\' : \'target="_blank"\' %>>\n          <%= metadata.copyright_holder.name %>\n        </a>\n        <% if (metadata.copyright_holder.website) { %>\n          <div class="stipple-metadata-copyright-holder-website">\n            <a href="<%= metadata.copyright_holder.website %>" target="_blank"><%= metadata.copyright_holder.website.replace(new RegExp("^https?://"), \'\') %></a>\n          </div>\n        <% } %>\n\n        <div class="stipple-metadata-copyright-holder-identities">\n          <% if (metadata.copyright_holder_identities.facebook) { %>\n            <a href="<%= metadata.copyright_holder_identities.facebook %>" class="stipple-identity-provider-link stipple-identity-provider-link-facebook" target="_blank"></a>\n          <% } %>\n          \n          <% if (metadata.copyright_holder_identities.flickr) { %>\n            <a href="<%= metadata.copyright_holder_identities.flickr %>" class="stipple-identity-provider-link stipple-identity-provider-link-flickr" target="_blank"></a>\n          <% } %>\n          \n          <% if (metadata.copyright_holder_identities.google_oauth2) { %>\n            <a href="<%= metadata.copyright_holder_identities.google_oauth2 %>" class="stipple-identity-provider-link stipple-identity-provider-link-google-plus" target="_blank"></a>\n          <% } %>\n          \n          <% if (metadata.copyright_holder_identities.twitter) { %>\n            <a href="<%= metadata.copyright_holder_identities.twitter %>" class="stipple-identity-provider-link stipple-identity-provider-link-twitter" target="_blank"></a>\n          <% } %>\n          \n        </div>\n      </div>\n      <div style="height: 0; margin: 0; padding: 0; clear: both;"></div>\n    </div>\n    <div class="stipple-metadata-copyright-holder-claim-flag"></div>\n  <% } %>\n    \n  <div class="stipple-metadata-caption <%= (photo.caption && photo.caption.length) ? "stipple-metadata-container" : "stipple-hidden" %> ">\n    <%= photo.linked_caption %>\n  </div>\n\n  <% if (metadata) { %>\n    <div class="stipple-metadata-container">\n      <% if (metadata.tagger) { %>\n        <div class="stipple-metadata-tagger stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-tagger-label stipple-metadata-field-label">\n              Stippled By:\n            </span>\n            <span class="stipple-metadata-tagger-name-value stipple-metadata-field-value">\n              <a href="<%= metadata.tagger.profile_url %>" title="Stippled by <%= metadata.tagger.name %>" <%= STIPPLE.stippleApp ? \'\' : \'target="_blank"\' %>><%= metadata.tagger.name %></a>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.source_page) { %>\n        <div class="stipple-metadata-source-page stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-source-page-label stipple-metadata-field-label">\n              Source:\n            </span>\n            <span class="stipple-metadata-source-page-value stipple-metadata-field-value">\n              <a href="<%= metadata.source_page %>" title="<%= metadata.source_page %>" target="_blank"><%= metadata.source_page.replace(new RegExp("(?:^https?://|/.*$)", \'g\'), \'\') %></a>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.camera) { %>\n        <div class="stipple-metadata-camera stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-camera-label stipple-metadata-field-label">\n              Camera:\n            </span>\n            <span class="stipple-metadata-camera-value stipple-metadata-field-value">\n              <%= metadata.camera %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.focal_length) { %>\n        <div class="stipple-metadata-focal-length stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-focal-length-label stipple-metadata-field-label">\n              Focal Length:\n            </span>\n            <span class="stipple-metadata-focal-length-value stipple-metadata-field-value">\n              <%= metadata.focal_length %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.shutter_speed) { %>\n        <div class="stipple-metadata-shutter-speed stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-shutter-speed-label stipple-metadata-field-label">\n              Shutter Speed:\n            </span>\n            <span class="stipple-metadata-shutter-speed-value stipple-metadata-field-value">\n              <%= metadata.shutter_speed %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.aperture) { %>\n        <div class="stipple-metadata-aperture stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-aperture-label stipple-metadata-field-label">\n              Aperture:\n            </span>\n            <span class="stipple-metadata-aperture-value stipple-metadata-field-value">\n              <%= metadata.aperture %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.iso) { %>\n        <div class="stipple-metadata-iso stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-iso-label stipple-metadata-field-label">\n              ISO:\n            </span>\n            <span class="stipple-metadata-iso-value stipple-metadata-field-value">\n              <%= metadata.iso %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n      <% if (metadata.metadata_date) { %>\n        <div class="stipple-metadata-date stipple-metadata-field-container">\n          <div class="stipple-metadata-content">\n            <span class="stipple-metadata-date-label stipple-metadata-field-label">\n              Date Taken:\n            </span>\n            <span class="stipple-metadata-date-value stipple-metadata-field-value">\n              <%= metadata.metadata_date %>\n            </span>\n            <div style="clear: both;"></div>\n          </div>\n        </div>\n      <% } %>\n      \n    </div>\n  <% } %>\n\n  <% if (metadata.maps_link) { %>\n    <div class="stipple-metadata-map-container stipple-metadata-container">\n      <%= metadata.maps_link %>\n    </div>\n  <% } %>\n\n  <div class="stipple-metadata-powered-by">\n    <div class="stipple-metadata-content">\n      Powered by <a href="http://stipple.com" target="_blank">Stipple</a>\n    </div>\n  </div>\n</div>');
h.new_dot_container=c('<div class="stipple-new-dot-container" style="display: none; position: absolute;">\n  <div class="stipple-new-dot-chooser">\n    <div class="stipple-new-dot-choice stipple-new-dot-choose-info" data-stipple-new-dot-type="info">Link</div><div class="stipple-new-dot-choice stipple-new-dot-choose-product stipple-selected" data-stipple-new-dot-type="product">Product</div>\n  </div>\n  \n  <div class="stipple-new-dot-forms">\n  \n    <div class="stipple-new-info-dot-form-container" data-stipple-new-dot-type="info">\n      <form class="stipple-new-info-dot-form stipple-form" >\n        <input type="hidden" name="dot[dot_type]" value="info"/>\n        <input type="hidden" name="dot[entity_id]" value="<%= entity.id %>" />\n        <input type="hidden" name="dot[entity_type]" value="<%= entity.type %>" />\n        <input type="hidden" name="dot[url]" value="<%= encodeURIComponent(location_href) %>" />\n        <input type="hidden" name="dot[start_x]" value="0" />\n        <input type="hidden" name="dot[start_y]" value="0" />\n        <input type="hidden" name="image_height" value="<%= imageHeight %>" />\n        <input type="hidden" name="image_width" value="<%= imageWidth %>" />\n        <input type="hidden" name="url" value="<%= encodeURIComponent(photoUrl) %>" />\n\n        <div class="stipple-info-fields stipple-dot-specific-fields stipple-default-show">\n          <input type="text" name="dot[link]" class="stipple-empty-input" value="URL (optional)" data-stipple-empty-val="URL (optional)" autocomplete="off" />\n          <input type="text" name="dot[title]" class="stipple-empty-input" value="Title" data-stipple-empty-val="Title" autocomplete="off" />\n          <textarea name="dot[note]" class="stipple-empty-input" data-stipple-empty-val="Description" style="resize: none;">Description</textarea>\n        </div>\n\n        <div class="stipple-link-providers stipple-default-show stipple-dot-start-fields">\n          <div class="stipple-link-providers-intro">\n            Use a URL from any of these services to create a media tag:\n          </div>\n          <div class="stipple-link-providers-icons">\n            <a href="http://www.eventbrite.com" target="_blank" title="Eventbrite" class="stipple-provider-icon stipple-provider-eventbrite"></a><a href="http://www.facebook.com" target="_blank" title="Facebook" class="stipple-provider-icon stipple-provider-facebook"></a><a href="http://www.flickr.com" target="_blank" title="Flickr" class="stipple-provider-icon stipple-provider-flickr"></a><a href="http://www.foursquare.com" target="_blank" title="Foursquare" class="stipple-provider-icon stipple-provider-foursquare"></a><a href="http://www.soundcloud.com" target="_blank" title="Soundcloud" class="stipple-provider-icon stipple-provider-soundcloud"></a><a href="http://twitter.com" target="_blank" title="Twitter" class="stipple-provider-icon stipple-provider-twitter"></a><a href="http://www.vimeo.com" target="_blank" title="Vimeo" class="stipple-provider-icon stipple-provider-vimeo"></a><a href="http://www.wikipedia.org" target="_blank" title="Wikipedia" class="stipple-provider-icon stipple-provider-wikipedia"></a><a href="http://www.youtube.com" target="_blank" title="Youtube" class="stipple-provider-icon stipple-provider-youtube"></a><a href="http://maps.google.com" target="_blank" title="Google Maps" class="stipple-provider-icon stipple-provider-google-maps"></a>\n          </div>\n        </div>\n        \n        <div class="stipple-info-preview stipple-default-hide stipple-default-empty" style="display: none;">\n          \n        </div>\n\n        <div class="stipple-link-previews stipple-default-hide stipple-default-empty" style="display: none;">\n          \n        </div>\n        \n        <div class="stipple-fetching-link stipple-default-hide" style="display: none;">\n          <img class="stipple-ajax-spinner" src="<%= image_host %>/external/spinner-white.gif" alt="ajax spinner" />\n        </div>\n\n        <div class="stipple-new-dot-buttons">\n          <%= JST.button({elementType: \'input\', inputType: \'button\', cssClass: "stipple-new-dot-cancel-button", newWindow: false, text: "Cancel"}) %>\n          <%= JST.button({elementType: \'input\', inputType: \'submit\', cssClass: "stipple-new-dot-save-button", newWindow: false, text: "Save"}) %>\n        </div>\n        \n      </form>\n    </div>\n    \n    <div class="stipple-new-product-dot-form-container" style="display: none;" data-stipple-new-dot-type="product">\n      <form class="stipple-new-product-dot-form stipple-form">\n        <input type="hidden" name="dot[dot_type]" value="product"/>\n        <input type="hidden" name="dot[entity_id]" value="<%= entity.id %>" />\n        <input type="hidden" name="dot[entity_type]" value="<%= entity.type %>" />\n        <input type="hidden" name="dot[product_id]" value="" />\n        <input type="hidden" name="dot[url]" value="<%= encodeURIComponent(location_href) %>" />\n        <input type="hidden" name="dot[start_x]" value="0" />\n        <input type="hidden" name="dot[start_y]" value="0" />\n        <input type="hidden" name="image_height" value="<%= imageHeight %>" />\n        <input type="hidden" name="image_width" value="<%= imageWidth %>" />\n        <input type="hidden" name="url" value="<%= encodeURIComponent(photoUrl) %>" />\n\n        <div class="stipple-selected-product stipple-product-fields" style="display: none;">\n          <ul>\n          </ul>\n        </div>\n        \n        <div class="stipple-product-dot-autocomplete-input-container stipple-product-fields stipple-dot-specific-fields">\n          <div class="stipple-item">\n            <div>\n              <label for="stipple-new-product-dot-autocomplete" class="stipple-new-dot-main-prompt">Type the name of a product or brand.</label>\n              <input type="text" id="stipple-new-product-dot-autocomplete" class="stipple-product-autocomplete stipple-empty-input" data-stipple-empty-val="Example: Prada shirt" value="Example: Prada shirt" autocomplete="off"/>\n              <%= JST.autocomplete_box({staticHostname: image_host, JST: JST}) %>\n            </div>\n          </div>\n        </div>\n\n        <div style="display: none;" class="stipple-product-fields stipple-product-specific-fields stipple-dot-specific-fields">\n          <div class="stipple-item">\n            <div>\n              <input type="hidden" name="product[entity_id]" value="<%= entity.id %>" />\n              <input type="hidden" name="product[entity_type]" value="<%= entity.type %>" />\n              <label for="stipple-new-product-name">Product Name:</label>\n              <input id="stipple-new-product-name" type="text" name="product[name]" class="stipple-empty-input stipple-validation-required" data-stipple-empty-val="e.g. Blue Polo Shirt" value="e.g. Blue Polo Shirt" autocomplete="off" data-stipple-validate-required="required" />\n              <label for="stipple-new-product-brand">Brand Name:</label>\n              <input id="stipple-new-product-brand" type="text" name="product[brand]" class="stipple-empty-input" data-stipple-empty-val="My Brand" value="My Brand" autocomplete="off" data-stipple-validate-required="required" />\n              <label for="stipple-new-product-price">Price:</label>\n              <input id="stipple-new-product-price" type="text" name="product[price]" class="stipple-empty-input" data-stipple-empty-val="29.99 (optional)" value="29.99 (optional)" autocomplete="off" />\n              <label for="stipple-new-product-currency">Currency:</label>\n              <select id="stipple-new-product-currency" name="product[currency]">\n                <option value="USD" data-stipple-currency-symbol="$" selected="selected">US Dollar ($)</option>\n                <option value="EUR" data-stipple-currency-symbol="\u20ac">Euro (\u20ac)</option>\n                <option value="AUD" data-stipple-currency-symbol="$" >Australian Dollar ($)</option>\n                <option value="CAD" data-stipple-currency-symbol="$">Canadian Dollar ($)</option>\n                <option value="CNY" data-stipple-currency-symbol="\u00a5">Chinese Yuan (\u00a5)</option>\n                <option value="JPY" data-stipple-currency-symbol="\u00a5">Japanese Yen (\u00a5)</option>\n                <option value="GBP" data-stipple-currency-symbol="\u00a3">Pound Sterling (\u00a3)</option>\n              </select>\n              <label for="stipple-new-product-url">Shop URL:</label>\n              <input id="stipple-new-product-url" type="url" name="product[url]" class="stipple-empty-input" data-stipple-empty-val="http://example.com" value="http://example.com" autocomplete="off" />\n              <label for="stipple-new-product-image-url">Thumbnail Image URL:</label>\n              <input id="stipple-new-product-image-url" type="url" name="product[image_url]" class="stipple-empty-input" data-stipple-empty-val="http://example.com/image.jpg" value="http://example.com/image.jpg" autocomplete="off" data-stipple-validate-required="required" />\n            </div>\n          </div>\n        </div>\n\n        <%= JST.autocomplete_box({staticHostname: image_host, JST: JST}) %>\n        \n        <div class="stipple-new-dot-buttons">\n          <%= JST.button({elementType: \'input\', inputType: \'button\', cssClass: "stipple-new-dot-cancel-button stipple-default-show", newWindow: false, text: "Cancel"}) %>\n          <%= JST.button({elementType: \'input\', inputType: \'button\', cssClass: "stipple-new-dot-edit-button stipple-default-hide stipple-hidden", newWindow: false, text: "Edit", style: "display: none;"}) %>\n          <%= JST.button({elementType: \'input\', inputType: \'submit\', cssClass: "stipple-new-dot-save-button stipple-default-hide stipple-hidden", newWindow: false, text: "Save", style: "display: none;"}) %>\n        </div>\n        \n      </form>\n    </div>\n  </div>\n  \n</div>\n');
h.person_provider_help=c("<p>\nTo quickly create a person dot, type the sigil corresponding to the service ('@' for Twitter, etc.),\n  followed by the user's name.\n</p>\n\n<p>\n  autocomplete and stuff\n</p>\n\n<p>i am really bad at writing help text.</p>\n");h.photo_actions=c('<% if (showPhotoActions || userCanEdit) { %>\n  <div class="stipple-photo-actions" style="display: none; opacity: 0;">\n    <div class="stipple-photo-actions-contents">\n      <% if (userCanEdit) { %>\n        <a href="#" class="stipple-photo-action stipple-photo-action-tag" title="Tag this photo"></a>\n      <% } %>\n      <div style="height: 0; width: 0; padding: 0; margin: 0; border: none; clear: both;"></div>\n    </div>\n  </div>\n<% } %>');
h.photo_top=c('<div class="stipple-photo-top <%= product ? \'\' : \' stipple-hidden\' %>" style="<%= isMobile ? \'\' : \'display: none; opacity: 0;\' %>">\n  <div class="stipple-photo-top-contents">\n    <div class="stipple-photo-top-display">\n      <% if (product) { %>\n        <div class="stipple-show-product-container" data-stipple-product-id="<%= product.id %>">\n          <% if (buyUrl) { %>\n            <a href="<%= buyUrl %>" class="stipple-shop" target="_blank">Shop</a>\n            \x3c!--<span class="stipple-shopping-test">TEST</span>--\x3e\n          <% } %>\n          \n          <% if (product.brand) { %>\n            <span class="stipple-product-brand"><%= product.brand %></span>\n          <% } %>\n  \n          <% if (product.price) { %>\n            <% if (product.brand) { %>\n              <span class="stipple-bull-separator">&bull;</span>\n            <% } %>\n            <span class="stipple-price"><%= product.price %></span>\n          <% } %>\n\n          <% if (product.brand || product.price) { %>\n            <span class="stipple-bull-separator">&bull;</span>\n          <% } %>\n\n          <span class="stipple-product-name" title="<%= product.name %>"><%= product.name %></span>\n        </div>\n      <% } %>\n      <div style="height: 0; clear: both;"></div>\n    </div>\n  </div>\n</div>\n');
h.shop_box=c('<div class="stipple-shop-box" style="opacity: 0; display: none;" draggable="true">\n  <iframe height="398" width="375" frameborder="0" marginheight="0" marginwidth="0" src="http://stipple.com"></iframe>\n</div>');h.status_box=c('<div class="stipple-status-box-container" style="display: none;">\n  <span class="stipple-status-box">\n    <%= status %>\n  </span>\n</div>')})();var ja=function(){var c,a,b=1,d;return{postMessage:function(d,a,c){a&&(c=c||parent,window.postMessage?c.postMessage(d,
a.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):a&&(c.location=a.replace(/#.*$/,"")+"#"+ +new Date+b++ +"&"+d))},receiveMessage:function(b,g){if(window.postMessage)if(b&&(d=function(d){if("string"===typeof g&&d.origin!==g||"[object Function]"===Object.prototype.toString.call(g)&&!1===g(d.origin))return!1;b(d)}),window.addEventListener)window[b?"addEventListener":"removeEventListener"]("message",d,!1);else window[b?"attachEvent":"detachEvent"]("onmessage",d);else c&&clearInterval(c),c=null,b&&(c=setInterval(function(){var d=
document.location.hash,c=/^#?\d+&/;d!==a&&c.test(d)&&(a=d,b({data:d.replace(c,"")}))},100))}}}();D={truncateStringOnSpace:function(c,a){var b=c.substring(0,a),d;if(c.length<=a)return c;" "!==c[a]&&(d=b.lastIndexOf(" "),b=b.substring(0,d));return b},utf8Encode:function(c){var a="",b,d=c.length,f;for(b=0;b<d;b+=1)f=c.charCodeAt(b),a=255<f?a+encodeURIComponent(c[b]):a+c[b];return a},cssCamelCase:function(c){return c.replace(/-[a-z]/g,function(a){return a.slice(1).toUpperCase()})},openWin:function(c,
a){var b;b=window.open(c,"_blank",a||"width=800,height=600,toolbar=no,status=no,directories=no,menubar=no,copyhistory=no");window.focus&&b.focus();return b},infoDotTemplateType:function(c){switch(c.toLowerCase()){case "flickr":case "youtube":case "vimeo":case "soundcloud":case "image":case "googlemaps":case "imgur":case "rcs":return"media";default:return"content"}},isMobileBrowser:function(){return/android|(bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|ad|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4))},placeDotBox:function(e,a){var b=c(window),d,f,g=e.width(),v=b.width();d=150<e.height()?a.offset().top-75+n:a.offset().top-e.height()/2+n;d<b.scrollTop()&&(d=b.scrollTop());d+e.height()>b.scrollTop()+b.height()&&(d=b.height()>=e.height()?b.scrollTop()+b.height()-e.height():b.scrollTop());f=a.offset().left-g/2+n;f<b.scrollLeft()&&(f=b.scrollLeft());f+g>v&&(f=g>v?0:v-g);e.css({opacity:0,top:d,left:f});e.stippleAppear()}};Z=function(e){(e?e.find(".stipple-ajax-spinner-background"):
c(".stipple-ajax-spinner-background")).filter(".stipple-centered").each(function(){var a=c(this);a.css({top:a.parent().height()/2-a.height()/2,left:a.parent().width()/2-a.width()/2})}).end().show()};$=function(){c(".stipple-ajax-spinner-background").hide()};aa=function(e){e||(e=c);return!(e.browser.msie&&7>parseFloat(e.browser.version))&&!/playstation 3/i.test(navigator.userAgent)};ba=function(){return c.browser.msie};L=function(){return c.browser.msie&&7===parseFloat(c.browser.version)};N=function(){return c.browser.webkit};
Q=function(e){var a={};e=(e||"").split(/\s+/);c(e).each(function(){if(-1!==this.indexOf("stippleit-sid-")){var b=this.split("-");a[b[1]]=b[2]}});return a};R=function(c){var a;a=(a=c.css("background-image"))&&"none"!==a?a:void 0;c=c.attr("src")||a||c.children("[src]:first").attr("src");(a=/url\(['"]?([a-zA-Z0-9_$.+!*()-:\/?]+)['"]?\)/.exec(c))&&(c=a[1]);if("undefined"===typeof c)return"";/^https?:/.test(c)||("/"===c.charAt(0)?c=s+location.host+c:(a=location.pathname.lastIndexOf("/"),a=-1<a?location.pathname.substring(0,
a):location.pathname,"/"!==a.charAt(a.length-1)&&(a+="/"),c=s+location.host+a+c));return c};ca=function(){return c("[class*=stippleit-sid-]").map(function(){return c(this)})};da=function(e){var a,b,d,f,g,v,k,m,z;g=e.parent();m=e.is("img")||e.css("background-image")&&!e.is("a")?e:e.find("img:first");v=m.getRealDimension("width");k=m.getRealDimension("height");g.is("a")&&(e=g);a=e.css("position");if("static"===a||void 0===a)a="relative";b=e.css("display");if("inline"===b||void 0===b)b="inline-block";
"inline-block"===b&&"block"===m.css("display")&&(b="block");"block"===b&&0===parseInt(e.css("margin-left"),10)&&0<parseInt(e.position().left,10)&&(z=!0);if(g.is(".stipple-dottable-wrapper"))d=e.parent(),d.css({height:k,width:v}),e.siblings(":not(.stipple-new-dot-overlay)").remove();else{d=c(h.dot_wrapper({}));g=e.css("border");A&&(f={"margin-top":e.css("margin-top"),"margin-bottom":e.css("margin-bottom"),"margin-left":e.css("margin-left"),"margin-right":e.css("margin-right")});d=e.wrap(d).parent();
d.css({height:k,width:v,display:b,position:a,border:g});e.css({position:"",display:"",border:""});w&&(d.addClass("stipple-mobile"),d.prepend('<div class="stipple-mobile-overlay"></div>'));d.append(h.ajax_spinner({staticHostname:"//stipple.cachefly.net/production"}));a=c('<div class="stipple-new-dot-overlay" style="display: none;" />');a.prependTo(d);ba()&&a.css({"background-color":"black",opacity:0.01});a=["margin-top","margin-right","margin-left","margin-bottom"];if(e.is("img")||e.is("a"))a=a.concat([["float",
"none"],"padding-top","padding-right","padding-left","padding-bottom","border-top-right-radius","border-top-left-radius","border-bottom-right-radius","border-bottom-left-radius",["-moz-box-shadow","none"],["box-shadow","none"]]);e.is("a")&&(b=Q(m.attr("class")),b.sid&&(b="stippleit-sid-"+b.sid,m.removeClass(b),e.addClass(b)));m.moveStyles(a,d);e.is("a")&&e.moveStyles(a,d);m.css("max-width").length&&m.css("max-width",d.width()?d.width()+"px":"100%");m.css("max-height").length&&m.css("max-height",d.height()?
d.height()+"px":"100%");z&&(d.css("margin-left","auto"),d.css("margin-right","auto"));A&&c.each(f,function(b,a){d.css(b,a)});N()&&m.width(v)}d.attr("data-stipple-dom-id",u);u+=1;O&&O(d,e);return d};S=function(e,a){var b,d,f,g,v,k,m,z,q,l,t,r;"hidden"!==e.css("visibility")&&(e.data("stipple-tagLayer"),r=STIPPLE.stippleApp&&!Y?0:4500,b=da(e),b.data("photoData",a),b.data("photoData").product_dot_count=0,!a.squelch_photo_info_dot&&!p&&(f=c(h.call_to_action({visible:!a.product&&(a.dots_count&&0<a.dots_count||
a.caption&&a.caption.length)})),w&&K&&f.css({display:"block",opacity:1}),b.append(f)),w&&(!a.product&&a.dots_count)&&b.append('<div class="stipple-mobile-call-to-action'+(K?" stipple-active":"")+'"></div>'),b.data("entity",STIPPLE.loaded_entity),g=R(e),f=a.user_can_edit,q=e.is("a")?e.find("img:first"):e,v=q.getRealDimension("width"),k=q.getRealDimension("height"),g={JST:h,photoUrl:g,stipplePhotoUrl:a.image_url_original||g,imageWidth:v,imageHeight:k,entity:b.data("entity"),product_id:e.data("product_id")||
null,image_host:"//stipple.cachefly.net/production",hostName:s+C,location_href:M,userCanEdit:f||!1,photoCredit:a.credit||null,domId:b.data("stipple-dom-id"),user:a.user,userLoggedIn:a.user&&a.user.id||!1,product:a.product||null,buyUrl:a.buy_url||null,rawBuyUrl:a.raw_buy_url||null,photoId:a.id||null,copyright_holder_id:a.copyright_holder_id||null,source_page:a.source_page||null},b.data("toolbarData",g),q=c(h.photo_top(c.extend({},g,{isMobile:w}))),w||(t=c(h.photo_actions(c.extend({},g,{showPhotoActions:B,
plugin:E}))),t.appendTo(b)),(f||a.dots&&a.dots.length||a.product)&&q.appendTo(b),L()&&(q&&q.css("width",v),b.find("*").andSelf().each(function(){var b=c(this);"inline-block"===b.css("display")&&b.css({display:"inline",zoom:1})})),a&&(!c.isEmptyObject(a)&&a.dots)&&(a.product&&F&&b.addClass("stipple-static-photo-top"),p||c.each(a.dots,function(){d=c(h.dot({creator_id:this.user_slug}));d.addClass("stipple-dot-type-"+this.icon_type);l=new Image;switch(this.dot_type){case "product":b.data("photoData").product_dot_count+=
1;l.src=this.product_image;break;case "info":this.link_data&&(this.link_data.data&&this.link_data.data.image)&&(l.src=this.link_data.data.image)}l=null;m=this.start_x*parseInt(v,10)/a.image_width;z=this.start_y*parseInt(k,10)/a.image_height;w&&K?d.css({opacity:1,display:"block"}):d.css({opacity:0.6,display:"block"});d.data("dotData",this).css({position:"absolute",left:m-n,top:z-n}).appendTo(b);(!w||w&&!K)&&d.animate({opacity:0},r)}),f=parseInt(b.data("photoData").dots_count,10),(0<f||b.data("photoData").product_id)&&
y("photo:load",{location:M,photo_id:b.data("photoData").id,prototype_photo_id:b.data("photoData").prototype_image_id,photo_copy_group_id:b.data("photoData").photo_copy_group_id,photo_url:g.photoUrl,dots_count:f,product_id:b.data("photoData").product_id,product_dot_count:b.data("photoData").product_dot_count,account_id:b.data("photoData").entity_type+":"+b.data("photoData").entity_id,embed:!!window.stippleEmbedded,embed_origin:window.stippleEmbedOrigin})))};U=function(c,a,b,d){a.data("stipple-tagLayer",
c.tag_layer);a.is("img")&&(!b||!d)&&!a[0].complete?(a.load(function(){S(a,c)}),N()||a.attr("src",a.attr("src"))):S(a,c);P&&P(a,c)};T=function(e,a){var b,d,f,g,v,k;c.each(e,function(e,h){b=R(h);STIPPLE.loaded_entity||(STIPPLE.loaded_entity={type:"Site",id:Q(h.attr("class")).sid});h.data("entity",STIPPLE.loaded_entity);v=h.is("a")?h.find("img:first"):h;f=v.getRealDimension("width");g=v.getRealDimension("height");d={url:b,image_height:g,image_width:f};a&&(d.tag_layer=a);h.attr("data-stipple-photo-id")&&
(d.photo_id=h.attr("data-stipple-photo-id"));d.source_page=location.href;k=c.ajax({url:s+C+"/dots/recall/"+STIPPLE.loaded_entity.type+"/"+STIPPLE.loaded_entity.id+"/",data:d,type:"get",dataType:t?"jsonp":"json",jsonpCallback:t?"stippleDotRecallCallback_"+(d.photo_id?"photo"+d.photo_id:b.replace(/[^\w]/g,"")):null,timeout:3E4});k.done(function(b){U(b,h,f,g)});k.fail(function(b){var d=b.responseText;try{d=d.replace(/^.+?\(/,"").replace(/\)$/,""),d=JSON.parse(d),U(d,h,f,g)}catch(a){"object"===typeof console&&
console.log&&console.log("Stipple recall error: ",a,b.responseText)}});k.done(function(){try{k.abort=k.onreadystatechange=null}catch(b){}k=null})})};I=function(c){return setTimeout(function(){c.removeData("removeTimer").stippleDisappear()},300)};ea=function(){var e,a;a="https://"+C;if(x)return x;e=L()?encodeURIComponent(s+location.host+location.pathname+location.search):encodeURIComponent(s+location.host);e=a+"/external_embeds/?cachebust="+Date.parse(new Date)+"&parent_href="+e;L()&&(a=e+"#");x=c('<iframe src="'+
e+'" style="display: none;"/>');J=c.Deferred();x.load(function(){J.resolve()});c("body").append(x);ja.receiveMessage(function(b){var d,a,g,e;try{d=c.parseJSON(b.data)}catch(k){return"object"===typeof console&&console.log&&console.log("Stipple received unparsable message: "+b.data),!0}a=c("div[data-stipple-dom-id="+d.dom_id+"]");L()&&(location.hash="");switch(d.action){case "dot:create":a.stippleEnableForms();if("success"===d.status)g=a.data("photoData"),g.dots=g.dots||[],g.dots.push(d.data),a.find(".stipple-new-dot").removeClass("stipple-new-dot").addClass("stipple-dot"+
(d.data?" stipple-dot-type-"+d.data.icon_type:"")).css("z-index",parseInt(a.children(".stipple-new-dot-overlay").css("z-index"),10)+100).data("dotData",d.data).end().find(".stipple-new-dot-overlay").removeClass("stipple-inactive"),a.data("new_dot_container")&&a.data("new_dot_container").stippleDisappear("fast",function(){c(this).stippleResetForms();a.find(".stipple-photo-action-tag.stipple-active").click()}),STIPPLE.callbacks.onDotCreate.success.execute(d.data,a),y("dot:create",{photo_id:g.id,photo_url:a.data("toolbarData").photoUrl,
dot_id:d.data.id,dot_type:d.data.icon_type,link_service:d.data.link_data?d.data.link_data.name:"",product_id:d.data.product_id,account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id});else{try{e=d.data.join("\n")}catch(h){e=d.message}STIPPLE.callbacks.onDotCreate.error.execute(d.data);alert("There was an error creating your dot. The errors were:\n\n"+e);a.data("new_dot_container").stippleResetForms(!0)}break;case "dot:update":a.stippleEnableForms();if("success"===d.status)g=
a.data("photoData"),g.dots=g.dots||[],c.each(g.dots,function(b){g.dots[b].id===d.data.id&&(g.dots[b]=d.data)}),a.find(".stipple-updatable-dot").each(function(){c(this).data("dotBox").remove();c(this).removeData("dotBox")}).removeClass("stipple-updatable-dot").attr("class","stipple-dot"+(d.data?" stipple-dot-type-"+d.data.icon_type:"")).data("dotData",d.data).end().find(".stipple-new-dot-overlay").removeClass("stipple-inactive").end().data("new_dot_container").removeData("stippleMode").stippleDisappear("fast",
function(){c(this).stippleResetForms()});else{try{e=d.data.join("\n")}catch(z){e=d.message}alert("There was an error creating your dot. The errors were:\n\n"+e);a.data("new_dot_container").stippleResetForms(!0)}break;case "dot:delete":"success"===d.status?(a.stippleEnableForms().stippleGrowlStatus("Tag Deleted").find(".stipple-dot[data-delete-dot-id="+d.data.id+"]").addClass("stipple-fading").stippleDisappear(400,function(){c(this).remove()}),g=a.data("photoData"),g.dots=c.grep(g.dots,function(b,
a){return b.id!==d.data.id}),a.data("photoData",g),STIPPLE.callbacks.onDotDelete.success.execute(d.data.id,a),y("dot:delete",{photo_id:g.id,photo_url:a.data("toolbarData").photoUrl,dot_id:d.data.id,dot_type:d.data.icon_type,account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id})):alert("There was an error deleting the dot. The message was: "+d.message)}},a);return x};y=function(c,a){G(JSON.stringify({act:"metric:mixpanel",event:c,mp_properties:a}))};G=function(e){var a;x&&(a=
x.attr("src"),"string"!==typeof e&&(e=c.param(e)),J.done(function(){ja.postMessage(e,a,x[0].contentWindow)}))};fa=function(){c.fn.getRealDimension=function(e){var a=c(this),b=a.css(e);parseInt(b,10)||(b=parseInt(a.attr(e),10)||a[e]()||parseInt(a.get(0).style[e],10));return b}};ga=function(){var e=c(document);c.fn.stippleFadeToDistance=function(a,b){var d=c(this);c.each(d,function(){var d=c(this),g,e;e=d.position();g=parseInt(e.left,10)+n;e=parseInt(e.top,10)+n;g-=a;e-=b;g=Math.sqrt(g*g+e*e);g=Math.round(g);
e=0.6;200>g&&(e=Math.max(0.6,1-g/200));d.css({opacity:e})});return d};c.fn.stippleUserCanEdit=function(){var a=c(this).stippleWrapper().data("photoData");return a&&a.user_can_edit};c.fn.stippleWrapper=function(){return c(this).closest(".stipple-dottable-wrapper")};c.fn.stippleDisappear=function(a,b){var d=c(this);c.isFunction(a)?b?a=a():b=a:!a&&"number"!==typeof a&&(a="fast");d.stop().fadeTo(a,0,function(){d.hide(0,b)});return d};c.fn.stippleAppear=function(a,b){var d=c(this);c.isFunction(a)?b?a=
a():b=a:!a&&"number"!==typeof a&&(a="fast");d.stop().fadeTo(a,1,function(){d.show(0,b)});return d};c.fn.cleanupNewDots=function(){var a=c(this).stippleWrapper();a.children(".stipple-inactive").removeClass("stipple-inactive").end().children(".stipple-dot:hidden").show().end().children(".stipple-deleteable-dot").css("cursor","auto").removeClass("stipple-deleteable-dot").end().children(".stipple-updatable-dot").css("cursor","auto").removeClass("stipple-updatable-dot").end().children(".stipple-new-dot").stippleDisappear("fast",
function(){c(this).remove()});a.data("new_dot_container")&&a.data("new_dot_container").stippleDisappear("fast",function(){a.data("new_dot_container").stippleResetForms()})};c.fn.stippleEnableEditMode=function(){c(this).stippleWrapper().stippleEnableNewDotMode().children(".stipple-new-dot-overlay").show()};c.fn.stippleCancelEditMode=function(){var a=c(this).stippleWrapper();a.stippleDisableNewDotMode();a.cleanupNewDots();return a};c.fn.stippleGrowlStatus=function(a){var b=c(this);c(h.status_box({status:a})).appendTo(b).fadeIn(100,
function(){c(this).fadeOut(2E3,function(){c(this).remove()})});return b};c.fn.stippleUpdateFormCoordinates=function(a,b){var d=c(this);d.find('input[name="dot[start_x]"]').val(a);d.find('input[name="dot[start_y]"]').val(b);return d};c.fn.stippleResetForms=function(a){var b=c(this);a?a=".stipple-empty-input":(b.removeData("dotData"),a='input[type="text"], input[type="url"], textarea',b.find("select option").removeProp("selected").filter(":first").prop("selected",!0));b.find(a).each(function(){var b=
c(this);b.val(b.attr("data-stipple-empty-val"));b.addClass("stipple-empty-input")}).end().find(".stipple-autocomplete-box ul").empty().end().find("form").trigger("stipple:mode:default");return c(this)};c.fn.stippleValidateForm=function(){var a,b,d,f,g,e;b=c(this).find('[data-stipple-validate-required="required"]');c.each(b,function(b,h){e=c(h);if(""===e.val()||e.val()===e.data("stipple-empty-val"))"undefined"===typeof a&&(a={}),f=e.attr("name"),g=(d=/^(\w+)\[(\w+)\]\[(\w+)\]$/.exec(f))?d[1]+" "+d[2]+
" "+d[3]:(d=/^(\w+)\[(\w+)\]$/.exec(f))?d[1]+" "+d[2]:f,g=g.replace(/_/g," "),a[e.attr("name")]={el:e,message:"is required",stringName:g}});return"object"===typeof a?[!1,a]:[!0,{}]};c.fn.stipplePlaceContainer=function(a){var b=c(this),d,f,g,e,k=parseInt(b.css("padding-top"),10),h=parseInt(b.css("padding-bottom"),10),z,q;d=a.pageY;a=a.pageX;f=c(window);e=b.height()+k+h;z=f.height();q=f.scrollTop();d!==d&&(g=b.offset().top,g+e>z&&(d=z-e-10));d<q?d=q:d+e>z+q&&(d=z+q-(e+10));if(d<q||d+e>q+z)d=0<=q?q:
0;e>z&&b.css({height:z-(k+h),"overflow-y":"auto"});a+b.width()>f.width()+f.scrollLeft()&&(a-=b.width()+60);b.css({top:d,left:a});b.stippleAppear("fast")};c.fn.stipplePlaceNewDotContainer=function(a){var b=c(this);b.stipplePlaceContainer({pageX:a.pageX+30,pageY:a.pageY-b.height()/5})};c.fn.stipplePlaceHelpPopup=function(a){var b=c(this);b.stipplePlaceContainer({pageX:a.pageX-b.width()/2,pageY:a.pageY-(b.height()+30)})};c.fn.stippleLoadDotIntoContainer=function(a,b){var d=c(this),f,g,e,k={};d.stippleResetForms();
f=a.data("dotData");d.data("dotData",f);switch(f.dot_type){case "product":d.find(".stipple-new-dot-chooser").children(":first").click();g=d.find("form:first");e={name:f.title,brand:f.brand,image_url:f.product_image,price:f.product_price||f.product_rental_price};g.trigger("stipple:mode:show_product",e);d.stipplePlaceNewDotContainer(b);return;case "info":e=0,g=d.find(".stipple-new-info-dot-form"),g.trigger("stipple:mode:preview_unlinked_dot"),k={"dot[title]":f.title,"dot[link]":f.link,"dot[note]":f.note}}d.find(".stipple-new-dot-chooser").children(":eq("+
e+")").click();k["dot[entity_id]"]=d.data("wrapper").data("entity").id;k["dot[entity_type]"]=d.data("wrapper").data("entity").type;k["dot[start_x]"]=parseInt(a.css("top"),10)+n;k["dot[start_y]"]=parseInt(a.css("left"),10)+n;k["dot[url]"]=f.url;k.url=f.photo_url;k.image_height=d.data("wrapper").height();k.image_width=d.data("wrapper").width();g=d.find("form:eq("+e+")");c.each(k,function(b,a){a&&a.toString().length&&g.find('[name="'+b+'"]').removeClass("stipple-empty-input").val(a)});d.data("stippleMode",
"edit");d.stipplePlaceNewDotContainer(b)};c.fn.stippleCreateNewDotContainer=function(){var a=c(this).stippleWrapper(),b={wrapperId:a.data("stipple-dom-id")},b=c(h.new_dot_container(c.extend(b,a.data("toolbarData"))));a.data("new_dot_container",b);b.data("wrapper",a);b.appendTo("body");return b};c.fn.stippleSetDotFormType=function(a){var b=c(this);b.addClass("stipple-selected").siblings().removeClass("stipple-selected").end().closest(".stipple-new-dot-container").find(".stipple-new-dot-forms").children("div[data-stipple-new-dot-type!="+
a+"]").hide().siblings("div[data-stipple-new-dot-type="+a+"]").show();return b};c.fn.stippleNewAutoCompleteSuggestions=function(a,b,d){var f=c(this),g,e=f.children(".stipple-autocomplete-items");e.empty();c.each(a,function(){d.acTemplate?(g=c(h[d.acTemplate]({data:this,staticHostname:"//stipple.cachefly.net/production"})),g.data("autocomplete",this),e.append(g)):this.toLowerCase&&e.append(h.autocomplete_item({text:this,boldLength:b}))});d.acType&&"product"===d.acType&&e.append(h.autocomplete_add_product({JST:h}));
f.removeData("selectedIndex").find(".stipple-selected").removeClass("stipple-selected");return f};c.fn.stippleArrowPressed=function(a,b){var d=c(this),f=d.data("acBox"),g,e;if(!f)return d;g=f.data("selectedIndex");e=f.find("li");"undefined"===typeof g?g=a:(e.eq(g).removeClass("stipple-selected"),g=b(g,e.length-1));f.data("selectedIndex",g);e.eq(g).addClass("stipple-selected");return d};c.fn.stippleUpArrowPressed=function(){var a=c(this),b=a.data("acBox");if(!b)return a;b=b.find("li.stipple-autocomplete-item");
return a.stippleArrowPressed(b.length-1,function(b,a){b-=1;0>b&&(b=a);return b})};c.fn.stippleDownArrowPressed=function(){var a=c(this),b=a.data("acBox");if(!b)return a;b.find("li.stipple-autocomplete-item");return a.stippleArrowPressed(0,function(b,a){b+=1;b>a&&(b=0);return b})};c.fn.stippleDisableForms=function(){var a=c(this),b=a.stippleWrapper();b.data("disableForms",!0).find('input[type="submit"]').prop("disabled",!0);Z(b);return a};c.fn.stippleEnableForms=function(){var a=c(this);a.stippleWrapper().removeData("disableForms").find('input[type="submit"]').removeProp("disabled");
$();return a};c.fn.stippleEnableNewDotMode=function(){var a=c(this);a.stippleWrapper().data("wrapperMode","edit").children(".stipple-new-dot-overlay").show();return a};c.fn.stippleDisableNewDotMode=function(){var a=c(this);a.stippleWrapper().removeData("wrapperMode").children(".stipple-new-dot-overlay").hide();return a};c.fn.moveStyles=function(a,b){var d=c(this),f,g,e;c.each(a,function(a,h){c.isArray(h)?(f=h[0],e=h[1]):(f=h,e=0);if((g=d.css(f))&&g.length)b.css(f,g),d.css(f,e)})};(function(a,b){var d=
"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(c){function g(){var b=a(p),d=a(r);m&&(r.length?m.reject(q,b,d):m.resolve(q));a.isFunction(c)&&c.call(h,q,b,d)}function e(b,c){b.src===d||-1!==a.inArray(b,n)||(n.push(b),c?r.push(b):p.push(b),a.data(b,"imagesLoaded",{isBroken:c,src:b.src}),l&&m.notifyWith(a(b),[c,q,a(p),a(r)]),q.length===n.length&&(setTimeout(g),q.unbind(".imagesLoaded")))}var h=this,m=a.isFunction(a.Deferred)?a.Deferred():0,l=a.isFunction(m.notify),
q=h.find("img").add(h.filter("img")),n=[],p=[],r=[];q.length?q.bind("load.imagesLoaded error.imagesLoaded",function(b){e(b.target,"error"===b.type)}).each(function(c,f){var g=f.src,h=a.data(f,"imagesLoaded");if(h&&h.src===g)e(f,h.isBroken);else if(f.complete&&f.naturalWidth!==b)e(f,0===f.naturalWidth||0===f.naturalHeight);else if(f.readyState||f.complete)f.src=d,f.src=g}):g();return m?m.promise(h):h}})(c);e.on("stippleDisappear",".stipple-dot-box",function(){var a=c(this);a.is(":visible")&&(a.data("dotElement").removeClass("stipple-dot-type-close"),
a.removeClass("stipple-sticky").stippleDisappear())});e.on("click",".stipple-dot-box a:not(.stipple-dot-delete-link, .stipple-dot-edit-link)",function(a){var b=c(this).closest(".stipple-dot-box"),d=b.data("wrapper"),b=b.data("dotData"),f=d.data("photoData");y("dot:click",{photo_id:f.id,prototype_photo_id:f.prototype_image_id,photo_copy_group_id:f.photo_copy_group_id,photo_url:d.data("toolbarData").photoUrl,dot_id:b.id,dot_type:b.icon_type,link:a.currentTarget.href,account_id:f.entity_type+":"+f.entity_id});
return!0});e.on("update:caption",".stipple-dottable-wrapper",function(a,b,d){a=c(this);a.data("photoData").caption=b;a.data("photoData").captioner_id=d;a.data("stippleMetadataBox")&&(d=a.data("stippleMetadataBox").find(".stipple-metadata-caption"),b&&b.length?d.removeClass("stipple-hidden").addClass("stipple-metadata-container"):d.addClass("stipple-hidden").removeClass("stipple-metadata-container"),d.show().html(b))});e.on("stippleResize",'[class*="stippleit-sid-"]',function(){var a=c(this),b,d,f,
g,e;b=a.stippleWrapper();if(!b.length)return!1;d=parseInt(a.getRealDimension("width"),10);f=parseInt(a.getRealDimension("height"),10);b.css({width:d,height:f});if(e=b.data("new_dot_container"))b.find(".stipple-new-dot").each(function(){var b=c(this),a,g,h,l;a=parseInt(b.css("left"),10)+n;g=parseInt(b.css("top"),10)+n;h=parseInt(e.find('input[name="image_width"]:first').val(),10);l=parseInt(e.find('input[name="image_height"]:first').val(),10);a=a*d/h;g=g*f/l;b.css({left:a-n,top:g-n});e.find('input[name="dot[start_x]"]').val(a).end().find('input[name="dot[start_y]"]').val(g);
b={pageX:b.offset().left+n,pageY:b.offset().top+e.height()/5};e.stipplePlaceNewDotContainer(b)}),e.find('input[name="image_width"]').val(d).end().find('input[name="image_height"]').val(f);g=b.data("photoData");a=b.data("toolbarData");b.data("toolbarData",c.extend({},a,{imageWidth:d,imageHeight:f}));b.find(".stipple-dot").each(function(){var b=c(this),a;a=b.data("dotData");b.css({left:a.start_x*d/g.image_width-n,top:a.start_y*f/g.image_height-n})})});e.on("click",".stipple-shop",function(){var a=c(this),
b,d,f;a.parent().hasClass("stipple-show-product-container")?(d="photo",b=a.closest(".stipple-show-product-container").attr("data-stipple-product-id"),a=a.stippleWrapper()):(d="dot",f=a.closest(".stipple-dot-box-product"),b=f.attr("data-product-id"),a=f.data().wrapper,f=f.data("dotElement").data("dotData").id);y("product:shop",{product_id:b,dot_id:f,photo_id:a.data("photoData").id,prototype_photo_id:a.data("photoData").prototype_image_id,photo_copy_group_id:a.data("photoData").photo_copy_group_id,
photo_url:a.data("toolbarData").photoUrl,type:d,account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id})});e.on("click",".stipple-shopping-test",function(){var a=c(this).stippleWrapper(),b=a.offset(),d=a.data("stipple-shopBox"),f=a.data("photoData");d||(d=c(h.shop_box({photo:f,metadata:f.metadata,externalImgPath:"//stipple.cachefly.net/production/external/",JST:h})),a.data("stipple-shopBox",d),d.data("stipple-wrapper",a),d.appendTo("body"));d&&d.toggleClass("stipple-sticky");
d.is(":hidden")?(d.stipplePlaceContainer({pageX:b.left,pageY:b.top}),y("photo:shop",{photo_id:f.id,prototype_photo_id:f.prototype_image_id,photo_copy_group_id:f.photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,account_id:f.entity_type+":"+a.data("photoData").entity_id})):d.stippleDisappear();return!1});e.on(w?"touchstart":"click",".stipple-dot-box-close-button",function(){var a=c(this),b=a.closest(".stipple-dot-box"),d=b.find(".stipple-flash-toggler");a.trigger("stippleDisappear");d.length&&
b.find(".stipple-embed-container").html(d.attr("data-click-content"));c("audio").each(function(){this.pause()});return!1});e.on(w?"touchstart":"click",".stipple-embed-click-to-play",function(){var a=c(this),b=a.parent().siblings(".stipple-flash-toggler").attr("data-flash-content");a.closest(".stipple-dot-box").addClass("stipple-sticky");a.parent().html(b);y("media:play",{source:a.attr("data-source")});return!1});e.on("stipplePlay",".stipple-itunes-audio-preview",function(){c(this).closest(".stipple-dot-box").addClass("stipple-sticky");
y("media:play",{source:"itunes"});return!0})};ia=function(){var e=c(document),a;a=".stipple-call-to-action";e.on("touchstart",a,function(){var b=c(this),a=b.stippleWrapper(),f=a.offset(),g=b.stippleWrapper().data("stipple-metadataBox");a.find(".stipple-dot-type-close").not(b).trigger("touchstart");b.toggleClass("stipple-dot-type-close");b=a.data("photoData");g||(g=c(h.metadata_box({photo:b,metadata:b.metadata,externalImgPath:"//stipple.cachefly.net/production/external/",JST:h})),a.data("stipple-metadataBox",
g),g.data("stipple-wrapper",a),g.appendTo("body"));g&&g.toggleClass("stipple-sticky");g.is(":hidden")?(g.stipplePlaceContainer({pageX:f.left+a.width()-g.width()-(w?80:65),pageY:f.top+(w?55:40)}),y("photo:see-info",{photo_id:b.id,prototype_photo_id:b.prototype_image_id,photo_copy_group_id:b.photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,account_id:b.entity_type+":"+a.data("photoData").entity_id})):g.stippleDisappear();return!1});(function(){var b=function(b){b=c(this);var a=b.stippleWrapper(),
g=a.find(".stipple-mobile-call-to-action"),e;g.toggleClass("stipple-active");e=a.find(".stipple-dot:not(.stipple-filtered), .stipple-call-to-action:not(.stipple-hidden)");a=a.find(".stipple-dot-type-close:visible");b.is(".stipple-mobile-overlay")&&a.length?a.trigger("touchstart"):g.hasClass("stipple-active")?(g.stippleDisappear(),e.stippleAppear()):(g.stippleAppear(),e.stippleDisappear());return!1};a=".stipple-mobile-call-to-action";e.on("touchstart",a,b);a=".stipple-mobile-overlay";e.on("click",
a,b)})();a=".stipple-dot:visible";e.on("touchstart",a,function(){var b=c(this),a=b.stippleWrapper(),f=a.data("photoData"),g=b.data("dotData"),e=g.dot_type||"product",k=b.data("dotBox"),m=!1;k||(k=c(h["dot_"+e]({JST:h,model:g.model,brand:g.brand,title:g.title,image_url:g.product_image,price:g.product_price,rental_price:g.product_rental_price,buy_now_link:g.buy_product_link,landing_link:g.landing_link,product_id:g.product_id,note:"string"===typeof g.note?g.note.replace(/\r?\n/g,"<br />"):g.note,link:g.link,
has_offer:g["has_offer?"],has_product:g["has_product?"],staticHostname:"//stipple.cachefly.net/production",externalImgPath:"//stipple.cachefly.net/production/external/",helpers:D,inEditMode:"edit"===a.data("wrapperMode"),userCanEdit:a.data("toolbarData").userCanEdit,prototype_image_id:g.prototype_image_id,campaigned:g["campaigned?"],link_data:g.link_data&&"object"===typeof g.link_data?g.link_data.data:void 0})),k.data("wrapper",a),k.data("dotData",g),k.data("dotElement",b),k.attr("data-stipple-dom-id",
u),u+=1,b.data("dotBox",k),k.appendTo("body"),m=!0);a.find(".stipple-dot-type-close").not(b).trigger("touchstart");b.toggleClass("stipple-dot-type-close");k.toggleClass("stipple-sticky");k.hasClass("stipple-sticky")?m&&k.find(".stipple-embedded-image").length?(c(".stipple-linked-image").imagesLoaded(function(){k.find(".stipple-embed-container").css("background-image","none");D.placeDotBox(k,b)}),G({act:"dot:mouseover",id:g.id}),y("dot:mouseover",{photo_id:f.id,prototype_photo_id:f.prototype_image_id,
photo_copy_group_id:f.photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,dot_id:g.id,dot_type:g.icon_type,link_service:g.link_data?g.link_data.name:"",account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id})):D.placeDotBox(k,b):k.stippleDisappear();return!1})};ha=function(){var e=c(document),a;a=".stipple-dot:visible:not(.stipple-fading)";e.on("mouseenter",a,function(){var b=c(this),a=b.stippleWrapper(),f=a.data("photoData"),g=b.data("dotData"),e=g.dot_type||"product",
k=b.data("dotBox"),m=!1;b.data("stipple-moused-over",!0);if(k){if(k.is(".stipple-sticky"))return b}else k=c(h["dot_"+e]({JST:h,model:g.model,brand:g.brand,title:g.title,image_url:g.product_image,price:g.product_price,rental_price:g.product_rental_price,buy_now_link:g.buy_product_link,landing_link:g.landing_link,product_id:g.product_id,note:"string"===typeof g.note?g.note.replace(/\r?\n/g,"<br />"):g.note,link:g.link,has_offer:g["has_offer?"],has_product:g["has_product?"],staticHostname:"//stipple.cachefly.net/production",
externalImgPath:"//stipple.cachefly.net/production/external/",helpers:D,inEditMode:"edit"===a.data("wrapperMode"),userCanEdit:a.data("toolbarData").userCanEdit,prototype_image_id:g.prototype_image_id,campaigned:g["campaigned?"],link_data:g.link_data&&"object"===typeof g.link_data?g.link_data.data:void 0})),k.data("wrapper",a),k.data("dotData",g),k.data("dotElement",b),k.attr("data-stipple-dom-id",u),u+=1,b.data("dotBox",k),k.appendTo("body"),m=!0;k.data("removeTimer")&&(clearTimeout(k.data("removeTimer")),
k.removeData("removeTimer"));D.placeDotBox(k,b);m&&k.find(".stipple-embedded-image").length&&c(".stipple-linked-image").imagesLoaded(function(){k.find(".stipple-embed-container").css("background-image","none");k.is(":visible")&&!k.data("removeTimer")&&D.placeDotBox(k,b)});G({act:"dot:mouseover",id:g.id});y("dot:mouseover",{photo_id:f.id,prototype_photo_id:f.prototype_image_id,photo_copy_group_id:f.photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,dot_id:g.id,dot_type:g.icon_type,link_service:g.link_data?
g.link_data.name:"",account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id})}).on("mouseleave",a,function(){var b=c(this),a=b.data("dotData"),f=b.data("dotBox");b.removeData("stipple-moused-over");b.attr("src",s+C+a.image_file);f&&!f.is(".stipple-sticky")&&(b=I(f),f.data("removeTimer",b))}).on("click",a,function(){var b=c(this),a=b.data("dotBox");b.toggleClass("stipple-dot-type-close");a.toggleClass("stipple-sticky");a.is(".stipple-sticky")||(b=I(a),a.data("removeTimer",b))});
a=".stipple-dot-edit-link";e.on("click",a,function(b){var a=c(this).closest(".stipple-dot-box").data("dotElement"),f=a.stippleWrapper(),g;if(g=f.data("new_dot_container")){if(g.is(":visible"))return!0}else g=f.stippleCreateNewDotContainer();a.addClass("stipple-updatable-dot").data("dotBox").stippleDisappear();g.stippleLoadDotIntoContainer(a,b);return!1});a=".stipple-dot-box";e.on("mouseenter",a,function(){var b=c(this);b.data("removeTimer")&&(clearTimeout(b.data("removeTimer")),b.removeData("removeTimer"))}).on("mouseleave",
a,function(){var b=c(this),a;if(b.is(".stipple-sticky"))return b;a=I(b);b.data("removeTimer",a)});a=".stipple-dottable-wrapper";e.on("mouseenter",a,function(){var b=c(this),a,f;b.addClass("stipple-active");if("edit"===b.data("wrapperMode")||b.data("disableForms"))return!1;b.data("photoData")&&(a=b.data("photoData").id,b.find(".stipple-photo-top:not(.stipple-hidden), .stipple-photo-actions").stippleAppear(),f=parseInt(b.data("photoData").dots_count,10),b.data("photoData").id&&(0<f||b.data("photoData").product_id)&&
y("photo:mouseover",{location:M,photo_id:a,prototype_photo_id:b.data("photoData").prototype_image_id,photo_copy_group_id:b.data("photoData").photo_copy_group_id,photo_url:b.data("toolbarData").photoUrl,dots_count:f,product_id:b.data("photoData").product_id,product_dot_count:b.data("photoData").product_dot_count,account_id:b.data("photoData").entity_type+":"+b.data("photoData").entity_id}))}).on("mouseleave",a,function(){var b=c(this),a=b.find(".stipple-photo-top");b.removeClass("stipple-active");
if("edit"===b.data("wrapperMode")||b.data("disableForms"))return!1;b.find(".stipple-dot, .stipple-call-to-action").stop().animate({opacity:0},{queue:!1,duration:200},"swing",function(){c(this).hide()}).end().find(".stipple-photo-actions").stippleDisappear();a.stippleDisappear()}).on("click",a,function(b){var a=c(this),f,g,e;if(!STIPPLE.dot_template)return!0;f=Math.round(b.pageX-a.offset().left);b=Math.round(b.pageY-a.offset().top);g={photo_id:a.data("photoData").id,image_width:a.data("toolbarData").imageWidth,
image_height:a.data("toolbarData").imageHeight,act:"dot:create",dom_id:a.attr("data-stipple-dom-id")};g=c.extend(!0,g,STIPPLE.dot_template);g.dot.start_x=f;g.dot.start_y=b;e=a.stippleWrapper().data("toolbarData").user?a.stippleWrapper().data("toolbarData").user.slug:null;c(h.dot({creator_id:e})).css({position:"absolute",left:f-n,top:b-n,display:"block",width:"1px",height:"1px"}).removeClass("stipple-dot").addClass("stipple-new-dot").css("opacity",0).appendTo(a).fadeTo("fast",1);G(c.param(g));return!1});
a=".stipple-new-dot-overlay";e.on("click",a,function(b){var a=c(this),f=a.stippleWrapper(),g,e,k;e=f.data("new_dot_container");if(!f.stippleUserCanEdit()||"edit"!==f.data("wrapperMode")||f.children(".stipple-new-dot").length||e&&e.is(":visible"))return!1;if(STIPPLE.dot_template)return!0;a.addClass("stipple-inactive");a=Math.round(b.pageX-f.offset().left);g=Math.round(b.pageY-f.offset().top);k=f.data("toolbarData").user?f.data("toolbarData").user.slug:null;c(h.dot({creator_id:k})).css({left:a-n,top:g-
n}).removeClass("stipple-dot").addClass("stipple-new-dot").css("opacity",0).appendTo(f).fadeTo("fast",1);e||(e=f.stippleCreateNewDotContainer());e.find(".stipple-new-dot-chooser").children(":first").click();e.stippleUpdateFormCoordinates(a,g);e.find('[name="dot[product_id]"]').val(null);e.stipplePlaceNewDotContainer(b);return!1});a=".stipple-dottable-wrapper [class*=stippleit-sid-], .stipple-dottable-wrapper .stipple-new-dot-overlay";e.on("mousemove",a,function(b){var a=c(this),f=a.stippleWrapper();
a.siblings(".stipple-dot:not(.stipple-fading,.stipple-filtered), .stipple-call-to-action:not(.stipple-hidden)").stop().stippleFadeToDistance(b.pageX-f.offset().left,b.pageY-f.offset().top)});e.on("click",".stipple-photo-action-tag:not(.stipple-active)",function(){var b=c(this),a=b.stippleWrapper();y("photo:start_tagging",{photo_id:a.data("photoData").id,prototype_photo_id:a.data("photoData").prototype_image_id,photo_copy_group_id:a.data("photoData").photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,
account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id});if(a.data("disableForms")||b.is(".stipple-disabled"))return!1;b.addClass("stipple-active");b.stippleEnableEditMode();return!1});e.on("click",".stipple-photo-action-tag.stipple-active",function(){c(this).removeClass("stipple-active").stippleCancelEditMode();return!1});e.on("click",".stipple-dot-box-edit-toggler",function(){c(this).toggleClass("stipple-toggler-off stipple-toggler-on").closest(".stipple-dot-box").find(".stipple-dot-box-edit-drawer").toggle();
return!1});e.on("click",".stipple-dot-delete-link",function(){var b=c(this).closest(".stipple-dot-box"),a=b.data("wrapper");if(a.data("disableForms"))return!1;confirm("Are you sure you want to delete tag '"+b.data("dotData").title+"'?")&&(a.stippleDisableForms(),b.data("dotElement").attr("data-delete-dot-id",b.data("dotData").id),G({act:"dot:delete",id:b.data("dotData").id,dom_id:a.attr("data-stipple-dom-id")}));return!1});a=".stipple-new-dot-container";e.on("keyup",a,function(a){if(27===a.keyCode)return c(this).find(".stipple-new-dot-cancel-button").click(),
!1});e.on("click",".stipple-new-dot-edit-button",function(){c(this).closest("form").trigger("stipple:mode:create_product");return!1});e.on("click",".stipple-new-dot-cancel-button",function(){var a=c(this).closest(".stipple-new-dot-container"),d=a.data("wrapper");c(".stipple-autocomplete-box").hide();d.find(".stipple-photo-action-tag.stipple-active").removeClass("stipple-active");d.stippleCancelEditMode();a.removeData("stippleMode");return!1});a=".stipple-new-product-dot-form";e.on("submit",a,function(a){var d=
c(this);switch(d.data("stipple-mode")){case "showProduct":break;case "createProduct":a.stopImmediatePropagation();c(".stipple-validation-error").remove();c(".stipple-invalid").removeClass("stipple-invalid");a=d.stippleValidateForm();if(!0===a[0])d.trigger("stipple:mode:preview_new_product");else{c.each(a[1],function(a,b){var c=b.el.prev("label");b.el.addClass("stipple-invalid");c.append('<span class="stipple-validation-error">* required</span>')});break}c("[data-stipple-empty-val]").blur();break;
case "previewProduct":case "previewNewProduct":return!0;default:a.stopImmediatePropagation()}return!1}).on("stipple:mode:search_product stipple:mode:default",a,function(){var a=c(this);a.data("stipple-mode","searchProduct");a.find(".stipple-default-hide").hide().siblings(".stipple-default-show").show().end().end().find(".stipple-product-fields").hide().filter(".stipple-product-dot-autocomplete-input-container").show()}).on("stipple:mode:create_product",a,function(a){var d=c(this),f=d.closest(".stipple-new-dot-container");
d.data("stipple-mode","createProduct");c(".stipple-autocomplete-box:visible").stippleDisappear(0,function(){f.stipplePlaceNewDotContainer(a)});d.find(".stipple-new-dot-save-button").val("Preview").show().siblings(".stipple-new-dot-edit-button").hide().end().end().find(".stipple-product-fields").hide().filter(".stipple-product-specific-fields").show()}).on("stipple:mode:preview_product",a,function(a,d,f){a=c(this);a.data("stipple-mode","previewProduct");f||(f=h.autocomplete_item_product({data:d}));
a.find('[name="dot[product_id]"]').val(d.id).end().find(".stipple-selected-product").find("ul").empty().append(f).end().end().find(".stipple-new-dot-save-button").val("Save").show().focus().siblings(".stipple-new-dot-edit-button").hide().end().end().find(".stipple-product-fields").hide().filter(".stipple-selected-product").show()}).on("stipple:mode:show_product",a,function(a,d){var f=c(this);f.trigger("stipple:mode:preview_product",d);f.find(".stipple-new-dot-save-button").hide().blur();f.data("stipple-mode",
"showProduct")}).on("stipple:mode:preview_new_product",a,function(){var a=c(this),d,f,g,e;a.data("stipple-mode","previewNewProduct");a.find("[data-stipple-empty-val]").each(function(){var a=c(this);a.attr("data-stipple-empty-val")===a.val()&&a.val("")});f=a.serializeArray();d=function(a){var b=c.grep(f,function(b){return b.name===a});return b.length?b[0].value:""};g=d("product[price]");g.length&&(e=c("#stipple-new-product-currency option:selected").data("stipple-currency-symbol"),g=e+g);d={image_url:d("product[image_url]"),
name:d("product[name]"),brand:d("product[brand]"),price:g};d=h.autocomplete_item_product({data:d});a.find(".stipple-new-dot-save-button, .stipple-new-dot-edit-button").show().filter(".stipple-new-dot-save-button").val("Save").focus().end().end().find(".stipple-product-fields").hide().filter(".stipple-selected-product").empty().append(d).show()});(function(){a=".stipple-new-info-dot-form";e.on("submit",a,function(a){var d=c(this),f;switch(d.data("stipple-mode")){case "fetch_link":break;case "preview_unlinked_dot":case "preview_linked_dot":a.stopImmediatePropagation();
c("[data-stipple-empty-val]").blur();a=d.find('[name="dot[link]"]');f=d.data("stipple-saved-link");d.removeData("stipple-saved-link");if(a.is(".stipple-empty-input")||""===a.val()||f===a.val()){d.trigger("stipple:real_submit");break}else d.trigger("stipple:mode:fetch_link",a.val());break;default:a.stopImmediatePropagation(),a=d.find('input[name="dot[link]"]'),a.is(".stipple-empty-input")||(f=a.val()),!f||!f.length?d.trigger("stipple:real_submit"):/^(?:https?:\/\/|@)/.test(f)?d.trigger("stipple:mode:fetch_link",
f):(a=d.find('input[name="dot[title]"]:not(.stipple-empty-input)').val(),d.trigger("stipple:mode:preview_unlinked_dot",[null,a]))}return!1}).on("stipple:mode:default",a,function(){var a=c(this);a.find(".stipple-link-previews").hide().empty().end().find(".stipple-default-empty").empty().end().find(".stipple-default-hide").hide().siblings(".stipple-default-show").show();return a}).on("stipple:mode:fetch_link",a,function(a,d){var f=c(this),g=f.find(".stipple-fetching-link");f.data("stipple-mode","fetch_link");
d=d||f.find('[name="dot[link]"]').val();c.ajax({url:s+C+"/external_embeds/message_handler",dataType:t?"jsonp":"json",data:{act:"link:fetch",url:d},beforeSend:function(){c(".stipple-link-previews").hide().empty();g.show()},success:function(a){g.hide();a.data&&a.data.data?f.trigger("stipple:mode:preview_linked_dot",[a.data.data.url,a.data.data]):f.trigger("stipple:mode:preview_unlinked_dot",d)},error:function(){g.hide();f.trigger("stipple:mode:preview_unlinked_dot",d)}});return f}).on("stipple:mode:preview_unlinked_dot",
a,function(a,d,f){a=c(this);var g=a.find('[name="dot[title]"]'),e=a.closest(".stipple-new-dot-container");a.data("stipple-mode","preview_unlinked_dot");g.parent().show();f&&f.length&&g.focus().val(f).blur();a.find(".stipple-dot-start-fields").hide();e.stipplePlaceNewDotContainer({pageX:e.offset().left-30,pageY:e.offset().top+e.height()/5});a.data("stipple-saved-link",d);return a}).on("stipple:mode:preview_linked_dot",a,function(a,d,f){a=c(this);var e=a.find('[name="dot[title]"]'),l=a.find('[name="dot[note]"]'),
k=a.closest(".stipple-new-dot-container");a.data("stipple-mode","preview_linked_dot");e.parent().show();f&&(f.title&&f.title.length)&&e.focus().val(f.title).blur();f&&(f.note&&f.note.length)&&l.focus().val(f.note).blur();a.find(".stipple-dot-start-fields").hide().end().find(".stipple-info-preview").empty().hide();d&&(a.data("stipple-saved-link",d),a.find('[name="dot[link]"]').val(d));f&&(f.image&&(d=new Image,d.onload=function(){k.stipplePlaceNewDotContainer({pageX:k.offset().left-30,pageY:k.offset().top+
k.height()/5})},d.src=f.image),c.extend(f,{staticHostname:"//stipple.cachefly.net/production",max_width:250}),f=h["link_template_"+f.name.toLowerCase()]?h["link_template_"+f.name.toLowerCase()](f):h.link_template(f),c(".stipple-link-previews").empty().append(f).show(),k.stipplePlaceNewDotContainer({pageX:k.offset().left-30,pageY:k.offset().top+k.height()/5}));return a})})();a=".stipple-new-dot-forms .stipple-form";e.on("submit",a,function(){var a=c(this),d=a.closest(".stipple-new-dot-container");
if(a.is(".stipple-new-product-dot-form")&&d.find(".stipple-autocomplete-box:visible").length)return!1;a.trigger("stipple:real_submit")}).on("stipple:real_submit",a,function(){var a=c(this),d,e;e=a.closest(".stipple-new-dot-container");d=e.data("wrapper");if(d.data("disableForms"))return!1;d.stippleDisableForms();a.find("[data-stipple-empty-val]").each(function(){var a=c(this);a.attr("data-stipple-empty-val")===a.val()&&a.val("")});a=a.serialize();a+="&act="+encodeURIComponent("edit"===e.data("stippleMode")?
"dot:update":"dot:create");a+="&dom_id="+d.attr("data-stipple-dom-id");e.data("dotData")&&(a+="&id="+e.data("dotData").id);(d=d.data("photoData"))&&d.id&&(a+="&photo_id="+d.id);G(a);return!1});e.on("paste",'input[name="dot[link]"]',function(){var a=c(this).closest("form");setTimeout(function(){a.submit()},100);return!0});e.on("click",".stipple-link-data .stipple-edit-info-dot-link",function(){c(this).closest("form").trigger("stipple:mode:preview_linked_dot");return!1});e.on("click",".stipple-edit-info-dot-link",
function(){var a=c(this).closest("form");a.find(".stipple-link-previews").length?a.trigger("stipple:mode:preview_linked_dot"):a.trigger("stipple:mode:preview_unlinked_dot");return!1});e.on("click",".stipple-new-dot-chooser [data-stipple-new-dot-type]:not(.stipple-selected)",function(){var a=c(this);a.stippleSetDotFormType(a.attr("data-stipple-new-dot-type"))});e.on("click",".stipple-publish-cancel",function(){return!1});a="[data-stipple-empty-val]";e.on("focus",a,function(){var a=c(this);a.val()===
a.attr("data-stipple-empty-val")&&(a.val(""),a.removeClass("stipple-empty-input"))}).on("blur",a,function(){var a=c(this);""===c.trim(a.val())&&(a.val(a.attr("data-stipple-empty-val")),a.addClass("stipple-empty-input"))});(function(){var a=function(a,b,e){function h(){var b=a.val().replace(/^[%@]+/,"");c.ajax({url:s+C+"/"+n+"/"+encodeURIComponent(b),data:q,dataType:t?"jsonp":"json",beforeSend:function(){a.is(":visible")&&(k.children().hide().filter(".stipple-autocomplete-ajax-loader").show(),k.stippleAppear(function(){r.stipplePlaceNewDotContainer({pageX:r.offset().left-
30,pageY:r.offset().top+r.height()/5})}))},success:function(b){var c;b.list&&b.list.length?(c=".stipple-autocomplete-items",k.stippleNewAutoCompleteSuggestions(b.list,a.val().length,e),k.children().hide().filter(c).show(),r.stipplePlaceNewDotContainer({pageX:r.offset().left-30,pageY:r.offset().top+r.height()/5})):(c=".stipple-autocomplete-no-results",k.is(":visible")&&a.is(":visible")&&("product"===u?k.find(".stipple-autocomplete-add-product-button").show():k.find(".stipple-autocomplete-add-product-button").hide(),
k.children().hide().filter(c).show().find(".stipple-autocomplete-no-results-search-term").text(a.val()),r.stipplePlaceNewDotContainer({pageX:r.offset().left-30,pageY:r.offset().top+r.height()/5})))}})}var k=a.data("acBox"),m,n,q,p,u,r=a.closest(".stipple-new-dot-container");n=e.urlFragment;q=e.requestData;p=e.completeCallback;m=e.acBoxElement;u=e.acType;k||(k=m||a.nextAll(".stipple-autocomplete-box:first"),a.data("acBox",k),k.data("input",a),k.data("completeCallback",p));if(2>a.val().length)k.is(":visible")&&
k.stippleDisappear(),l&&(clearTimeout(l),l=null);else{m=k.find("li.stipple-selected");switch(b.keyCode){case 27:return k.is(":visible")?(k.stippleDisappear(function(){r.stipplePlaceNewDotContainer({pageX:r.offset().left-30,pageY:r.offset().top+r.height()/5})}),!1):!0;case 38:return a.stippleUpArrowPressed(),!1;case 40:return a.stippleDownArrowPressed(),!1;case 13:return!1;case 9:if(m.is(".stipple-autocomplete-add-product"))return 9===b.keyCode;m.length&&p(a,m);k.stippleDisappear(function(){r.stipplePlaceNewDotContainer({pageX:r.offset().left-
30,pageY:r.offset().top+r.height()/5})});return 9===b.keyCode}l&&(clearTimeout(l),l=null);l=setTimeout(h,1E3);return!0}};c("input.stipple-product-autocomplete").live("keyup keydown",function(d){var e;if("keyup"===d.type&&9!==d.keyCode||"keydown"===d.type&&9===d.keyCode)return c(this),e={},STIPPLE.entity_id&&(e.entity_id=STIPPLE.entity_id),a(c(this),d,{urlFragment:"product_ac",requestData:e,acBoxElement:c(this).closest("form").find(".stipple-autocomplete-box:last"),acTemplate:"autocomplete_item_product",
acType:"product",completeCallback:function(a,b){var c=b.data("autocomplete");a.closest("form").trigger("stipple:mode:preview_product",c,b.clone())}})})})();a=".stipple-autocomplete-box";e.on("focusin",a,function(a){c(this).data("stipple-focused",!0)}).on("focusout",a,function(a){c(this).removeData("stipple-focused")});a=".stipple-autocomplete-item";e.on("mouseenter",a,function(){c(this).addClass("stipple-selected")}).on("mouseleave",a,function(){c(this).removeClass("stipple-selected")}).on("click",
".stipple-autocomplete-box "+a,function(){var a=c(this),d=a.closest(".stipple-autocomplete-box");a.is(".stipple-autocomplete-add-product")||(d.data("completeCallback")(d.data("input"),a),d.stippleDisappear());return!1});e.on("click",".stipple-autocomplete-add-product-button",function(a){c(".stipple-new-dot-container").find(".stipple-new-product-dot-form").trigger("stipple:mode:create_product");return!1});e.on("submit",".stipple-form",function(){return!1});a=".stipple-call-to-action";e.on("click",
a,function(){var a=c(this),d=a.stippleWrapper().data("stipple-metadataBox");a.toggleClass("stipple-dot-type-close");d.length&&d.toggleClass("stipple-sticky");return!1}).on("mouseenter",a,function(){var a=c(this).stippleWrapper(),d=a.offset(),e;(e=a.data("stipple-metadataBox"))?e.data("removeTimer")&&(clearTimeout(e.data("removeTimer")),e.removeData("removeTimer")):(e=a.data("photoData"),e=c(h.metadata_box({photo:e,metadata:e.metadata,externalImgPath:"//stipple.cachefly.net/production/external/",JST:h})),
a.data("stipple-metadataBox",e),e.data("stipple-wrapper",a),e.appendTo("body"));e.stipplePlaceContainer({pageX:d.left+a.width()-e.width()-(w?80:65),pageY:d.top+(w?55:40)});y("photo:see-info",{photo_id:a.data("photoData").id,prototype_photo_id:a.data("photoData").prototype_image_id,photo_copy_group_id:a.data("photoData").photo_copy_group_id,photo_url:a.data("toolbarData").photoUrl,account_id:a.data("photoData").entity_type+":"+a.data("photoData").entity_id});return!1}).on("mouseleave",a,function(){var a=
c(this),d;if(a.hasClass("stipple-dot-type-close"))return!1;a=a.stippleWrapper().data("stipple-metadataBox");d=I(a);a.data("removeTimer",d);return!1});a=".stipple-metadata-box";e.on("mouseenter",a,function(){var a=c(this);a.data("stipple-wrapper").trigger("mouseleave");a.data("removeTimer")&&(clearTimeout(a.data("removeTimer")),a.removeData("removeTimer"))}).on("mouseleave",a,function(){var a=c(this),d;if(a.hasClass("stipple-sticky"))return!0;d=I(a);a.data("removeTimer",d)})};V=function(){var e=function(){for(var a=
window._stippleq,b;a.length;)b=a.shift(),STIPPLE[b[0]].apply(this,b.slice(1))};c(function(){c("meta#stipple-loaded").length||c('<meta id="stipple-loaded" property="stipple:loaded" content="true">').appendTo("head");var a=window._stippleq;c(h.external_css({externalImgPath:"//stipple.cachefly.net/production/external/"})).appendTo("head");c(h.external_css_ie({})).appendTo("head");c(h.external_css_ie7({})).appendTo("head");fa();a&&(a.proto_push=a.push,a.push=function(a){var c=Array.prototype.slice.call(a,
0);STIPPLE[c[0]].apply(this,c.slice(1));e();return a});a&&a.length?e():T(ca());ga();w?ia():ha();ea()})};W=function(e,a){var b,d,f;a&&"object"===typeof a&&((b=a.selector)?(b="string"===typeof b?c(b+":not(.stipple-nowrap)"):b,X&&!b.length&&(b=c('img[alt^="stippled-photo-"]:not(.stipple-nowrap)'),b.each(function(){var a=c(this),b;b=a.attr("alt").replace("stippled-photo-","");a.attr("data-stipple-photo-id",b)}))):(d=parseInt(a.minWidth,10)||200,f=parseInt(a.minHeight,10)||200,b=c("img").not('.stipple-nowrap, .stipple-embed, [src*="googleapis.com"], [src*="maps.gstatic.com"]').filter(function(){var a=
c(this),b;b=parseInt(a.getRealDimension("width"),10);a=parseInt(a.getRealDimension("height"),10);return b>=d&&a>=f}).map(function(){var a=c(this);return a.parent().is("a")?a.parent().get(0):this})),a.beforeAll&&a.beforeAll(b));b.addClass("stippleit-sid-"+e.id);O=a.afterWrap;P=a.afterRecall;T(b.map(function(){return c(this)}),a.user_filter)};STIPPLE.addCallbacks=function(e,a){c.each(a,function(a,c){STIPPLE.callbacks[e][a].register(c)})};STIPPLE.load=function(e,a){a||(a={});"string"===typeof e&&(e=
{id:e,type:"Site"});STIPPLE.loaded_entity&&!a.forceEntityLoad&&(STIPPLE.loaded_entity.type!==e.type||STIPPLE.loaded_entity.id!==e.id)?"object"===typeof console&&console.log&&console.log("Stipple received a message to load "+e.type+"|"+e.id+", but already has loaded "+STIPPLE.loaded_entity.type+"|"+STIPPLE.loaded_entity.id):(STIPPLE.loaded_entity=e,a.hasOwnProperty("useJSONP")&&(t=a.useJSONP),a.hasOwnProperty("showPhotoActions")&&(B=a.showPhotoActions),a.hasOwnProperty("plugin")&&(E=a.plugin),Y="boolean"===
typeof a.showCTA?a.showCTA:!0,a.hasOwnProperty("productAlwaysVisible")&&(F=a.productAlwaysVisible),a.hasOwnProperty("correctRelativeMargin")&&(A=a.correctRelativeMargin),a.hasOwnProperty("squelchDots")&&(p=a.squelchDots),a.hasOwnProperty("fallbackToAltIfMissingId")&&(X=a.fallbackToAltIfMissingId),K="boolean"===typeof a.showMobileDotsByDefault?a.showMobileDotsByDefault:!1,"undefined"===typeof c?setTimeout(function(){STIPPLE.load(e,a)},40):"complete"===document.readyState?W(e,a):c(function(){N()&&"complete"!==
document.readyState?setTimeout(arguments.callee,100):W(e,a)}))};M=/\bSafari\b/.test(navigator.userAgent)?D.utf8Encode(location.href):location.href;D.isMobileBrowser()&&(w=!0,n=23);(function(){var e,a;"undefined"!==typeof jQuery&&"1.8.2"===jQuery.fn.jquery?(c=jQuery.sub(),V(c)):(e=document.createElement("script"),e.src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js",document.documentElement.getElementsByTagName("HEAD")[0].appendChild(e),a=setInterval(function(){"undefined"!==typeof jQuery&&
"1.8.2"===jQuery.fn.jquery&&(clearInterval(a),c=jQuery.noConflict(!0),aa(c)&&V(c))},25))})()}());
